if(typeof(stlib)=="undefined"){var stlib={}}if(!stlib.functions){stlib.functions=[];stlib.functionCount=0}stlib.global={};stlib.global.hash=document.location.href.split("#");stlib.global.hash.shift();stlib.global.hash=stlib.global.hash.join("#");stlib.dynamicOn=true;stlib.debugOn=false;stlib.debug={count:0,messages:[],debug:function(b,a){if(a&&(typeof console)!="undefined"){console.log(b)}stlib.debug.messages.push(b)},show:function(a){for(message in stlib.debug.messages){if((typeof console)!="undefined"){if(a){/ERROR/.test(stlib.debug.messages[message])?console.log(stlib.debug.messages[message]):null}else{console.log(stlib.debug.messages[message])}}}},showError:function(){stlib.debug.show(true)}};var _$d=function(a){stlib.debug.debug(a,stlib.debugOn)};var _$d0=function(){_$d(" ")};var _$d_=function(){_$d("___________________________________________")};var _$d1=function(a){_$d(_$dt()+"| "+a)};var _$d2=function(a){_$d(_$dt()+"|  * "+a)};var _$de=function(a){_$d(_$dt()+"ERROR: "+a)};var _$dt=function(){var b=new Date();var d=b.getHours();var a=b.getMinutes();var c=b.getSeconds();return d+":"+a+":"+c+" > "};stlib.validate={regexes:{notEncoded:/(%[^0-7])|(%[0-7][^0-9a-f])|["{}\[\]\<\>\\\^`\|]/gi,tooEncoded:/%25([0-7][0-9a-f])/gi,publisher:/^(([a-z]{2}(-|\.))|)[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,url:/^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,fpc:/^[0-9a-f]{7}-[0-9a-f]{11}-[0-9a-f]{7,8}-[0-9]*$/i,sessionID:/^[0-9]*\.[0-9a-f]*$/i,title:/.*/,description:/.*/,buttonType:/^(chicklet|vcount|hcount|large|custom|button|)$/,comment:/.*/,destination:/.*/,source:/.*/,image:/(^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))|^$/i,sourceURL:/^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i,sharURL:/(^(http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))|^$/i}};stlib.html={encode:function(a){if(stlib.html.startsWith(a,"http")){return String(a).replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else{return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},startsWith:function(a,b){return(a.match("^"+b)==b)}};stlib.util={getWindowDoc:function(){return window.document}};var tpcCookiesEnableCheckingDone=false;var tpcCookiesEnabledStatus=true;stlib.cookie={setCookie:function(d,n,q){var c=(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1);var b=(navigator.userAgent.indexOf("MSIE")!=-1);if(c||b){var s=(q)?q*24*60*60:0;var k=document.createElement("div");k.setAttribute("id",d);k.setAttribute("type","hidden");document.body.appendChild(k);var a=document.getElementById(d),e=document.createElement("form");try{var m=document.createElement('<iframe name="'+d+'" ></iframe>')}catch(l){m=document.createElement("iframe")}m.name=d;m.src="javascript:false";m.style.display="none";a.appendChild(m);e.action=(("https:"==document.location.protocol)?"https://sharethis.com/":"http://sharethis.com/")+"account/setCookie.php";e.method="POST";var j=document.createElement("input");j.setAttribute("type","hidden");j.setAttribute("name","name");j.setAttribute("value",d);e.appendChild(j);var r=document.createElement("input");r.setAttribute("type","hidden");r.setAttribute("name","value");r.setAttribute("value",n);e.appendChild(r);var p=document.createElement("input");p.setAttribute("type","hidden");p.setAttribute("name","time");p.setAttribute("value",s);e.appendChild(p);e.target=d;a.appendChild(e);e.submit()}else{if(q){var h=new Date();h.setTime(h.getTime()+(q*24*60*60*1000));var f="; expires="+h.toGMTString()}else{var f=""}var g=d+"="+escape(n)+f;g+="; domain="+escape(".sharethis.com")+";path=/";document.cookie=g}},setTempCookie:function(d,e,f){if(f){var c=new Date();c.setTime(c.getTime()+(f*24*60*60*1000));var a="; expires="+c.toGMTString()}else{var a=""}var b=d+"="+escape(e)+a;b+="; domain="+escape(".sharethis.com")+";path=/";document.cookie=b},getCookie:function(b){var a=document.cookie.match("(^|;) ?"+b+"=([^;]*)(;|$)");if(a){return(unescape(a[2]))}else{return false}},deleteCookie:function(d){var l="/";var k=".sharethis.com";document.cookie=d.replace(/^\s+|\s+$/g,"")+"="+((l)?";path="+l:"")+((k)?";domain="+k:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT";var c=(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1);var b=(navigator.userAgent.indexOf("MSIE")!=-1);if(c||b){var g=document.createElement("div");g.setAttribute("id",d);g.setAttribute("type","hidden");document.body.appendChild(g);var a=document.getElementById(d),e=document.createElement("form");try{var j=document.createElement('<iframe name="'+d+'" ></iframe>')}catch(h){j=document.createElement("iframe")}j.name=d;j.src="javascript:false";j.style.display="none";a.appendChild(j);e.action=(("https:"==document.location.protocol)?"https://sharethis.com/":"http://sharethis.com/")+"account/deleteCookie.php";e.method="POST";var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name","name");f.setAttribute("value",d);e.appendChild(f);e.target=d;a.appendChild(e);e.submit()}},deleteAllSTCookie:function(){var d=document.cookie;d=d.split(";");for(var f=0;f<d.length;f++){var c=d[f];c=c.split("=");if(!/st_optout/.test(c[0])){var e=c[0];var h="/";var g=".edge.sharethis.com";document.cookie=e+"=;path="+h+";domain="+g+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}}},setFpcCookie:function(a,g){var c=new Date;var j=c.getFullYear();var f=c.getMonth()+9;var h=c.getDate();var d=a+"="+escape(g);if(j){var b=new Date(j,f,h);d+="; expires="+b.toGMTString()}var e=stlib.cookie.getDomain();d+="; domain="+escape(e)+";path=/";document.cookie=d},getFpcCookie:function(b){var a=document.cookie.match("(^|;) ?"+b+"=([^;]*)(;|$)");if(a){return(unescape(a[2]))}else{return false}},getDomain:function(){var b=document.domain.split(/\./);var a="";if(b.length>1){a="."+b[b.length-2]+"."+b[b.length-1]}return a},checkCookiesEnabled:function(){if(!tpcCookiesEnableCheckingDone){stlib.cookie.setTempCookie("STPC","yes",1);if(stlib.cookie.getCookie("STPC")=="yes"){tpcCookiesEnabledStatus=true}else{tpcCookiesEnabledStatus=false}tpcCookiesEnableCheckingDone=true;return tpcCookiesEnabledStatus}else{return tpcCookiesEnabledStatus}},hasLocalStorage:function(){try{localStorage.setItem("stStorage","yes");localStorage.removeItem("stStorage");return true}catch(a){return false}}};if(typeof(stlib.data)=="undefined"){stlib.data={bInit:false,publisherKeySet:false,pageInfo:{},shareInfo:{},resetPageData:function(){stlib.data.pageInfo.fpc="ERROR";stlib.data.pageInfo.sessionID="ERROR";stlib.data.pageInfo.hostname="ERROR";stlib.data.pageInfo.location="ERROR"},resetShareData:function(){stlib.data.shareInfo={};stlib.data.shareInfo.url="ERROR";stlib.data.shareInfo.sharURL="";stlib.data.shareInfo.buttonType="ERROR";stlib.data.shareInfo.destination="ERROR";stlib.data.shareInfo.source="ERROR"},resetData:function(){stlib.data.resetPageData();stlib.data.resetShareData()},validate:function(){var a=stlib.validate.regexes;function b(e,g){if(g!=encodeURIComponent(g)){a.notEncoded.test(g)?_$de(e+" not encoded"):null;a.tooEncoded.test(g)?_$de(e+" has too much encoding"):null}var f=a[e]?a[e].test(decodeURIComponent(g)):true;if(!f){_$de(e+" failed validation")}}var c=stlib.data.pageInfo;var d;for(d in c){b(d,c[d])}c=stlib.data.shareInfo;for(d in c){b(d,c[d])}},init:function(){if(!stlib.data.bInit){stlib.data.bInit=true;stlib.data.resetData();var g=document.location.href,c="",a="",f=[],k="",j="",d="",b="",e="",h="";f=stlib.data.getRefDataFromUrl(g);if(f.length>0){c=(typeof(f[0])!="undefined")?f[0]:"";a=(typeof(f[1])!="undefined")?f[1]:"";j=stlib.data.removeRefDataFromUrl(g);stlib.data.showModifiedUrl(j);stlib.data.set("url",j,"shareInfo")}else{k=document.referrer;f=k.replace("http://","").replace("https://","").split("/");c=f.shift();a=f.join("/");stlib.data.set("url",g,"shareInfo")}stlib.hash.init();stlib.data.set("shareHash",stlib.hash.shareHash,"pageInfo");stlib.data.set("incomingHash",stlib.hash.incomingHash,"pageInfo");if(!stlib.hash.doNotHash){d="#"+stlib.data.get("shareHash","pageInfo")}b=stlib.hash.updateParams();stlib.data.set("url",b+d,"shareInfo");if(stlib.data.publisherKeySet!=true){stlib.data.set("publisher","ur.00000000-0000-0000-0000-000000000000","pageInfo")}stlib.fpc.createFpc();stlib.data.set("fpc",stlib.fpc.cookieValue,"pageInfo");e=(new Date()).getTime().toString();h=Number(Math.random().toPrecision(5).toString().substr(2)).toString();stlib.data.set("sessionID",e+"."+h,"pageInfo");stlib.data.set("hostname",document.location.hostname,"pageInfo");stlib.data.set("location",document.location.pathname,"pageInfo");stlib.data.set("refDomain",c,"pageInfo");stlib.data.set("refQuery",a,"pageInfo")}},showModifiedUrl:function(b){if(window.history&&history.replaceState){history.replaceState(null,document.title,b)}else{if((/MSIE/).test(navigator.userAgent)){var f=0,c=window.location.hash,a=new RegExp("(&st_refDomain=?)[^&|]+"),e=new RegExp("(#st_refDomain=?)[^&|]+"),d=document.location.href;if(a.test(d)){f=c.indexOf("&st_refDomain");window.location.hash=c.substr(0,f)}else{if(e.test(d)){window.location.replace("#")}}}else{document.location.replace(b)}}},getRefDataFromUrl:function(b){var d=new RegExp("st_refDomain="),e="",c="",a=[];if(d.test(b)){e=b.match(/(st_refDomain=?)[^\&|]+/g);a.push(e[0].split("=")[1]);c=b.match(/(st_refQuery=?)[^\&|]+/g);a.push(c[0].replace("st_refQuery=",""))}return a},removeRefDataFromUrl:function(b){var e="",c="",a=new RegExp("(&st_refDomain=?)[^&|]+"),d=new RegExp("(#st_refDomain=?)[^&|]+");if(a.test(b)){e=b.replace(/\&st_refDomain=(.*)/g,"")}else{if(d.test(b)){e=b.replace(/\#st_refDomain=(.*)/g,"")}else{e=b}}return e},setPublisher:function(a){stlib.data.set("publisher",a,"pageInfo");stlib.data.publisherKeySet=true},setSource:function(c,a){var b="";if(a){if(a.toolbar){b="toolbar"+c}else{if(a.page&&a.page!="home"&&a.page!=""){b="chicklet"+c}else{b="button"+c}}}else{b=c}stlib.data.set("source",b,"shareInfo")},set:function(a,c,b){if(typeof(c)=="number"||typeof(c)=="boolean"){stlib.data[b][a]=c}else{if(typeof(c)=="undefined"||c==null){}else{stlib.data[b][a]=encodeURIComponent(decodeURIComponent(unescape(c.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")));if(a=="url"||a=="location"||a=="image"){try{stlib.data[b][a]=encodeURIComponent(decodeURIComponent(decodeURI(c.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")))}catch(d){stlib.data[b][a]=encodeURIComponent(decodeURIComponent(unescape(c.replace(/<[^<>]*>/gi," ")).replace(/%/gi,"%25")))}}}}},get:function(a,b){if(stlib.data[b]&&stlib.data[b][a]){return decodeURIComponent(stlib.data[b][a])}else{return false}},unset:function(a,b){if(stlib.data[b]&&typeof(stlib.data[b][a])!="undefined"){delete stlib.data[b][a]}}};stlib.data.resetData()}stlib.hash={doNotHash:true,hashAddressBar:false,doNotCopy:true,prefix:"sthash",shareHash:"",incomingHash:"",validChars:["1","2","3","4","5","6","7","8","9","0","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],servicePreferences:{linkedin:"param",stumbleupon:"param",bebo:"param"},hashDestination:function(b){if(b=="copy"){return"dpuf"}var c=b.substring(0,2)+b.substring(b.length-2,b.length);var a=function(d,e){if(d.charCodeAt(e)==122){return"a"}return String.fromCharCode(d.charCodeAt(e)+1)};return a(c,0)+a(c,1)+a(c,2)+a(c,3)},getHash:function(){var c=false;var b="";var d=document.location.href;d=d.split("#").shift();var a=d.split("?");if(a.length>1){a=a[1].split("&");for(arg in a){try{if(a[arg].substring(0,6)=="sthash"){c=true;b=a[arg]}}catch(e){}}if(c){return b}else{return document.location.hash.substring(1)}}else{return document.location.hash.substring(1)}},stripHash:function(a){var b=a;b=b.split("#");if(b.length>1){return b[1]}else{return""}},clearHash:function(){if(stlib.hash.validateHash(document.location.hash)){var a=document.location.href.split("#").shift();if(window.history&&history.replaceState){history.replaceState(null,document.title,a)}else{if((/MSIE/).test(navigator.userAgent)){window.location.replace("#")}else{document.location.hash=""}}}},init:function(){var b="";var a=stlib.hash.validChars.length;for(var e=0;e<8;e++){b+=stlib.hash.validChars[Math.random()*a|0]}if(stlib.hash.getHash()==""){stlib.hash.shareHash=stlib.hash.prefix+"."+b}else{var c=stlib.hash.getHash().split(".");var d=c.shift();if(d==stlib.hash.prefix||d==stlib.hash.prefix){stlib.hash.incomingHash=stlib.hash.getHash();stlib.hash.shareHash=stlib.hash.prefix+"."+c.shift()+"."+b}else{stlib.hash.shareHash=stlib.hash.prefix+"."+b}}if(!stlib.hash.doNotHash&&stlib.hash.hashAddressBar){if(document.location.hash==""||stlib.hash.validateHash(document.location.hash)){if(window.history&&history.replaceState){history.replaceState(null,"ShareThis","#"+stlib.hash.shareHash+".dpbs")}else{if((/MSIE/).test(navigator.userAgent)){window.location.replace("#"+stlib.hash.shareHash+".dpbs")}else{document.location.hash=stlib.hash.shareHash+".dpbs"}}}}else{stlib.hash.clearHash()}if(!stlib.hash.doNotHash&&!stlib.hash.doNotCopy){stlib.hash.copyPasteInit()}stlib.hash.copyPasteLog()},checkURL:function(){var b=stlib.data.get("destination","shareInfo");var f=stlib.hash.updateParams(b);var d="."+stlib.hash.hashDestination(b);stlib.hash.updateDestination(d);if(!stlib.hash.doNotHash&&typeof(stlib.data.pageInfo.shareHash)!="undefined"){var c=stlib.data.get("url","shareInfo");var g=stlib.hash.stripHash(c);if(stlib.hash.validateHash(g)||g==""){if(typeof(stlib.hash.servicePreferences[b])!="undefined"){if(stlib.hash.servicePreferences[b]=="param"){_$d1("Don't use hash, use params");_$d2(f);if(f.split("?").length>1){var e=f.split("?")[1].split("&");var h=false;for(var a=0;a<e.length;a++){if(e[a].split(".")[0]=="sthash"){h=true}}if(h){stlib.data.set("url",f,"shareInfo")}else{stlib.data.set("url",f+"&"+stlib.data.pageInfo.shareHash,"shareInfo")}}else{stlib.data.set("url",f+"?"+stlib.data.pageInfo.shareHash,"shareInfo")}if(b=="linkedin"){if(stlib.data.get("sharURL","shareInfo")!=""){stlib.data.set("sharURL",stlib.data.get("url","shareInfo"),"shareInfo")}}}else{_$d1("Using Hash");stlib.data.set("url",f+"#"+stlib.data.pageInfo.shareHash,"shareInfo")}}else{_$d1("Not using custom destination hash type");stlib.data.set("url",f+"#"+stlib.data.pageInfo.shareHash,"shareInfo")}}}},updateParams:function(a){var f=stlib.data.get("url","shareInfo").split("#").shift();var e=/(\?)sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}/;var d=/(&)sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}/;var c=/(\?)sthash\.[a-zA-z0-9]{8}/;var b=/(&)sthash\.[a-zA-z0-9]{8}/;if(e.test(f)){f=f.replace(e,"?"+stlib.data.pageInfo.shareHash)}else{if(d.test(f)){f=f.replace(d,"&"+stlib.data.pageInfo.shareHash)}else{if(c.test(f)){f=f.replace(c,"?"+stlib.data.pageInfo.shareHash)}else{if(b.test(f)){f=f.replace(b,"&"+stlib.data.pageInfo.shareHash)}}}}return f},updateDestination:function(b){var a=/sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}\.[a-z]{4}/;var c=/sthash\.[a-zA-z0-9]{8}\.[a-z]{4}/;_$d_();_$d1("Updating Destination");if(a.test(stlib.data.pageInfo.shareHash)){_$d2(stlib.data.pageInfo.shareHash.substring(0,24));stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,24)+b}else{if(c.test(stlib.data.pageInfo.shareHash)){_$d2(stlib.data.pageInfo.shareHash.substring(0,15));stlib.data.pageInfo.shareHash=stlib.data.pageInfo.shareHash.substring(0,15)+b}else{stlib.data.pageInfo.shareHash+=b}}},validateHash:function(a){var b=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}$/;var c=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-zA-z0-9]{8}\.[a-z]{4}$/;var d=/[\?#&]?sthash\.[a-zA-z0-9]{8}\.[a-z]{4}$/;var e=/[\?#&]?sthash\.[a-zA-z0-9]{8}$/;return e.test(a)||d.test(a)||c.test(a)||b.test(a)},appendHash:function(a){var b=stlib.hash.stripHash(a);if(stlib.data.pageInfo.shareHash&&(stlib.hash.validateHash(b)||b=="")){a=a.replace("#"+b,"")+"#"+stlib.data.pageInfo.shareHash}else{}return a},copyPasteInit:function(){var a=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="stcpDiv";c.style.position="absolute";c.style.top="-1999px";c.style.left="-1988px";a.appendChild(c);c.innerHTML="ShareThis Copy and Paste";var b=document.location.href.split("#").shift();var d="#"+stlib.hash.shareHash;if(document.addEventListener){a.addEventListener("copy",function(j){if(typeof(Tynt)!="undefined"){return}var h=document.getSelection();if(h.isCollapsed){return}var g=h.getRangeAt(0).cloneContents();c.innerHTML="";c.appendChild(g);if(c.textContent.trim().length==0){return}if((h+"").trim().length==0){}else{if(c.innerHTML==(h+"")||c.textContent==(h+"")){c.innerHTML=stlib.html.encode(stlib.hash.selectionModify(h))}else{c.innerHTML+=stlib.html.encode(stlib.hash.selectionModify(h,true))}}var f=document.createRange();f.selectNodeContents(c);var k=h.getRangeAt(0);h.removeAllRanges();h.addRange(f);setTimeout(function(){h.removeAllRanges();h.addRange(k)},0)},false)}else{if(document.attachEvent){}}},copyPasteLog:function(){var c=window.addEventListener?"addEventListener":"attachEvent";var b=c=="attachEvent"?"oncopy":"copy";var a=document.getElementsByTagName("body")[0];a[c](b,function(f){var d=true;stlib.data.resetShareData();stlib.data.set("url",document.location.href,"shareInfo");stlib.data.setSource("copy");stlib.data.set("destination","copy","shareInfo");stlib.data.set("buttonType","custom","shareInfo");if(typeof(Tynt)!="undefined"){stlib.data.set("result","tynt","shareInfo");stlib.logger.log("debug");d=false}if(typeof(addthis_config)!="undefined"){stlib.data.set("result","addThis","shareInfo");if(typeof(addthis_config.data_track_textcopy)=="undefined"||addthis_config.data_track_textcopy){stlib.data.set("enabled","true","shareInfo");d=false}else{stlib.data.set("enabled","false","shareInfo")}stlib.logger.log("debug")}if(d){stlib.data.set("result","pass","shareInfo");stlib.logger.log("debug")}},false)},logCopy:function(a,b){stlib.data.resetShareData();stlib.data.set("url",a,"shareInfo");stlib.data.setSource("copy");stlib.data.set("destination","copy","shareInfo");stlib.data.set("buttonType","custom","shareInfo");if(b){stlib.data.set("description",b,"shareInfo")}stlib.sharer.share()},selectionModify:function(p,m){p=""+p;_$d_();_$d1("Copy Paste");var n=/^((http|https):\/\/([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*))/i;var g=/^([a-z0-9!'\(\)\*\.\-\+:]*(\.)[a-z0-9!'\(\)\*\.\-\+:]*)((\/[a-z0-9!'\(\)\*\.\-\+:]*)*)/i;var e=/^\+?1?[\.\-\\)_\s]?[\\(]?[0-9]{3}[\.\-\\)_\s]?[0-9]{3}[\.\-_\s]?[0-9]{4}$|^[0-9]{3}[\.\-_\s]?[0-9]{4}$/;var j=/^[0-9]{3}[\.\-_\s]?[0-9]{8}$/;var l=/^[0-9]{2}[\.\-_\s]?[0-9]{4}[\.\-_\s]?[0-9]{4}$/;var c=/[\-_\.a-z0-9]+@[\-_\.a-z0-9]+\.[\-_\.a-z0-9]+/i;var f=/[\s@]/;var b=document.location.href.split("#").shift();var h="#"+stlib.hash.shareHash;var a="";var k="";var d="";if(typeof(m)=="undefined"&&((n.test(p)||g.test(p))&&!f.test(p.trim()))){_$d2("is Url");if(p.match(/#/)==null||stlib.hash.validateHash(p)){k=p.split("#")[0]+h+".dpuf";d=k}else{k=p;d=k}}else{_$d2("is Not Url");if(document.location.hash==""||(/^#$/).test(document.location.hash)||stlib.hash.validateHash(document.location.hash)){k=b+h+".dpuf"}else{k=document.location.href}d=p;if(p.length>50){a=" - See more at: "+k+"";if(!e.test(p)&&!j.test(p)&&!l.test(p)&&!c.test(p)){d+=a}}}if(p.length>140){p=p.substring(0,137)+"..."}stlib.hash.logCopy(k,p);return((m&&m==true)?a:d)}};stlib.logger={loggerUrl:(("https:"==document.location.protocol)?"https://":"http://")+"l.sharethis.com/",productArray:new Array(),version:"",lang:"en",isFpEvent:false,constructParamString:function(){var a=stlib.data.pageInfo;var c="";var b;for(b in a){if(!stlib.logger.isFpEvent&&(b=="ufa"||b=="ufb"||b=="ufc"||b=="ufd")){continue}c+=b+"="+a[b]+"&"}a=stlib.data.shareInfo;for(b in a){c+=b+"="+a[b]+"&"}return c.substring(0,c.length-1)},log:function(e,g){if(typeof(e)=="undefined"){_$de("event does not exist \nFor help, contact support@sharethis.com");return}if(stlib.data.pageInfo==null||stlib.data.shareInfo==null){_$de("stlib.logger does not have enough info to log \nFor help, contact support@sharethis.com");return}if(!stlib.data.get("url","shareInfo")){_$de("shareThisInfo.url do not exist \nFor help, contact support@sharethis.com");return}if(!stlib.data.get("sessionID","pageInfo")){_$de("sharePageInfo.sessionID do not exist \nFor help, contact support@sharethis.com");return}if(!stlib.data.get("destination","shareInfo")){if(e!="pview"){_$de("shareThisInfo.destination do not exist \nFor help, contact support@sharethis.com");return}}if(!stlib.data.get("buttonType","shareInfo")){if(e!="pview"){_$de("shareThisInfo.type do not exist \nFor help, contact support@sharethis.com");return}}if(!stlib.data.get("source","shareInfo")){_$de("shareThisInfo.source do not exist \nFor help, contact support@sharethis.com");return}if(e=="pview"){stlib.data.unset("destination","shareInfo");stlib.data.unset("buttonType","shareInfo")}else{stlib.data.unset("refDomain","pageInfo");stlib.data.unset("refQuery","pageInfo")}if(e=="pview"||e=="share"){stlib.logger.isFpEvent=true;if(stlib.stfp.screenResolutionDepthHash!="ERROR"){stlib.data.set("ufa",stlib.stfp.screenResolutionDepthHash,"pageInfo")}if(stlib.stfp.pluginsListHash!="ERROR"){stlib.data.set("ufb",stlib.stfp.pluginsListHash,"pageInfo")}if(stlib.stfp.fontsListHash!="ERROR"){stlib.data.set("ufc",stlib.stfp.fontsListHash,"pageInfo")}if(stlib.stfp.timezoneoffsetHash!="ERROR"){stlib.data.set("ufd",stlib.stfp.timezoneoffsetHash,"pageInfo")}}else{stlib.logger.isFpEvent=false}if(typeof(stlib.data.get("counter","shareInfo"))!="undefined"){var d=0;if(stlib.data.get("counter","shareInfo")){d=stlib.data.get("counter","shareInfo")}stlib.data.set("ts"+new Date().getTime()+"."+d,"","shareInfo");stlib.data.unset("counter","shareInfo")}else{stlib.data.set("ts"+new Date().getTime(),"","shareInfo")}if(e=="widget"){var b="."+stlib.hash.hashDestination(stlib.data.shareInfo.destination);stlib.hash.updateDestination(b)}var a=(e=="pview")?"pview":((e=="debug")?"cns":"log");if(e=="pview"){var f=stlib.logger.loggerUrl+a+"?event="+e+"&version="+stlib.logger.version+"&lang="+stlib.logger.lang+"&"+stlib.logger.constructParamString()}else{var f=stlib.logger.loggerUrl+a+"?event="+e+"&"+stlib.logger.constructParamString()}_$d1("Final Log Url:");_$d2(f);var c=new Image(1,1);c.src=f;c.onload=function(){return};g?g():null}};var widgetLogger={};stlib.gaLogger={configOptions:null,shareLog:function(a){if(typeof(widgetLogger.pubTracker)!="undefined"&&widgetLogger.pubTracker!=null&&typeof(widgetLogger.pubTracker._trackEvent)!="undefined"){if(stlib.gaLogger.configOptions){widgetLogger.pubTracker._trackEvent("ShareThis",a,stlib.gaLogger.configOptions.URL)}else{widgetLogger.pubTracker._trackEvent("ShareThis",a)}}if(typeof(window.postMessage)!=="undefined"&&document.referrer!==""){if(stlib.gaLogger.configOptions){parent.postMessage("ShareThis|click|"+a+"|"+stlib.gaLogger.configOptions.URL,document.referrer)}else{parent.postMessage("ShareThis|click|"+a,document.referrer)}}},initGA:function(c,a,d){stlib.gaLogger.configOptions=a;if(typeof(c)=="undefined"){_$de("tracker ID for GA required");return}if(typeof(_gat)=="undefined"){var b=(("https:"==document.location.protocol)?"https://ssl.":"http://www.")+"google-analytics.com/ga.js";stlib.scriptLoader.loadJavascript(b,function(){try{widgetLogger.ga=_gat._createTracker(c);if(typeof(widgetLogger.ga)!="undefined"&&widgetLogger.ga!==null&&typeof(widgetLogger.ga._trackEvent)!="undefined"){if(typeof(d)=="undefined"&&d!=true){widgetLogger.ga._trackPageview()}if(stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.tracking&&stlib.gaLogger.configOptions.publisherGA!==null){widgetLogger.pubTracker=_gat._createTracker(stlib.gaLogger.configOptions.publisherGA);widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)}else{if(stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.publisherGA!==null){widgetLogger.pubTracker=_gat._createTracker(stlib.gaLogger.configOptions.publisherGA);widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)}}}}catch(e){}})}else{if(typeof(widgetLogger.ga)!="undefined"&&widgetLogger.ga!==null&&typeof(widgetLogger.ga._trackEvent)!="undefined"){if(stlib.gaLogger.configOptions&&stlib.gaLogger.configOptions.tracking&&stlib.gaLogger.configOptions.publisherGA!=null){widgetLogger.pubTracker=_gat._createTracker(stlib.gaLogger.configOptions.publisherGA);widgetLogger.ga._trackEvent("PublisherGA-"+stlib.gaLogger.configOptions.tracking,stlib.gaLogger.configOptions.publisherGA,stlib.gaLogger.configOptions.publisher)}}}},gaLog:function(b,d,a,c){if(typeof(widgetLogger.ga)!="undefined"&&widgetLogger.ga!==null&&typeof(widgetLogger.ga._trackEvent)!="undefined"){widgetLogger.ga._trackEvent(b,d,a,c)}}};stlib.scriptLoader={loadJavascript:function(b,c){_$d_();_$d1("Loading JS: "+b);var a=stlib.scriptLoader;a.head=document.getElementsByTagName("head")[0];a.scriptSrc=b;a.script=document.createElement("script");a.script.setAttribute("type","text/javascript");a.script.setAttribute("src",a.scriptSrc);a.script.async=true;if(window.attachEvent&&document.all){a.script.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){c()}}}else{a.script.onload=c}a.s=document.getElementsByTagName("script")[0];a.s.parentNode.insertBefore(a.script,a.s)},loadCSS:function(b,d){_$d_();_$d1("Loading CSS: "+b);var a=stlib.scriptLoader;var c;a.head=document.getElementsByTagName("head")[0];a.cssSrc=b;a.css=document.createElement("link");a.css.setAttribute("rel","stylesheet");a.css.setAttribute("type","text/css");a.css.setAttribute("href",b);a.css.setAttribute("id",b);setTimeout(function(){d();if(!document.getElementById(b)){c=setInterval(function(){if(document.getElementById(b)){clearInterval(c);d()}},100)}},100);a.head.appendChild(a.css)}};stlib.sharer={sharerUrl:(("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/sharer.php",regAuto:new RegExp(/(.*?)_auto$/),constructParamString:function(){stlib.data.validate();stlib.hash.checkURL();var a=stlib.data.pageInfo;var c="?";var b;for(b in a){c+=b+"="+encodeURIComponent(a[b])+"&";_$d1("constructParamStringPageInfo: "+b+": "+a[b])}a=stlib.data.shareInfo;for(b in a){c+=b+"="+encodeURIComponent(a[b])+"&";_$d1("constructParamStringShareInfo: "+b+": "+a[b])}c+="ts="+new Date().getTime()+"&";return c.substring(0,c.length-1)},stPrint:function(){window.print()},sharePinterest:function(){if(stlib.data.get("image","shareInfo")==false||stlib.data.get("image","shareInfo")==null||stlib.data.get("pinterest_native","shareInfo")=="true"){if(typeof(stWidget)!="undefined"&&typeof(stWidget.closeWidget)==="function"){stWidget.closeWidget()}if(typeof(stcloseWidget)==="function"){stcloseWidget()}if(typeof(stToolbar)!="undefined"&&typeof(stToolbar.closeWidget)==="function"){stToolbar.closeWidget()}var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("charset","UTF-8");a.setAttribute("src","//assets.pinterest.com/js/pinmarklet.js?r="+Math.random()*99999999);document.body.appendChild(a)}},share:function(d,a){var c=stlib.sharer.constructParamString();_$d_();_$d1("Initiating a Share with the following url:");_$d2(stlib.sharer.sharerUrl+c);if((stlib.data.get("destination","shareInfo")=="print")||(stlib.data.get("destination","shareInfo")=="email")||(stlib.data.get("destination","shareInfo")=="pinterest"&&stlib.data.get("source","shareInfo").match(/share4xmobile/)==null&&stlib.data.get("source","shareInfo").match(/share4xpage/)==null&&stlib.data.get("source","shareInfo").match(/5xpage/)==null&&(stlib.data.get("image","shareInfo")==false||stlib.data.get("image","shareInfo")==null))||stlib.data.get("destination","shareInfo")=="snapsets"||stlib.data.get("destination","shareInfo")=="copy"||stlib.data.get("destination","shareInfo")=="plusone"||stlib.data.get("destination","shareInfo").match(stlib.sharer.regAuto)||(typeof(stlib.nativeButtons)!="undefined"&&stlib.nativeButtons.checkNativeButtonSupport(stlib.data.get("destination","shareInfo")))||(stlib.data.get("pinterest_native","shareInfo")!=false&&stlib.data.get("pinterest_native","shareInfo")!=null)){var b=new Image(1,1);b.src=stlib.sharer.sharerUrl+c;b.onload=function(){return}}else{if(typeof(a)!="undefined"&&a==true){window.open(stlib.sharer.sharerUrl+c,(new Date()).valueOf(),"scrollbars=1, status=1, height=480, width=640, resizable=1")}else{window.open(stlib.sharer.sharerUrl+c)}}d?d():null}};stlib.allServices={adfty:{title:"Adfty"},allvoices:{title:"Allvoices"},amazon_wishlist:{title:"Amazon Wishlist"},arto:{title:"Arto"},att:{title:"AT&T"},baidu:{title:"Baidu"},blinklist:{title:"Blinklist"},blip:{title:"Blip"},blogmarks:{title:"Blogmarks"},blogger:{title:"Blogger",type:"post"},buddymarks:{title:"BuddyMarks"},buffer:{title:"Buffer"},care2:{title:"Care2"},chiq:{title:"chiq"},citeulike:{title:"CiteULike"},chiq:{title:"chiq"},corkboard:{title:"Corkboard"},dealsplus:{title:"Dealspl.us"},delicious:{title:"Delicious"},digg:{title:"Digg"},diigo:{title:"Diigo"},dzone:{title:"DZone"},edmodo:{title:"Edmodo"},email:{title:"Email"},embed_ly:{title:"Embed.ly"},evernote:{title:"Evernote"},facebook:{title:"Facebook"},fark:{title:"Fark"},fashiolista:{title:"Fashiolista"},flipboard:{title:"Flipboard"},folkd:{title:"folkd.com"},foodlve:{title:"FoodLve"},fresqui:{title:"Fresqui"},friendfeed:{title:"FriendFeed"},funp:{title:"Funp"},fwisp:{title:"fwisp"},google:{title:"Google"},googleplus:{title:"Google +"},google_bmarks:{title:"Bookmarks"},google_reader:{title:"Google Reader"},google_translate:{title:"Google Translate"},hatena:{title:"Hatena"},instapaper:{title:"Instapaper"},jumptags:{title:"Jumptags"},kaboodle:{title:"Kaboodle"},kik:{title:"Kik"},linkagogo:{title:"linkaGoGo"},linkedin:{title:"LinkedIn"},livejournal:{title:"LiveJournal",type:"post"},mail_ru:{title:"mail.ru"},meneame:{title:"Meneame"},messenger:{title:"Messenger"},mister_wong:{title:"Mr Wong"},moshare:{title:"moShare"},myspace:{title:"MySpace"},n4g:{title:"N4G"},netlog:{title:"Netlog"},netvouz:{title:"Netvouz"},newsvine:{title:"Newsvine"},nujij:{title:"NUjij"},odnoklassniki:{title:"Odnoklassniki"},oknotizie:{title:"Oknotizie"},pinterest:{title:"Pinterest"},pocket:{title:"Pocket"},print:{title:"Print"},raise_your_voice:{title:"Raise Your Voice"},reddit:{title:"Reddit"},segnalo:{title:"Segnalo"},sharethis:{title:"ShareThis"},sina:{title:"Sina"},sonico:{title:"Sonico"},startaid:{title:"Startaid"},startlap:{title:"Startlap"},stumbleupon:{title:"StumbleUpon"},stumpedia:{title:"Stumpedia"},typepad:{title:"TypePad",type:"post"},tumblr:{title:"Tumblr"},twitter:{title:"Twitter"},viadeo:{title:"Viadeo"},virb:{title:"Virb"},vkontakte:{title:"Vkontakte"},voxopolis:{title:"VOXopolis"},whatsapp:{title:"WhatsApp"},weheartit:{title:"We Heart It"},wordpress:{title:"WordPress",type:"post"},xerpi:{title:"Xerpi"},xing:{title:"Xing"},yammer:{title:"Yammer"}};stlib.allOauthServices={twitter:{title:"Twitter"},linkedIn:{title:"LinkedIn"},facebook:{title:"Facebook"}};stlib.allNativeServices={fblike:{title:"Facebook Like"},fbrec:{title:"Facebook Recommend"},fbsend:{title:"Facebook Send"},fbsub:{title:"Facebook Subscribe"},foursquaresave:{title:"Foursquare Save"},foursquarefollow:{title:"Foursquare Follow"},instagram:{title:"Instagram Badge"},plusone:{title:"Google +1"},pinterestfollow:{title:"Pinterest Follow"},twitterfollow:{title:"Twitter Follow"},youtube:{title:"Youtube Subscribe"}};stlib.allDeprecatedServices={google_bmarks:{title:"Google Bookmarks"},yahoo_bmarks:{title:"Yahoo Bookmarks"}};stlib.allOtherServices={copy:{title:"Copy Paste"},sharenow:{title:"ShareNow"},sharenow_auto:{title:"Frictionless Sharing"},fbunlike:{title:"Facebook Unlike"}};var _all_services=stlib.allServices;stlib.sharer.oauth={callbacks:[],callbackCounter:1,API_Url:(("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php",API_destinations:{facebook:"postFacebook",facebookfriend:"postFacebookUserWall",twitter:"postTwitter",yahoo:"postYahooPulse",linkedin:"postLinkedIn",blank:"postOauthError"},share:function(f){var e=stlib.sharer.oauth.API_destinations[stlib.data.shareInfo.destination];e=e?e:stlib.sharer.oauth.API_destinations.blank;if(stlib.data.shareInfo.destination=="facebookfriend"){stlib.data.shareInfo.destination="facebook"}var d=stlib.sharer.constructParamString();var c=stlib.sharer.oauth.callbackCounter+"ST";stlib.sharer.oauth.callbackCounter++;stlib.sharer.oauth.callbacks[c]=f;var a=stlib.cookie.getCookie("ShareUT");var b=stlib.cookie.getCookie("__stid");e=stlib.sharer.oauth.API_Url+d+"&service="+e+"&cb=stlib.sharer.oauth.callbacks['"+c+"']";_$d_();_$d1("Initiating an Oauth Share with the following url:");_$d2(e);stlib.scriptLoader.loadJavascript(e,function(){})}};stlib.browser={iemode:null,firefox:null,firefoxVersion:null,safari:null,chrome:null,opera:null,windows:null,mac:null,ieFallback:(/MSIE [6789]/).test(navigator.userAgent),init:function(){var a=navigator.userAgent.toString().toLowerCase();if(/msie|trident/i.test(a)){if(document.documentMode){stlib.browser.iemode=document.documentMode}else{stlib.browser.iemode=5;if(document.compatMode){if(document.compatMode=="CSS1Compat"){stlib.browser.iemode=7}}}}stlib.browser.firefox=((a.indexOf("firefox")!=-1)&&(typeof InstallTrigger!=="undefined"))?true:false;stlib.browser.firefoxVersion=(a.indexOf("firefox/5.0")!=-1||a.indexOf("firefox/9.0")!=-1)?false:true;stlib.browser.safari=(a.indexOf("safari")!=-1&&a.indexOf("chrome")==-1)?true:false;stlib.browser.chrome=(a.indexOf("safari")!=-1&&a.indexOf("chrome")!=-1)?true:false;stlib.browser.opera=(window.opera||a.indexOf(" opr/")>=0)?true:false;stlib.browser.windows=(a.indexOf("windows")!=-1)?true:false;stlib.browser.mac=(a.indexOf("macintosh")!=-1)?true:false},getIEVersion:function(){return stlib.browser.iemode},isFirefox:function(){return stlib.browser.firefox},firefox8Version:function(){return stlib.browser.firefoxVersion},isSafari:function(){return stlib.browser.safari},isWindows:function(){return stlib.browser.windows},isChrome:function(){return stlib.browser.chrome},isOpera:function(){return stlib.browser.opera},isMac:function(){return stlib.browser.mac}};stlib.browser.init();stlib.browser.mobile={mobile:false,uagent:null,android:null,iOs:null,silk:null,windows:null,kindle:null,url:null,sharCreated:false,sharUrl:null,isExcerptImplementation:false,iOsVer:0,init:function(){this.uagent=navigator.userAgent.toLowerCase();if(this.isAndroid()){this.mobile=true}else{if(this.isIOs()){this.mobile=true}else{if(this.isSilk()){this.mobile=true}else{if(this.isWindowsPhone()){this.mobile=true}else{if(this.isKindle()){this.mobile=true}}}}}},isMobile:function isMobile(){return this.mobile},isAndroid:function(){if(this.android===null){this.android=this.uagent.indexOf("android")>-1}return this.android},isKindle:function(){if(this.kindle===null){this.kindle=this.uagent.indexOf("kindle")>-1}return this.kindle},isIOs:function isIOs(){if(this.iOs===null){this.iOs=(this.uagent.indexOf("ipad")>-1)||(this.uagent.indexOf("ipod")>-1)||(this.uagent.indexOf("iphone")>-1)}return this.iOs},isSilk:function(){if(this.silk===null){this.silk=this.uagent.indexOf("silk")>-1}return this.silk},getIOSVersion:function(){if(this.isIOs()){this.iOsVer=this.uagent.substr((this.uagent.indexOf("os "))+3,5).replace(/\_/g,".")}return this.iOsVer},isWindowsPhone:function(){if(this.windows===null){this.windows=this.uagent.indexOf("windows phone")>-1}return this.windows},handleForMobileFriendly:function(j,c,k){if(!this.isMobile()){return false}if(typeof(stLight)==="undefined"){stLight={};stLight.publisher=c.publisher;stLight.sessionID=c.sessionID;stLight.fpc=""}var s=(typeof(j.title)!=="undefined")?j.title:encodeURIComponent(document.title);var d=(typeof(j.url)!=="undefined")?j.url:document.URL;var t=(c.short_url!=""&&c.short_url!=null)?c.short_url:"";if(c.service=="sharethis"){var s=(typeof(j.title)!=="undefined")?j.title:encodeURIComponent(document.title);var d=(typeof(j.url)!=="undefined")?j.url:document.URL;var e="";if(typeof(j.summary)!="undefined"&&j.summary!=null){e=j.summary}var a=document.createElement("form");a.setAttribute("method","GET");a.setAttribute("action","http://edge.sharethis.com/share4x/mobile.html");a.setAttribute("target","_blank");var n={url:d,title:s,summary:e,destination:c.service,publisher:stLight.publisher,fpc:stLight.fpc,sessionID:stLight.sessionID,short_url:t};if(typeof(j.image)!="undefined"&&j.image!=null){n.image=j.image}if(typeof(j.summary)!="undefined"&&j.summary!=null){n.desc=j.summary}if(typeof(k)!="undefined"&&typeof(k.exclusive_services)!="undefined"&&k.exclusive_services!=null){n.exclusive_services=k.exclusive_services}if(typeof(c.exclusive_services)!="undefined"&&c.exclusive_services!=null){n.exclusive_services=c.exclusive_services}if(typeof(k)!="undefined"&&typeof(k.services)!="undefined"&&k.services!=null){n.services=k.services}if(typeof(c.services)!="undefined"&&c.services!=null){n.services=c.services}var g=c;if(typeof(k)!="undefined"){g=k}if(typeof(g.doNotHash)!="undefined"&&g.doNotHash!=null){n.doNotHash=g.doNotHash}if(typeof(j.via)!="undefined"&&j.via!=null){n.via=j.via}n.service=c.service;n.type=c.type;if(stlib.data){var q=stlib.json.encode(stlib.data.pageInfo);var p=stlib.json.encode(stlib.data.shareInfo);if(stlib.browser.isFirefox()&&!stlib.browser.firefox8Version()){q=encodeURIComponent(encodeURIComponent(q));p=encodeURIComponent(encodeURIComponent(p))}else{q=encodeURIComponent(q);p=encodeURIComponent(p)}n.pageInfo=q;n.shareInfo=p}for(var r in n){var f=document.createElement("input");f.setAttribute("type","hidden");f.setAttribute("name",r);f.setAttribute("value",n[r]);a.appendChild(f)}document.body.appendChild(a);a.submit();return true}if(c.service=="email"){var b,m=0;stlib.browser.mobile.url=d;if(stlib.browser.mobile.sharUrl==null){stlib.browser.mobile.createSharOnPage()}var h=(t!="")?t+"%0A%0a":"{sharURLValue}%0A%0a";if((typeof(j.summary)!="undefined")&&j.summary!=null){h+=j.summary+"%0A%0a"}h+="Sent using ShareThis";var l="mailto:?";l+="subject="+s;l+="&body="+h;b=setInterval(function(){if(stlib.browser.mobile.sharUrl!=null){clearInterval(b);window.location.href=l.replace("{sharURLValue}",stlib.browser.mobile.sharUrl)}if(m>500){clearInterval(b);window.location.href=l.replace("{sharURLValue}",stlib.browser.mobile.sharUrl)}m++},100)}return true},createSharOnPage:function(){if(stlib.browser.mobile.url!==""&&stlib.browser.mobile.url!==" "&&stlib.browser.mobile.url!==null&&!stlib.browser.mobile.sharCreated){var a=["return=json","cb=stlib.browser.mobile.createSharOnPage_onSuccess","service=createSharURL","url="+encodeURIComponent(stlib.browser.mobile.url)];a=a.join("&");stlib.scriptLoader.loadJavascript((("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+a,function(){})}},createSharOnPage_onSuccess:function(a){if(a.status=="SUCCESS"){stlib.browser.mobile.sharCreated=true;stlib.browser.mobile.sharUrl=a.data.sharURL}else{stlib.browser.mobile.sharUrl=stlib.browser.mobile.url}}};stlib.browser.mobile.init();stlib.json={c:{"\b":"b","\t":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\","/":"/"},d:function(a){return a<10?"0".concat(a):a},e:function(c,f,e){e=eval;delete eval;if(typeof eval==="undefined"){eval=e}f=eval(""+c);eval=e;return f},i:function(c,b,a){return 1*c.substr(b,a)},p:["","000","00","0",""],rc:null,rd:/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}$/,rs:/(\x5c|\x2F|\x22|[\x0c-\x0d]|[\x08-\x0a])/g,rt:/^([0-9]+|[0-9]+[,\.][0-9]{1,3})$/,ru:/([\x00-\x07]|\x0b|[\x0e-\x1f])/g,s:function(a,b){return"\\".concat(stlib.json.c[b])},u:function(a,b){var c=b.charCodeAt(0).toString(16);return"\\u".concat(stlib.json.p[c.length],c)},v:function(b,a){return stlib.json.types[typeof result](result)!==Function&&(a.hasOwnProperty?a.hasOwnProperty(b):a.constructor.prototype[b]!==a[b])},types:{"boolean":function(){return Boolean},"function":function(){return Function},number:function(){return Number},object:function(a){return a instanceof a.constructor?a.constructor:null},string:function(){return String},"undefined":function(){return null}},$$:function(a){function b(f,d){d=f[a];delete f[a];try{stlib.json.e(f)}catch(e){f[a]=d;return 1}}return b(Array)&&b(Object)},encode:function(){var c=arguments.length?arguments[0]:this,a,g;if(c===null){a="null"}else{if(c!==undefined&&(g=stlib.json.types[typeof c](c))){switch(g){case Array:a=[];for(var f=0,d=0,b=c.length;d<b;d++){if(c[d]!==undefined&&(g=stlib.json.encode(c[d]))){a[f++]=g}}a="[".concat(a.join(","),"]");break;case Boolean:a=String(c);break;case Date:a='"'.concat(c.getFullYear(),"-",stlib.json.d(c.getMonth()+1),"-",stlib.json.d(c.getDate()),"T",stlib.json.d(c.getHours()),":",stlib.json.d(c.getMinutes()),":",stlib.json.d(c.getSeconds()),'"');break;case Function:break;case Number:a=isFinite(c)?String(c):"null";break;case String:a='"'.concat(c.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'"');break;default:var f=0,e;a=[];for(e in c){if(c[e]!==undefined&&(g=stlib.json.encode(c[e]))){a[f++]='"'.concat(e.replace(stlib.json.rs,stlib.json.s).replace(stlib.json.ru,stlib.json.u),'":',g)}}a="{".concat(a.join(","),"}");break}}}return a},decode:function(a){if(typeof(a)=="string"){var c=null;try{if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){c=window.JSON&&window.JSON.parse?window.JSON.parse(a):(new Function("return "+a))();return c}else{return null}}catch(b){}}}};try{stlib.json.rc=new RegExp('^("(\\\\.|[^"\\\\\\n\\r])*?"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$')}catch(z){stlib.json.rc=/^(true|false|null|\[.*\]|\{.*\}|".*"|\d+|\d+\.\d+)$/}stlib.pump=function(a,c,d){var b=this;this.isIframeReady=false;this.isIframeSending=false;this.getHash=function(e){var f=e.split("#");f.shift();return f.join("#")};this.broadcastInit=function(e){this.destination=e;_$d_("---------------------");_$d1("Initiating broadcaster:");_$d(this.destination)};this.broadcastSendMessage=function(e){_$d_("---------------------");_$d1("Initiating Send:");if(this.destination===window){if(stlib.browser.ieFallback){window.location.replace(window.location.href.split("#")[0]+"#"+e);_$d2("child can't communicate with parent");return}_$d2("Iframe to publisher: "+e);parent.postMessage("#"+e,document.referrer)}else{_$d2("Publisher to Iframe: "+e);if(stlib.browser.ieFallback){if(this.destination.contentWindow){this.destination.contentWindow.location.replace(this.destination.src+"#"+e);this.isIframeSending=true}return}this.destination.contentWindow.postMessage("#"+e,this.destination.src)}};this.receiverInit=function(g,k){_$d_("---------------------");_$d1("Initiating Receiver:");_$d(g);if(stlib.browser.ieFallback){this.callback=k;this.source=g;if(g===window){window.location.replace(window.location.href.split("#")[0]+"#");this.currentIframe=window.location.hash;var f="receiver"+stlib.functionCount;stlib.functions[f]=function(m){if(""!=window.location.hash&&"#"!=window.location.hash){var l=window.location.hash;m(l);window.location.replace(window.location.href.split("#")[0]+"#")}};stlib.functionCount++;var j="callback"+stlib.functionCount;stlib.functions[j]=k;stlib.functionCount++;setInterval("stlib.functions['"+f+"'](stlib.functions['"+j+"'])",200)}else{}var h=window.addEventListener?"addEventListener":"attachEvent";var e=h=="attachEvent"?"onmessage":"message";window[h](e,function(l){if(g==window){}else{if(l.origin.indexOf("sharethis.com")!=-1){if(l.data.match(/#Pinterest Click/)){stlib.sharer.sharePinterest()}if(l.data.match(/#Print Click/)){stlib.sharer.stPrint()}}}},false);return}var h=window.addEventListener?"addEventListener":"attachEvent";var e=h=="attachEvent"?"onmessage":"message";window[h](e,function(l){if(g==window){_$d1("arrived in iframe from:");_$d(l.origin);if(l.data.match(/#fragmentPump/)||l.data.match(/#Buttons Ready/)||l.data.match(/#Widget Ready/)||l.data.indexOf("#light")==0||l.data.indexOf("#widget")==0||l.data.indexOf("#popup")==0||l.data.indexOf("#show")==0||l.data.indexOf("#init")==0||l.data.indexOf("#test")==0||l.data.indexOf("#data")==0){k(l.data)}}else{if(l.origin.indexOf("sharethis.com")!=-1){_$d1("arrived in parent from:");_$d(l.origin);if(l.data.match(/#fragmentPump/)||l.data.match(/#Buttons Ready/)||l.data.match(/#Widget Ready/)||l.data.indexOf("#light")==0||l.data.indexOf("#widget")==0||l.data.indexOf("#popup")==0||l.data.indexOf("#show")==0||l.data.indexOf("#init")==0||l.data.indexOf("#test")==0||l.data.indexOf("#data")==0){k(l.data)}else{if(l.data.match(/#Pinterest Click/)){stlib.sharer.sharePinterest()}else{if(l.data.match(/#Print Click/)){stlib.sharer.stPrint()}}}}else{_$d1("discarded event from:");_$d(l.origin)}}},false)};this.broadcastInit(a);this.receiverInit(c,d)};var domReady=false;var loginPoller=null;var accountLinkingPoller=null;var importPoller=null;var sharPoller=null;var getUserInfoTimer=null;var isSignedIn=false;var isOauthLinked=false;var fragInstance=null;var _shareToEmail=false;var _isEmailShareDone=false;var sharedServices=new Array();var failedServices=new Array();var reAuthedService="";var oAuthService="";var oAuthServiceClicked="";var oAuthGALogged=false;var _partiallyShared=null;var _shownPartial=false;var usrId="";var clearShareALInterval=null;stlib.fragmentPump={fragTimer:"",oldQS:"",callBuffer:[],initRun:false,tstArray:[],bufferArgs:[],bufferValue:[],bufferRunArgs:[],glo_jsonArray:[],glo_jsonStr:"",init:function(){if(stlib.fragmentPump.initRun===false){stlib.fragmentPump.initRun=true;for(var b=0;b<arguments.length;b++){var a=b+1;if(arguments[b]!=""&&arguments[b]!=" "){stlib.setupWidget.addToOptionsBuffer(arguments[b])}}if(domReady===true){stlib.setupWidget.processBuffer()}stlib.fragmentPump.initRun=true}},test:function(){stlib.setupWidget.readyTest()},data:function(){_$d_();_$d1("Running data() in fragPump.js:");_$d2("Arguments: ");_$d2(arguments);for(var a=0;a<arguments.length;a++){if(arguments[a]!=""&&arguments[a]!=" "){stlib.setupWidget.addToOptionsBuffer(arguments[a])}}},basicPreInit:function(){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==false)){document.getElementById("imgCookie").src=((("https:"==document.location.protocol)?"https://ws":"http://w")+".sharethis.com/images/reskin2014/cookie.png");domUtilities.removeClassIfPresent("null","errorOverlay","sts-dn");domUtilities.addClassIfNotPresent("null","mainContainer","sts-dn");domUtilities.addClassIfNotPresent("null","signOut","sts-dn");domUtilities.addClassIfNotPresent("null","signIn","sts-dn")}else{domUtilities.addClassIfNotPresent("null","errorOverlay","sts-dn");domUtilities.removeClassIfPresent("null","mainContainer","sts-dn")}shareWidget.checkOptOut();var a=shareWidget.getConfigOptions();if(a.initWidget==false){shareWidget.initWidget()}domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")},show:function(){stlib.fragmentPump.basicPreInit();if(stlib.fragmentPump.initRun==false){return false}for(var a=0;a<arguments.length;a++){stlib.setupWidget.addToOptions(arguments[a])}return true},popup:function(){shareWidget.setGlobals("popup",true);stlib.fragmentPump.basicPreInit();clearInterval(stlib.fragmentPump.fragTimer);glo_options_popup=true;displayNum=24;for(var b=0;b<arguments.length;b++){var a=b+1;stlib.setupWidget.addToOptionsBuffer(arguments[b])}if(domReady===true){stlib.setupWidget.processBuffer()}stlib.fragmentPump.initRun=true},widget:function(){if(arguments.length){var a=arguments[0].split("=");for(var b=0;b<a.length;b+=2){switch(a[b]){case"screen":if(a[b+1]=="home"){shareWidget.resetLoadingUI();shareWidget.showHome()}else{if(a[b+1]=="send"){shareWidget.showHome()}else{clearInterval(loginPoller);loginPoller=setInterval(stUser.checkForLoginCookie,1000);if(a[b+1]=="fbhome"||a[b+1]=="twhome"||a[b+1]=="ybhome"||a[b+1]=="gbhome"){shareWidget.showHome()}}}break}}}},light:function(){stlib.fragmentPump.basicPreInit();if(stlib.fragmentPump.initRun==false){return false}var a=false;for(var b=0;b<arguments.length;b++){stlib.setupWidget.addToOptionsLight(arguments[b]);if(arguments[b].indexOf("url")==0){a=true}}shareWidget.onScreenChange(true);return true}};stlib.setupWidget={addToOptionsBuffer:function(b){var c=[];c=b.split("=");c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1]);if(c[0]!="pageInfo"&&c[0]!="shareInfo"){try{c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1])}catch(d){}}stlib.fragmentPump.tstArray.push(stlib.setupWidget.fragObj(c[0],c[1]));stlib.fragmentPump.bufferArgs.push(c[0]);stlib.fragmentPump.bufferValue.push(c[1])},checkBufferArg:function(b){var c=false;for(var a=0;a<stlib.fragmentPump.bufferRunArgs.length;a++){if(stlib.fragmentPump.bufferRunArgs[a]==b){c=true}}return c},processBuffer:function(){stlib.fragmentPump.bufferArgs.reverse();stlib.fragmentPump.bufferValue.reverse();for(var a=0;a<stlib.fragmentPump.bufferArgs.length;a++){if(stlib.setupWidget.checkBufferArg(stlib.fragmentPump.bufferArgs[a])===false){stlib.fragmentPump.bufferRunArgs.push(stlib.fragmentPump.bufferArgs[a]);shareWidget.setGlobals(stlib.fragmentPump.bufferArgs[a],stlib.fragmentPump.bufferValue[a])}}},fragObj:function(a,b){this.frag=a;this.qs=b},readyTest:function(){for(var b=0;b<stlib.fragmentPump.tstArray.length;b++){var a=stlib.fragmentPump.tstArray[b].frag+" = \n"+stlib.fragmentPump.tstArray[b].qs}},addToOptions:function(b){var c=[];c=b.split("=");c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1]);try{c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1])}catch(d){}stlib.fragmentPump.tstArray.push(stlib.setupWidget.fragObj(c[0],c[1]));shareWidget.setGlobals(c[0],c[1])},addToOptionsLight:function(b){var c=[];c=b.split("-=-");c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1]);try{c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1])}catch(e){}stlib.fragmentPump.tstArray.push(stlib.setupWidget.fragObj(c[0],c[1]));if(c[0]=="url"){var d=shareWidget.getConfigOptions();if((d.URL!=c[1])&&d.initWidget==true){shareWidget.initWidget()}}shareWidget.setGlobals(c[0],c[1])},addToOptions2:function(b){var c=[];c=b.split("=");c[0]=decodeURIComponent(c[0]);try{c[0]=decodeURIComponent(c[0]);c[1]=decodeURIComponent(c[1])}catch(d){}if(c[0]=="pageHost"){shareWidget.setGlobals("hostname",c[1])}else{if(c[0]=="pagePath"){shareWidget.setGlobals("location",c[1])}}stlib.fragmentPump.tstArray.push(stlib.setupWidget.fragObj(c[0],c[1]));if(c[1]=="done"){if(fragmentPump.initRun===false){document.location.hash=glo_initFrag}stlib.fragmentPump.glo_jsonStr=stlib.fragmentPump.glo_jsonArray.join("");stlib.fragmentPump.glo_jsonArray=[];stlib.setupWidget.processFrag()}else{if(c[0]=="jsonData"){stlib.fragmentPump.glo_jsonArray.push(c[1])}}},processFrag:function(){try{stlib.fragmentPump.glo_jsonStr=decodeURIComponent(stlib.fragmentPump.glo_jsonStr)}catch(c){}var b=stlib.fragmentPump.glo_jsonStr;var d=[];try{d=$JSON.decode(b);if(d==null){b=decodeURIComponent(b);d=$JSON.decode(b)}}catch(c){b=decodeURIComponent(b);d=$JSON.decode(b)}if(d&&d.length){for(var a=0;a<d.length;a++){shareWidget.setGlobals("title",d[a].title);shareWidget.setGlobals("type",d[a].type);shareWidget.setGlobals("summary",d[a].summary);shareWidget.setGlobals("content",d[a].content);shareWidget.setGlobals("url",d[a].url);shareWidget.setGlobals("short_url",d[a].short_url);shareWidget.setGlobals("icon",d[a].icon);shareWidget.setGlobals("category",d[a].category);shareWidget.setGlobals("updated",d[a].updated);shareWidget.setGlobals("published",d[a].published);shareWidget.setGlobals("author",d[a].author);shareWidget.setGlobals("thumb",d[a].icon);if(d[a].tags){shareWidget.setGlobals("glo_tags_array",d[a].tags)}if(d[a].description){shareWidget.setGlobals("glo_description_array",d[a].description)}}}}};fragInstance=new stlib.pump(window,window,processFromParent);function processFromParent(message){_$d1("IFrame got:"+message);var args=message.split("/");var cmd=args.shift();cmd="fragmentPump."+cmd.substring(1);var temp="";for(var i=0;i<args.length;i++){temp=temp+'"'+args[i]+'"';if(i<(args.length-1)){temp=temp+","}}var evStr="stlib."+cmd+"("+temp+")";_$d1("IFrame processes:"+evStr);if(cmd=="fragmentPump.init"||cmd=="fragmentPump.test"||cmd=="fragmentPump.data"||cmd=="fragmentPump.show"||cmd=="fragmentPump.popup"||cmd=="fragmentPump.widget"||cmd=="fragmentPump.light"){var tempFun=eval("window.stlib."+cmd);if(tempFun){var tempFunc=new Function(evStr);tempFunc()}else{}}fragInstance.broadcastSendMessage(cmd+" complete")}var stUser=function(){var a={};a.name=null;a.email=null;a.nickname=null;a.recents=null;a.chicklets=null;a.display=null;a.type=null;a.token=null;a.contacts=[];a.loggedIn=false;a.user_services=null;a.currentUserType=[];a.thirdPartyUsers=[];a.thirdPartyTypes=[];a.facebookFriends=null;a.sta=null;return{fillInfoFromStorage:function(b){if(typeof(b.email)!="undefined"){a.email=b.email}if(typeof(b.name)!="undefined"){a.name=b.name}if(typeof(b.nickname)!="undefined"){a.nickname=b.nickname}if(typeof(b.display)!="undefined"){a.display=b.display}if(typeof(b.currentUserType)!="undefined"){a.currentUserType=b.currentUserType}if(typeof(b.thirdPartyUsers)!="undefined"){a.thirdPartyUsers=b.thirdPartyUsers}if(typeof(b.thirdPartyTypes)!="undefined"){a.thirdPartyTypes=b.thirdPartyTypes}if(typeof(b.recents)!="undefined"){a.recents=b.recents}if(typeof(b.contacts)!="undefined"){a.contacts=b.contacts}if(typeof(b.facebookFriends)!="undefined"){a.facebookFriends=b.facebookFriends}if(typeof(b.sta)!="undefined"){a.sta=encodeURIComponent(b.sta)}shareWidget.postLoginWidget()},setUserContacts:function(b){a.contacts=b},setFacebookFriends:function(b){a.facebookFriends=b},getUserDetails:function(){return a},signOut:function(){if(stlib.cookie.hasLocalStorage()){window.localStorage.clear()}stlib.gaLogger.gaLog("SignOut - 5xa","Click");stlib.cookie.deleteCookie("ShareUT");stlib.cookie.deleteCookie("ShareAL");stlib.cookie.deleteCookie("recents");stlib.cookie.deleteCookie("stOAuth");stlib.cookie.deleteCookie("sta");a.contacts=[];stUser.forgetUser();isSignedIn=false;isOauthLinked=false;oAuthGALogged=false;if(stlib.cookie.checkCookiesEnabled()==false){var b=window.open("http://sharethis.com/account/signout","ShareThis","toolbar=no,status=no,width=1px,height=1px");window.focus();setTimeout(function(){b.close()},2500)}},forgetUser:function(){a.name=null;a.email=null;a.nickname=null;a.recents=null;a.chicklets=null;a.display=null;a.type=null;a.token=null;a.contacts=[];a.facebookFriends=null;a.loggedIn=false;a.services=null;a.currentUserType=null;a.thirdPartyUsers=null;a.thirdPartyTypes=null;a.sta=null},checkLogin:function(){clearInterval(getUserInfoTimer);shareWidget.hideError();var c=false;c=stlib.cookie.getCookie("ShareUT");if((c==false)||(c=="undefined")||(typeof(c)=="undefined")){if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){c=localStorage.ShareUT}}if((c!==false)&&(c!="undefined")&&(typeof(c)!=="undefined")){var b=[];if(!stlib.cookie.checkCookiesEnabled()){b=["return=json","cb=stUser.loginOnSuccess","service=getUserInfo","from_memcache=false","token="+c]}else{b=["return=json","cb=stUser.loginOnSuccess","service=getUserInfo","from_memcache=false"]}b=b.join("&");jsonp.makeRequest((("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+b)}},loginOnSuccess:function(b){var f=shareWidget.getConfigOptions();if(f.isFromSignWidget&&"newhb"==f.widSrc){stlib.gaLogger.gaLog("Widget_source","Reskin Hoverbar","Signin widget Complete")}else{if(!f.isFromSignWidget&&"newhb"==f.widSrc){stlib.gaLogger.gaLog("Widget_source","Reskin Hoverbar","OAuth complete")}else{if(f.isFromSignWidget&&"chrExt"==f.widSrc){stlib.gaLogger.gaLog("Widget_source","Chrome Extension","Signin widget Complete")}else{if(!f.isFromSignWidget&&"chrExt"==f.widSrc){stlib.gaLogger.gaLog("Widget_source","Chrome Extension","OAuth Complete")}}}}stlib.gaLogger.gaLog("SignIn - 5xa","Complete");if(b&&b.status=="SUCCESS"){if(oAuthServiceClicked!=""){if(isSignedIn&&usrId!==b.data.userID){shareWidget.resetLoadingUI()}shareWidget.autoSelectService(oAuthServiceClicked);oAuthServiceClicked=""}usrId=b.data.userID;isSignedIn=true;a.email=b.data.email;a.name=b.data.name;a.nickname=b.data.nickname;a.recents=b.data.recipients;if(a.recents!==null){stlib.cookie.setCookie("recents",stlib.json.encode(a.recents))}a.display=a.email;a.currentUserType=b.data.CurrentUserType;a.thirdPartyUsers=b.data.ThirdPartyUsers;a.thirdPartyTypes=b.data.ThirdPartyTypes;a.sta=b.data.staHash;var e=["facebook","twitter","linkedin"];for(var j=0;j<e.length;j++){if(a.thirdPartyUsers!=null&&a.thirdPartyUsers[e[j]]!=null){if(a.email!=null){a.thirdPartyUsers[e[j]]=a.email}if(a.name!=null){a.thirdPartyUsers[e[j]]=a.name}}}var d=shareWidget.getConfigOptions();if((d.publisherMigration==true)&&(!oAuthGALogged)){if(oAuthService=="twitter"||oAuthService=="facebook"||oAuthService=="linkedin"||oAuthService=="yahoo"||oAuthService=="google"){stlib.gaLogger.gaLog("OAuth-Migration",d.publisher+","+d.hostname,oAuthService);oAuthGALogged=true}oAuthService=""}stlib.cookie.setCookie("stOAuth",stlib.json.encode(a.thirdPartyUsers),365);stlib.cookie.setCookie("sta",encodeURIComponent(a.sta),365);if((a.thirdPartyUsers!=null)&&(a.thirdPartyUsers!=false)&&typeof(a.thirdPartyUsers)!="undefined"){isOauthLinked=true}if(stlib.cookie.hasLocalStorage()){var g=stlib.cookie.getCookie("ShareUT");var h=window.localStorage;if(a.email!=null){h.email=a.email}if(a.name!=null){h.name=a.name}if(a.nickname!=null){h.nickname=a.nickname}if(a.currentUserType!=null){h.currentUserType=a.currentUserType}if(a.thirdPartyUsers!=null){for(var j=0;j<e.length;j++){if(a.thirdPartyUsers!=null&&a.thirdPartyUsers[e[j]]!=null){if(a.email!=null){a.thirdPartyUsers[e[j]]=a.email}if(a.name!=null){a.thirdPartyUsers[e[j]]=a.name}}}h.thirdPartyUsers=stlib.json.encode(a.thirdPartyUsers)}if(a.thirdPartyTypes!=null){h.thirdPartyTypes=a.thirdPartyTypes}if(a.recents!=null){h.recents=stlib.json.encode(a.recents)}if(a.contacts!=null){h.contacts=a.contacts}if(a.facebookFriends!=null){h.facebookFriends=a.facebookFriends}if(a.sta!=null){h.sta=encodeURIComponent(a.sta)}}shareWidget.postLoginWidget()}else{shareWidget.showError(lang.strings.msg_failed_login);getUserInfoTimer=setTimeout(stUser.checkLogin,10000)}},checkForAccountLinkingCookie:function(){var c=stlib.cookie.getCookie("ShareAL");if((c==false)||(c=="undefined")||(typeof(c)=="undefined")){if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){c=localStorage.ShareAL}}if(c){stlib.gaLogger.gaLog("Linking Successful - 5xa",c);if(stlib.cookie.hasLocalStorage()){localStorage.removeItem("ShareAL")}stlib.cookie.deleteCookie("ShareAL");clearInterval(accountLinkingPoller);stUser.checkLogin();if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){var b=setTimeout(function(){var d=localStorage.thirdPartyTypes;if((d==false)||(d=="undefined")||(typeof(d)=="undefined")){stUser.checkLogin()}},3000)}clearInterval(accountLinkingPoller)}},checkForLoginCookie:function(){var c=stlib.cookie.getCookie("ShareAL"),b=false;oAuthService=c;if(c){stlib.gaLogger.gaLog("Linking Successful - 5xa",c);stlib.cookie.deleteCookie("ShareAL")}b=stlib.cookie.getCookie("ShareUT");if((b==false)||(b=="undefined")||(typeof(b)=="undefined")){if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){b=localStorage.ShareUT}}if((b!==false)&&(b!="undefined")&&(typeof(b)!=="undefined")&&!isSignedIn){stlib.gaLogger.gaLog("Login Successful - 5xa","Thru SignIn Page Or Linking");clearInterval(loginPoller);stUser.checkLogin();clearInterval(loginPoller)}}}}();var shareWidget=function(){var U=[];U[1]="themeOne";U[2]="themeTwo";U[3]="themeThree";U[4]="themeFour";U[5]="themeFive";U[6]="themeSix";U[7]="themeSeven";U[8]="themeEight";U[9]="themeNine";var ab={};ab.oldURL=null;ab.URL=null;ab.short_url=null;ab.title=null;ab.sessionID=null;ab.fpc=null;ab.publisher=null;ab.browser=null;ab.services=[];ab.publisher=null;ab.icon;ab.content;ab.i18n=false;ab.lang=null;ab.guid;ab.guid_index;ab.published;ab.author;ab.updated;ab.summary="";ab.thumb="";ab.pThumb="";ab.message="";ab.via=null;ab.tags;ab.hostname;ab.location;ab.headerTitle;ab.headerfg;ab.purl;ab.top_config={},ab.exclusive_config={},ab.guid_config={},ab.email_config={},ab.sms_config={},ab.merge_config={},ab.chicklet_config={};ab.top_config.services="email,facebook,twitter,linkedin,yahoo";ab.exclusive_config.services=null;ab.displayServices=[];ab.topDisplayServices=[];ab.chickletNumber=6;ab.guid_config.index=0;ab.page="home";ab.toolbar=false;ab.metaInfo=null;ab.mainCssLoaded=false;ab.pageTracker=null;ab.pubTracker=null;ab.tracking=false;ab.lastURL=null;ab.sharURL=null;ab.poster=null;ab.linkfg=null;ab.email_config.service=true;ab.sms_config.service=true;ab.merge_config.list=true;ab.chicklet_loaded=false;ab.initWidget=false;ab.ga=null;ab.popup=false;ab.cssInterval=null;ab.stLight=false;ab.optout=false;ab.doneScreen=true;ab.urlhash=null;ab.theme=1;ab.headerText="";ab.customColors={serviceBarColor:"",shareButtonColor:"",footerColor:"",headerTextColor:"",helpTextColor:"",mainWidgetColor:"",textBoxFontColor:""};ab.excludeServices=null;ab.minorServices=true;ab.iconsLoaded=false;ab.facebookFriends=null;ab.customUrlPassed=false;ab.shorten=true;ab.publisherGA=null;ab.isFromSignWidget=false;ab.widSrc=null;var v=document.getElementById("outerContainer");var u=new Array();var ac={};ac.facebook="450";ac.twitter="684";ac.yahoo="500";ac.google="550";ac.linkedin="600";var b={};b.facebook="300";b.twitter="718";b.yahoo="460";b.google="400";b.linkedin="433";var A=false;var m=false;var H=false;var R=false;var s="";var q=false;var Z=false;var t=false;var y=false;var B=false;var k=false;function E(ai){var ak=" rpChicklet";if(ab.chicklet_loaded==true){ak=" ckimg"}if(ai=="wordpress"){var aj=document.createElement("a");aj.className=ai;aj.className+=ak;aj.setAttribute("title",stlib.allServices[ai].title);aj.setAttribute("id","post_"+ai+"_link");if(aj.attachEvent){aj.attachEvent("onclick",function(){shareWidget.createWordpressScreen()})}else{aj.setAttribute("onclick","shareWidget.createWordpressScreen()")}aj.setAttribute("href","javascript:void(0);");aj.appendChild(document.createTextNode(stlib.allServices[ai].title));if(ab.linkfg!=null){aj.style.color=ab.linkfg}return aj}else{if(ai=="email"){var aj=document.createElement("a");aj.className=ai;aj.className+=ak;aj.setAttribute("title",stlib.allServices[ai].title);aj.setAttribute("id","post_"+ai+"_link");if(aj.attachEvent){aj.attachEvent("onclick",function(){shareWidget.showEmailScreenFromMoreServices()})}else{aj.setAttribute("onclick","shareWidget.showEmailScreenFromMoreServices()")}aj.setAttribute("href","javascript:void(0);");aj.appendChild(document.createTextNode(stlib.allServices[ai].title));if(ab.linkfg!=null){aj.style.color=ab.linkfg}return aj}else{var al="chicklet5x";var aj=document.createElement("a");aj.className=ai;aj.className+=ak;aj.setAttribute("href","#");aj.setAttribute("title",stlib.allServices[ai].title);aj.setAttribute("id","post_"+ai+"_link");aj.setAttribute("stservice",ai);if(aj.attachEvent){aj.attachEvent("onclick",function(){shareWidget.serviceClicked(aj)})}else{aj.setAttribute("onclick","shareWidget.serviceClicked(this);")}aj.appendChild(document.createTextNode(stlib.allServices[ai].title));if(ab.linkfg!=null){aj.style.color=ab.linkfg}return aj}}}function P(ai){shareWidget.resetLoadingUI();shareWidget.showHome()}function Y(ai){ai=ai||window.event;var aj=ai.target||ai.srcElement;if(aj.value==lang.strings[aj.id]){aj.value=""}stlib.gaLogger.gaLog(aj.id+" - 5xa","focus")}function F(ai){ai=ai||window.event;var aj=ai.target||ai.srcElement;if(aj.value==""){aj.value=lang.strings[aj.id]}}function r(ap){ap=ap||window.event;var at=ap.target||ap.srcElement;var ak=at.value;var an=document.getElementById("chicklets");if(ak==""){p(stlib.allServices);return}try{var av=new RegExp("^"+ak,"gi")}catch(al){return false}try{var aj=new RegExp(ak,"gi")}catch(al){return false}var au=0,ao=[],ai=[];delete stlib.allServices.sharebox;for(var am in stlib.allServices){var ar=stlib.allServices[am].title;if(av.test(ar)==true){ai[am]=stlib.allServices[am];au++}else{if(aj.test(ar)==true){ao[am]=stlib.allServices[am];au++}else{}}}for(var aq in ao){if(ao.hasOwnProperty(aq)){ai[aq]=ao[aq]}}if(au>0){p(ai)}shareWidget.lastSearchTerm=ak;return true}function l(){if(!ab.minorServices){domUtilities.addClassIfNotPresent("null","moreLink","sts-dn")}if(typeof(ab.excludeServices)!="undefined"&&ab.excludeServices!=null&&ab.excludeServices!=""){var aj="",ai=ab.excludeServices.split(","),ak=domUtilities.searchElementsByClass("serviceDisplay","a",document.getElementById("services"));for(i in ak){aj=ak[i].getAttribute("data-value");if(X(aj,ai)){domUtilities.addClassIfNotPresent(ak[i],"","sts-dn")}}}}function p(ai){var al;var ak=document.getElementById("chicklets");ak.innerHTML="";if(typeof(ai.sharethis)!="undefined"){delete ai.sharethis}for(var aj in ai){if(aj=="whatsapp"||aj=="kik"){continue}al=E(aj);if(al!=null){if(aj=="email"){ak.insertBefore(al,ak.firstChild)}else{ak.appendChild(al)}}}domUtilities.replaceClass("rpChicklet","ckimg");ab.chicklet_loaded=true}function J(){if(ab.mainCssLoaded==false){var ai=("https:"==document.location.protocol)?"https://ws.sharethis.com/secure5x/css/share.5e2bb696a5619c53b15128589deed762.css":"http://w.sharethis.com/share5x/css/share.5e2bb696a5619c53b15128589deed762.css";stlib.scriptLoader.loadCSS(ai,function(){document.getElementsByTagName("body")[0].style.display="block"});ai=("https:"==document.location.protocol)?"https://ws.sharethis.com/css/font-awesome/css/font-awesome.min.css":"http://w.sharethis.com/css/font-awesome/css/font-awesome.min.css";stlib.scriptLoader.loadCSS(ai,function(){},true);ab.mainCssLoaded=true}else{return false}}function D(aj,ai){try{var al=aj.replace(/(\w+):\/\/([^\/:]+)(:\d*)?([^# ]*)/,"$2");if(!ai&&al.toLowerCase().indexOf("www.")==0){al=al.substring(4)}al=al.replace(/#.*?$/,"");return al}catch(ak){return null}}function O(){var ai,ak;var aj=document.getElementById("shareMessage");if(aj.getAttribute("placeholder")==aj.value){ai=""}else{ai=aj.value}return ai.length}function C(){var ai=O();var aj=document.getElementById("charCounter");if(ai>117){domUtilities.removeClassIfPresent(aj,"","pos");domUtilities.addClassIfNotPresent(aj,"","neg")}else{domUtilities.removeClassIfPresent(aj,"","neg");domUtilities.addClassIfNotPresent(aj,"","pos")}aj.innerHTML=117-ai}function x(al){if(R){shareWidget.hideError()}al=al||window.event;var ak=al.target||al.srcElement;if(ak.tagName!="A"){ak=ak.parentNode}if(domUtilities.hasClass(ak.firstChild,"emailFade")){return}var aj=ak.getAttribute("data-value");if(aj=="email"){shareWidget.onScreenChange(true)}var am=false;if(domUtilities.hasClass(ak,"unchecked")){var ao="st_"+aj+"_uncheck";if(stlib.cookie.getCookie(ao)!==false){stlib.cookie.deleteCookie(ao)}if(aj=="email"){shareWidget.getEmailService();stlib.gaLogger.gaLog("Intention to use - 5xa",aj)}else{if(isSignedIn){var an=stUser.getUserDetails();for(var ai in an.thirdPartyTypes){tempService=an.thirdPartyTypes[ai];if(aj==tempService){am=true;break}}}if(am){stlib.gaLogger.gaLog("Intention to use - 5xa",aj);a(aj);return}oAuthServiceClicked=aj;shareWidget.beginOAuth(aj)}}else{if(domUtilities.hasClass(ak,"checked")){oAuthServiceClicked="";var ao="st_"+aj+"_uncheck";if(stlib.cookie.getCookie(ao)===false){stlib.cookie.setCookie(ao,1)}domUtilities.removeClassIfPresent(ak,"","unchecked");domUtilities.removeClassIfPresent(ak,"","checked");domUtilities.addClassIfNotPresent(ak,"","unchecked");stlib.gaLogger.gaLog("Unchecking.. - 5xa",aj);if(aj=="email"){M();domUtilities.addClassIfNotPresent("null","emailShareDetails","sts-dn");domUtilities.addClassIfNotPresent("null","recents","sts-dn");document.getElementById("shareMessage").style.height="88%";shareWidget.hideError()}else{if(aj=="twitter"){q=false;domUtilities.addClassIfNotPresent("null","charCounter","sts-dn");document.getElementById("shareMessage").setAttribute("maxlength",2000);domUtilities.removeListenerCompatible(document.getElementById("shareMessage"),"keyup",C);N()}else{if(aj=="facebook"){Z=false;f()}}}jsUtilities.removeElementFromArray(u,aj)}}}function g(){if(domUtilities.hasClass(document.getElementById("shareButton"),"emailFade")){return}if(u.length==1&&u[0].search("facebookfriend")!="-1"){if(jsUtilities.trimString(document.getElementById("txtFriendsName").value)==""){u=[]}}if(m){poster.postToWordpress()}else{if(H){poster.postToAtt()}else{if(u.length==0){shareWidget.showError(lang.strings.msg_no_services_selected);R=true}else{if(q){shareWidget.beginMultiShare()}else{poster.createShar(ab.URL);clearInterval(sharPoller);sharPoller=setInterval(function(){if(poster.getSharURL()!=""){clearInterval(sharPoller);shareWidget.beginMultiShare();clearInterval(sharPoller)}},1000)}}}}}function X(ak,ai){for(var aj=0;aj<ai.length;aj++){if(ai[aj]==ak){return true}}return false}function a(al){if(typeof(ab.excludeServices)!="undefined"&&ab.excludeServices!=null&&ab.excludeServices!=""){var aj=ab.excludeServices.split(",");if(X(al,aj)){return}}var ao="st_"+al+"_uncheck";if(stlib.cookie.getCookie(ao)!==false){return}var am=null,an=domUtilities.searchElementsByClass("serviceDisplay","a",document.getElementById("services"));if(typeof(an)!="undefined"){for(i in an){if(al==(an[i].getAttribute("data-value"))){am=an[i];break}}}if(am!=null){domUtilities.removeClassIfPresent(am,"","unchecked");domUtilities.addClassIfNotPresent(am,"","checked");if(al=="twitter"){q=true;var ai;var ak=document.getElementById("shareMessage");domUtilities.removeClass("null","charCounter","sts-dn");domUtilities.addListenerCompatible(ak,"keyup",C);ak.setAttribute("maxlength",117);if(!B){poster.clearSharURL();B=true}poster.createShar(ab.URL);clearInterval(sharPoller);sharPoller=setInterval(function(){ai=poster.getSharURL();if(ai!=""){clearInterval(sharPoller);t=true;K();clearInterval(sharPoller)}},1000)}else{if(al=="facebook"){Z=true;domUtilities.removeClass("null","friendsWall","sts-dn");if(document.all&&(navigator.appVersion.indexOf("MSIE 7.")!=-1||(navigator.appVersion.indexOf("MSIE 6.")!=-1))){document.getElementById("extraInfo").style.position="relative";document.getElementById("extraInfo").style.top="5px";document.getElementById("helpText").style.position="relative";document.getElementById("helpText").style.top="10px"}}}u.push(al);stlib.gaLogger.gaLog("Added Service To Share Queue - 5xa",al)}}function K(){if(!k){if(t&&y){domUtilities.removeClass("null","charCounter","sts-dn");clearInterval(sharPoller);var am=(ab.short_url!=""&&ab.short_url!=null)?ab.short_url:poster.getSharURL();if(document.getElementById("headline").innerHTML==""){var aj=am}else{var aj=ab.title+" "+am}var ak=document.getElementById("shareMessage");if(ak.value!=ak.getAttribute("placeholder")){var al=ak.value}else{var al=""}var ai=al.length;if(ak.getAttribute("placeholder")==al){al=aj}else{if(al==""){al+=aj}else{al+=" "+aj}}var ao=(!(ab.via))?" via @sharethis":" via @"+ab.via;var an=(117-(al+ao).length);if(an<0){al=al.substring(0,(al.length-(" "+am).length));if(al.length>(-1*an)){al=al.substring(0,(al.length+an));al+=" "+am}else{al=am}}al+=ao;ak.value=al;C();ak.setAttribute("twMsgSize",(al.length-ai));k=true}else{if(t){clearInterval(sharPoller)}}}}function ah(){var ai="";if("newhb"==ab.widSrc){ab.isFromSignWidget=true;stlib.gaLogger.gaLog("Widget_source","Reskin Hoverbar","Attempting signin widget")}else{if("chrExt"==ab.widSrc){ab.isFromSignWidget=true;stlib.gaLogger.gaLog("Widget_source","Chrome Extension","Attempting signin widget")}}if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==false)){ai="?enableTPC=true"}window.open("http://sharethis.com/account/signin-widget"+ai,"LoginWindow","scrollbars=1, status=1, height=450, width=970, resizable=1");clearInterval(loginPoller);loginPoller=setInterval(stUser.checkForLoginCookie,1000);stlib.gaLogger.gaLog("SignIn - 5xa","Click")}function d(){u=new Array();domUtilities.addClassIfNotPresent("null","signOut","sts-dn");domUtilities.removeClassIfPresent("null","signIn","sts-dn");document.getElementById("welcomeMsg").innerHTML=lang.strings.msg_share;document.getElementById("emailshareHeading").innerHTML='<span class="userName"><a href="javascript:void(0);" id="closeEmailLink" class="backToDefault goBackLink checked" data-value="email" title="Close" onclick="shareWidget.closeEmailWidget();">Close</a></span> <em>'+lang.strings.email_msg_share+"</em>";stUser.signOut();ab.isFromSignWidget=false;if(typeof(email)!=="undefined"){domUtilities.addClassIfNotPresent("null","recents","sts-dn")}domUtilities.replaceClass("checked","unchecked");domUtilities.replaceClass("ununchecked","unchecked");if(q){q=false}f();document.getElementById("shareMessage").value=document.getElementById("shareMessage").getAttribute("placeholder");shareWidget.showHome()}function ag(){var ai=["return=json","url="+encodeURIComponent(ab.URL),"cb=shareWidget.fillURLInfo","service=getLiveUrlInfo"];ai=ai.join("&");jsonp.makeRequest((("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+ai)}function V(aj){if(aj){domUtilities.removeClass("null","articleDetails","sts-dn")}y=true;if(q){var ai;if(!t){poster.createShar(ab.URL);clearInterval(sharPoller);sharPoller=setInterval(function(){ai=poster.getSharURL();if(ai!=""){clearInterval(sharPoller);t=true;K();clearInterval(sharPoller)}},1000)}else{K()}}}function c(){domUtilities.addClassIfNotPresent("null","postFriendsLink","sts-dn");domUtilities.removeClassIfPresent("null","friendsInputWrapper","sts-dn");if(typeof(facebook)=="undefined"){stlib.scriptLoader.loadJavascript((("https:"==document.location.protocol)?"https://ws.sharethis.com/secure5x/js/facebook.js":"http://w.sharethis.com/share5x/js/facebook.js"),function(){})}else{facebook.getFacebookFriends(true)}stlib.gaLogger.gaLog("Facebook Friends Wall - 5xa","Click")}function ae(){shareWidget.hideError();domUtilities.addClassIfNotPresent("null","friendsInputWrapper","sts-dn");domUtilities.removeClassIfPresent("null","postFriendsLink","sts-dn");document.getElementById("txtFriendsName").value="";domUtilities.removeClassIfPresent("null","txtFriendsName","friendSelected");stlib.gaLogger.gaLog("Facebook Friends Wall - 5xa","Cancel")}function N(){var ai=document.getElementById("shareMessage");if(ai.value!=ai.getAttribute("placeholder")){if(parseInt(ai.getAttribute("twMsgSize"))!=null){if(parseInt(ai.getAttribute("twMsgSize"))>0){ai.value=ai.value.substr(0,(ai.value.length)-(parseInt(ai.getAttribute("twMsgSize"))))}else{ai.value=ai.getAttribute("placeholder")}ai.setAttribute("twMsgSize",0);k=false}}}function f(){domUtilities.addClass("null","friendsWall","sts-dn");if(document.all&&(navigator.appVersion.indexOf("MSIE 7.")!=-1||(navigator.appVersion.indexOf("MSIE 6.")!=-1))){document.getElementById("extraInfo").style.position="static";document.getElementById("extraInfo").style.top="auto";document.getElementById("helpText").style.position="static";document.getElementById("helpText").style.top="auto"}document.getElementById("txtFriendsName").value="";domUtilities.removeClassIfPresent("null","txtFriendsName","friendSelected")}function L(){if(ab.customColors.helpTextColor!=""){document.getElementById("helpText").style.color=ab.customColors.helpTextColor}if(ab.customColors.shareButtonColor!=""){document.getElementById("shareButton").style.background=ab.customColors.shareButtonColor}if(ab.customColors.headerTextColor!=""){document.getElementById("welcomeMsg").style.color=ab.customColors.headerTextColor;document.getElementById("doneMsg").style.color=ab.customColors.headerTextColor}if(ab.customColors.textBoxFontColor!=""){var ai=document.getElementsByTagName("textarea");for(i=0;i<ai.length;i++){ai[i].style.color=ab.customColors.textBoxFontColor}ai=document.getElementsByTagName("input");for(i=0;i<ai.length;i++){ai[i].style.color=ab.customColors.textBoxFontColor}}}function S(){stlib.scriptLoader.loadCSS((("https:"==document.location.protocol)?"https://ws.sharethis.com/secure5x/css/emailShare.css":"http://w.sharethis.com/share5x/css/emailShare.css"),function(){},true);domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");domUtilities.addClassIfNotPresent("null","serviceCTAs","sts-dn");domUtilities.addClassIfNotPresent("null","welcomeMsg","sts-dn");domUtilities.removeClassIfPresent("null","emailshareHeading","sts-dn");domUtilities.addClassIfNotPresent("null","emailShareDetails","sts-dn");document.getElementById("shareMessage").style.display="none";domUtilities.addClassIfNotPresent("null","extraInfo","sts-dn");document.getElementById("shareDetails").style.display="none";document.getElementById("emailAuthentication").style.display="block";domUtilities.replaceClass("emailBright","emailFade");domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn");stlib.gaLogger.gaLog("New Email share page - 5xa","Opened")}function M(){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");domUtilities.removeClassIfPresent("null","emailShareDetails","sts-dn");domUtilities.addClassIfNotPresent("null","serviceCTAs","enabled");document.getElementById("shareMessage").style.display="block";domUtilities.removeClassIfPresent("null","extraInfo","sts-dn");document.getElementById("articleDetails").style.display="block";document.getElementById("shareDetails").style.display="block";document.getElementById("emailAuthentication").style.display="none";domUtilities.replaceClass("emailFade","emailBright");domUtilities.removeClassIfPresent("null","welcomeMsg","sts-dn");domUtilities.addClassIfNotPresent("null","emailshareHeading","sts-dn");domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")}function h(ak){shareWidget.hideError();domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");ak=ak||window.event;var aj=ak.target||ak.srcElement;if(aj.tagName!="A"){aj=aj.parentNode}var ai=aj.getAttribute("data-value");shareWidget.beginOAuth(ai);stlib.gaLogger.gaLog("New Email share page - 5xa","OAuth_"+ai);domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")}function Q(ak){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");ak=ak||window.event;var aj=ak.target||ak.srcElement;if(aj.tagName!="A"){aj=aj.parentNode}var ai=aj.getAttribute("data-value");reAuthedService=ai;shareWidget.beginOAuth(ai);domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")}function w(ai){return"%"+ai.charCodeAt(0).toString(16)}function G(ai){return escape(ai)}function e(al,au,ao){var ap="";if(ao!=2){ap=document.getElementById("shareMessage").value;if(ap==lang.strings.shareMessage||ap=="write your comment here..."){ap=""}var ay=ap.match(/http:\/\/.*shar.es/);if(ay){ap=ap.slice(0,ap.indexOf(ay))}}var ak={type:ab.type,recipients:"",url:ab.URL,title:(ab.title),comment:ap,thumbnail:ab.thumb,embed:ab.content,description:ab.summary,tags:ab.tags,sharURL:(au!="")?au:ab.URL};var at="This message was sent using ShareThis (http://www.sharethis.com)";var aq="\r\n\r\n";if(ab.short_url!=""&&ab.short_url!=null){ak.sharURL=ab.short_url}if(al=="mailto"){aq=G(aq);if(ak.comment){ak.comment=ak.comment.replace(/%/g,w)}if(ak.description){ak.description=ak.description.replace(/%/g,w)}}var an=ak.sharURL;if(ak.comment&&ao!=2){an=ak.comment+aq+an}if(ak.description&&ao!=1&&ao!=2){an+=aq+ak.description}an+=aq+at;var av=an;var aw=(ak.recipients)?ak.recipients:"";var ai=(ak.title)?ak.title:"Message Subject";var am=(an)?(an):"Message Body";av=(av)?(av):"Message Body";var aj={};aj.gmail={href:"https://mail.google.com/mail/?view=cm",su:encodeURIComponent(ai),to:aw,body:encodeURIComponent(am)};aj.yahoo={href:"//compose.mail.yahoo.com/?",Subject:encodeURIComponent(ai.replace(/%/g,w).replace(/&/g,w).replace(/#/g,w).replace(/'/g,w).replace(/"/g,w).replace(/>/g,w).replace(/</g,w).replace(/\\n/g,"").replace(/\\r/g,"").replace(/\\/g,"")),To:aw,Body:G(av.replace(/#/g,w).replace(/\r\n/g,"<br>"))};aj.outlook={href:"//mail.live.com/default.aspx?rru=compose",subject:encodeURIComponent(ai),to:aw,body:encodeURIComponent(am.replace(/\r\n/g,"<br>").replace(/\(/g,"[").replace(/\)/g,"]"))};aj.mailto={href:"mailto:"+aw+"?",Subject:ai.replace(/%/g,w).replace(/&/g,w).replace(/#/g,w).replace(/'/g,w).replace(/"/g,w).replace(/>/g,w).replace(/</g,w),Body:am.replace(/&/g,w).replace(/#/g,w).replace(/'/g,w).replace(/"/g,w).replace(/>/g,w).replace(/</g,w)};var ar="";for(var ax in aj[al]){if(ax=="href"){ar+=aj[al][ax]}else{if(!(al=="mailto"&&ax=="Subject")){ar+="&"}ar+=ax+"="+aj[al][ax]}}return ar}function I(aj){for(var ai=0;ai<aj.length;ai++){clearTimeout(aj[ai])}}function af(an,al,aj){var ak=1200;_shareToEmail=true;shareWidget.updateServiceCount(u[0],"Email");var ai=e(al,aj,null);if(ak<encodeURIComponent(ai).length){ai=e(al,aj,1)}if(ak<encodeURIComponent(ai).length){ai=e(al,aj,2)}stlib.data.resetShareData();var am="";am=stlib.cookie.getCookie("ShareUT");if((am==false)||(am=="undefined")||(typeof(am)=="undefined")){if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){am=localStorage.ShareUT}else{am=""}}stlib.data.set("url",ab.URL,"shareInfo");stlib.data.set("short_url",ab.short_url,"shareInfo");stlib.data.set("title",ab.title,"shareInfo");stlib.data.set("destination","email","shareInfo");stlib.data.set("destinations","email","shareInfo");stlib.data.set("ip","","shareInfo");stlib.data.set("agent",navigator.userAgent,"shareInfo");stlib.data.set("clicookie",stlib.cookie.getCookie("__stid"),"shareInfo");stlib.data.set("token",am,"shareInfo");stlib.data.set("buttonType",ab.type,"shareInfo");stlib.data.set("emailDestination","email","shareInfo");stlib.data.set("sharURL",aj,"shareInfo");stlib.data.setSource("5x",ab);stlib.sharer.share(null,null);stlib.gaLogger.shareLog("email");stlib.gaLogger.gaLog("New Email share page - 5xa","External_"+al);an.location=ai;if(al=="mailto"){setTimeout(function(){an.close()},1000)}domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn");M();domUtilities.addClassIfNotPresent("null","doneScrMessage","minors");shareWidget.showMinorShareMsg();shareWidget.showDoneScreen(true,true)}function T(am){shareWidget.hideError();var ao="";poster.createShar(ab.URL);am=am||window.event;var an=am.target||am.srcElement;if(an.tagName!="A"){an=an.parentNode}var ai=an.getAttribute("data-value");var aj,aq;var ap=window.open("");if(ap){var al="";switch(ai){case"gmail":al="Connecting you to GMail";break;case"yahoo":al="Connecting you to Yahoo! Mail";break;case"outlook":al="Connecting you to Outlook";break;case"mailto":al="Connecting you to your native email client";break}var ak="<!DOCTYPE><html><head><title>"+al+'</title></head><body><div id="lightbox" style="height:41px; width:410px; z-index:+1; position:fixed; border:4px solid #ccc; top:40%; left:33%; padding:8px; background-color:#eee; text-align:center; -moz-border-radius:9px; -webkit-border-radius:9px; border-radius:9px;"><div style="margin-right:10px"><span id="lightboxText" style="color:#777; font-family:Tahoma; font-size:1.3em;">'+al+'</span><span style="display:block; font-size:0.7em;color:#999; padding-top:4px;">It will be just a second..</span></div></div><div id="overlay" style="width: 99%; height: 100%; opacity: 0.9;background-color:#000;position:fixed;"></div></body></html>';ap.document.write(ak);aq=setInterval(function(){ao=poster.getSharURL();if(ao!=""){I([aq,aj]);af(ap,ai,ao)}},100);aj=setTimeout(function(){I([aq,aj]);af(ap,ai,"")},5000)}else{shareWidget.showError("Please disable your popup-blocker!")}}function W(aj){shareWidget.hideError();domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");aj=aj||window.event;var ai=aj.target||aj.srcElement;if(ai.tagName!="A"){ai=ai.parentNode}domUtilities.removeClassIfPresent(ai,"","unchecked");domUtilities.removeClassIfPresent(ai,"","checked");domUtilities.addClassIfNotPresent(ai,"","checked");x(aj);stlib.gaLogger.gaLog("New Email share page - 5xa","Go Back clicked");domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")}function j(aj){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");aj=aj||window.event;var ai=aj.target||aj.srcElement;if(ai.tagName!="DIV"){ai=ai.parentNode}if((ai.id=="lastUsedEmailTitle")&&domUtilities.hasClass(document.getElementById("recents_list"),"sts-dn")){domUtilities.removeClassIfPresent("null","recents_list","sts-dn");domUtilities.removeClassIfPresent("null","fa-caret-down","sts-dn");domUtilities.addClassIfNotPresent("null","fa-caret-right","sts-dn")}else{domUtilities.addClassIfNotPresent("null","recents_list","sts-dn");domUtilities.addClassIfNotPresent("null","fa-caret-down","sts-dn");domUtilities.removeClassIfPresent("null","fa-caret-right","sts-dn")}if("contactsBox"!=ai.id){domUtilities.addClassIfNotPresent("null","contactsBox","sts-dn")}domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")}function aa(ak,ai){if(domUtilities.hasClass(ak,"emailFade")){return}if(ak.hasChildNodes()){var aj=ak.getElementsByTagName("SPAN");if(ai){aj[0].style.display="none";aj[1].style.display="inline"}else{aj[1].style.display="none";aj[0].style.display="inline"}}}function n(aj,al,am){am=!(am)?" .&nbsp;.&nbsp;.":am;var ai=aj.length;var ak=am.length;if(ai<al){return aj}aj=aj.substring(0,(al-(am.length)))+am;return aj}function ad(){var al,ao,an,ak,aj;al=v.getElementsByTagName("textarea");for(ak in al){ao=domUtilities.addListenerCompatible(al[ak],"focus",jsUtilities.clearTextArea);ao=domUtilities.addListenerCompatible(al[ak],"blur",jsUtilities.fillTextArea)}var am=document.getElementById("moreLink");if(am){domUtilities.addListenerCompatible(am,"mouseover",function(){aa(am,true)});domUtilities.addListenerCompatible(am,"mouseout",function(){aa(am,false)});domUtilities.addListenerCompatible(am,"click",shareWidget.showAll)}domUtilities.addListenerCompatible(document.getElementById("lessLink"),"click",shareWidget.showHome);al=domUtilities.searchElementsByClass("serviceDisplay","a","");for(ak in al){ao=domUtilities.addListenerCompatible(al[ak],"click",x)}domUtilities.addListenerCompatible(document.getElementById("shareButton"),"click",g);domUtilities.addListenerCompatible(document.getElementById("cancelButton"),"click",function(){shareWidget.showHome();shareWidget.getEmailService()});domUtilities.addListenerCompatible(document.getElementById("cancelLink"),"click",shareWidget.showHome);domUtilities.addListenerCompatible(document.getElementById("againLink"),"click",P);domUtilities.addListenerCompatible(document.getElementById("againBackLink"),"click",shareWidget.showHome);domUtilities.addListenerCompatible(document.getElementById("emailBackLink"),"click",shareWidget.showEmailScreenFromDoneScreen);domUtilities.addListenerCompatible(document.getElementById("signOut"),"click",d);domUtilities.addListenerCompatible(document.getElementById("signIn"),"click",ah);domUtilities.addListenerCompatible(document.getElementById("postFriendsLink"),"click",c);domUtilities.addListenerCompatible(document.getElementById("cancelFriendsWall"),"click",ae);al=domUtilities.searchElementsByClass("oAuthService","a","");for(ak in al){aj=domUtilities.addListenerCompatible(al[ak],"click",h)}al=domUtilities.searchElementsByClass("externalEmailService","a","");for(ak in al){aj=domUtilities.addListenerCompatible(al[ak],"click",T)}aj=domUtilities.addListenerCompatible(document.getElementById("closeEmailLink"),"click",shareWidget.closeEmailWidget);domUtilities.addListenerCompatible(v,"click",j);al=domUtilities.searchElementsByClass("defaultText","input","");for(ak in al){domUtilities.addListenerCompatible(al[ak],"focus",Y);domUtilities.addListenerCompatible(al[ak],"blur",F)}var ai=document.getElementById("chicklet_search_field");domUtilities.addListenerCompatible(ai,"keyup",r);domUtilities.addListenerCompatible(ai,"input",r)}return{checkOptOut:function(){if(stlib.cookie.getCookie("st_optout")!==false){stlib.cookie.deleteAllSTCookie()}},getConfigOptions:function(){return ab},autoSelectService:function(ai){if(typeof(ai)!="undefined"&&ai!=""){var aj="st_"+ai+"_uncheck";if(stlib.cookie.getCookie(aj)!==false){stlib.cookie.deleteCookie(aj)}a(ai)}},onScreenChange:function(ai){if(ai){stFade.fadeIn("outerContainer")}else{stFade.fadeOut("outerContainer")}},resetLoadingUI:function(){domUtilities.replaceClass("checked","unchecked");domUtilities.replaceClass("ununchecked","unchecked");var ak=["facebook","twitter","linkedin"];if(typeof(m)!="undefined"){m=false}if(typeof(H)!="undefined"){H=false}for(var aj=0,ai=ak.length;aj<ai;aj++){var al=ak[aj];var am="st_"+al+"_uncheck";if(stlib.cookie.getCookie(am)===false){stlib.cookie.setCookie(am,1)}if(al=="facebook"){Z=false}else{if(al=="twitter"){q=false;domUtilities.addClassIfNotPresent("null","charCounter","sts-dn");document.getElementById("shareMessage").setAttribute("maxlength",2000);domUtilities.removeListenerCompatible(document.getElementById("shareMessage"),"keyup",C);N()}}jsUtilities.removeElementFromArray(u,al)}},setGlobals:function(ar,aq){if(ar!="pageInfo"&&ar!="shareInfo"){try{aq=decodeURIComponent(aq)}catch(al){}try{aq=decodeURIComponent(aq)}catch(al){}}else{}if(aq=="true"){aq=true}else{if(aq=="false"){aq=false}}switch(ar){case"url":aq=stlib.html.encode(aq);if(ab.URL==null){ab.oldURL=aq}else{if(ab.URL!=aq){ab.oldURL=ab.URL}}ab.customUrlPassed=true;ab.URL=aq;if(ab.popup==true){shareWidget.initWidget()}var an=D(aq);if(an==null){an=ab.URL}else{if(ab.hostname==null){ab.hostname=an}}ab.sharURL=aq;break;case"short_url":ab.short_url=aq;break;case"popup":ab.popup=aq;break;case"title":ab.title=aq;break;case"pUrl":if(ab.popup!=true||ab.URL==null){if(ab.URL==null){ab.oldURL=aq}else{if(ab.URL!=aq){ab.oldURL=ab.URL}}ab.customUrlPassed=true;ab.URL=aq;var an=D(aq);if(an==null){an=aq}else{if(ab.hostname==null){ab.hostname=an}}}break;case"fpc":ab.fpc=aq;break;case"shorten":ab.shorten=aq;break;case"sessionID":ab.sessionID=aq;break;case"i18n":ab.i18n=aq;if(ab.i18n){if(stlib.cookie.getCookie("sti18n")!==false){var ak=stlib.json.decode(stlib.cookie.getCookie("sti18n"));if(ab.lang==null){ab.lang={};ab.lang.strings=new Object}for(var aj in ak){ab.lang.strings[aj]=ak[aj]}}}break;case"publisher":ab.publisher=aq;break;case"pageInfo":stlib.data.pageInfo=stlib.json.decode(aq);stlib.data.pageInfo.product=encodeURIComponent(stlib.data.pageInfo.product);ab.widSrc=stlib.data.get("widSrc","pageInfo");if(ab.widSrc||ab.widSrc!=null){stlib.data.unset("widSrc","pageInfo")}break;case"doNotHash":stlib.hash.doNotHash=aq;break;case"servicePopup":ab.servicePopup=aq;break;case"via":ab.via=aq;break;case"type":ab.type=aq;break;case"service":ab.service=aq;var ai=aq;var ao="st_"+ai+"_uncheck";if(stlib.cookie.getCookie(ao)!==false){stlib.cookie.deleteCookie(ao)}break;case"summary":ab.summary=aq;break;case"message":ab.message=aq;document.getElementById("shareMessage").value=ab.message;break;case"content":ab.content=aq;break;case"icon":ab.icon=aq;break;case"image":ab.thumb=aq;ab.pThumb=aq;break;case"category":ab.category=aq;break;case"updated":ab.updated=aq;break;case"author":ab.author=aq;break;case"published":ab.published=aq;break;case"thumb":ab.thumb=aq;ab.pThumb=aq;break;case"hostname":ab.hostname=aq;break;case"location":ab.location=aq;break;case"guid_index":ab.guid_index=aq;break;case"page":ab.page=aq;if(aq&&aq=="send"){shareWidget.getEmailService()}else{if(aq&&aq=="home"){shareWidget.showHome()}else{if(aq&&aq=="wphome"){shareWidget.createWordpressScreen()}else{clearInterval(loginPoller);loginPoller=setInterval(stUser.checkForLoginCookie,1000);if(aq&&aq=="fbhome"){shareWidget.showHome()}else{if(aq&&aq=="twhome"){shareWidget.showHome()}else{if(aq&&aq=="ybhome"){shareWidget.showHome()}else{if(aq&&aq=="gbhome"){shareWidget.showHome()}else{if(aq&&aq=="lihome"){shareWidget.showHome()}}}}}}}}break;case"toolbar":ab.toolbar=aq;break;case"services":ab.services=aq;break;case"headerTitle":ab.headerText=aq;break;case"headerfg":var am=document.getElementById("header_div");am.style.color=aq;break;case"headerbg":var am=document.getElementById("header_div");am.style.backgroundColor=aq;break;case"tracking":ab.tracking=true;break;case"linkfg":ab.linkfg=aq;break;case"textcause":var am=document.getElementById("stCause");if(am){if(aq.length>30){aq=aq.substring(0,11)+" ..... "+aq.substr(aq.length-12)}am.innerHTML=aq}break;case"linkcause":var am=document.getElementById("stCause");if(am){am.href=aq;am.style.display="inline-block"}break;case"tabs":var ap=new RegExp(/email|send/);if(ap.test(aq)==false){ab.email_service=false}if(ap.test(aq)==false){ab.sms_service=false}break;case"send_services":var ap=new RegExp(/email/);if(ap.test(aq)==false){ab.email_service=false}break;case"exclusive_services":ab.merge_list=false;break;case"post_services":if(ab.services==null){ab.services=aq}else{ab.service+=aq}break;case"stLight":ab.stLight=true;break;case"doneScreen":ab.doneScreen=aq;break;case"theme":break;case"headerText":ab.headerText=aq;break;case"serviceBarColor":ab.customColors.serviceBarColor=aq;break;case"shareButtonColor":ab.customColors.shareButtonColor=aq;break;case"footerColor":ab.customColors.footerColor=aq;break;case"headerTextColor":ab.customColors.headerTextColor=aq;break;case"helpTextColor":ab.customColors.helpTextColor=aq;break;case"mainWidgetColor":ab.customColors.mainWidgetColor=aq;break;case"textBoxFontColor":ab.customColors.textBoxFontColor=aq;break;case"excludeServices":ab.excludeServices=aq;break;case"minorServices":ab.minorServices=aq;break;case"publisherGA":ab.publisherGA=aq;break;case"relatedDomain":ab.relatedDomain=aq;break;case"publisherMigration":ab.publisherMigration=aq;break;case"embeds":case"button":case"type":case"inactivefg":case"inactivebf":case"headerbg":case"style":case"charset":case"hash_flag":case"onmouseover":case"inactivebg":case"send_services":case"buttonText":case"offsetLeft":case"offsetTop":case"buttonText":break;default:break}},initWidget:function(){J();A=false;stUser.checkLogin();if(ab.URL!=ab.oldURL){t=false;B=false;k=false;ab.thumb="";ab.pThumb="";ab.summary="";ab.title=null;document.getElementById("shareMessage").value=document.getElementById("shareMessage").getAttribute("placeholder")}if(ab.URL==null){return true}else{domUtilities.replaceClass("tempWidgetIcons","widgetIcons");domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");if(document.all&&(navigator.appVersion.indexOf("MSIE 7.")!=-1||navigator.appVersion.indexOf("MSIE 6.")!=-1)){document.getElementById("services").style.height="auto"}domUtilities.addClassIfNotPresent("null","articleDetails","sts-dn");shareWidget.hideError();ab.chicklet_loaded=false;l();if(!B){poster.clearSharURL();B=true}L();if(typeof(ab.headerText)!="undefined"&&ab.headerText!=""){if(ab.headerText.length>50){ab.headerText=ab.headerText.substring(0,47)+"..."}lang.strings.msg_share=ab.headerText;document.getElementById("welcomeMsg").innerHTML=lang.strings.msg_share}var ai=["return=json","url="+encodeURIComponent(ab.URL),"fpc="+ab.fpc,"cb=shareWidget.initWidgetOnSuccess","service=initWidget"];ai=ai.join("&");jsonp.makeRequest((("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+ai);return true}},initWidgetOnSuccess:function(ai){if(ai&&ai.status=="SUCCESS"){ab.metaInfo=ai.data}domUtilities.replaceClass("rpChicklet","ckimg");ab.initWidget=true;if(ai&&ai.data&&ai.data.ga&&ai.data.ga==true){if(stlib.cookie.getCookie("st_optout")!==false){}else{stlib.gaLogger.initGA("UA-1645146-17",shareWidget.getConfigOptions())}}if(typeof(ab.URL)!="undefined"&&ab.URL!=""&&typeof(ab.title)!="undefined"&&ab.title!=""&&typeof(ab.summary)!="undefined"&&ab.summary!=""&&typeof(ab.thumb)!="undefined"&&ab.thumb!=""){var aj=(ab.short_url!=""&&ab.short_url!=null)?ab.short_url:ab.URL;domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn");document.getElementById("thumbnail").setAttribute("src",ab.thumb);document.getElementById("headline").innerHTML=n(ab.title,124,false);document.getElementById("snippet").innerHTML=n(ab.summary,124,false);document.getElementById("url").innerHTML=n(aj,75,false);document.getElementById("url").setAttribute("href",aj);V(true)}else{ag();V(false)}},initialize:function(){var ak=false;var aj=navigator.userAgent;var al=/bot|gomez|keynote/gi;if(aj&&aj!==null&&aj.length>4){var ai=aj.match(al);if(ai&&ai!==null&&ai.length>0){ak=true}}else{ak=true}if(stlib.fragmentPump.initRun==true){stlib.setupWidget.processBuffer()}domReady=true;if(typeof(lang)!="undefined"&&typeof(lang.strings)!="undefined"&&ab.lang!=null&&typeof(ab.lang.strings)!="undefined"){for(var an in ab.lang.strings){lang.strings[an]=ab.lang.strings[an]}}setTimeout(function(){document.getElementById("moreLinkText").innerHTML=lang.strings.msg_view_all;document.getElementById("lessLink").innerHTML="&laquo; "+lang.strings.msg_hide_all;document.getElementById("sharedMsg").innerHTML=lang.strings.msg_share_success;document.getElementById("againLink").innerHTML=lang.strings.msg_againLink+" &raquo;";document.getElementById("txtYourAddr").value=lang.strings.msg_email_to;document.getElementById("txtYourAddr").setAttribute("placeholder",lang.strings.msg_email_to);document.getElementById("txtFromAddr").value=lang.strings.msg_email_from;document.getElementById("txtFromAddr").setAttribute("placeholder",lang.strings.msg_email_from);document.getElementById("helpText").innerHTML=lang.strings.msg_share_to_destinations;document.getElementById("welcomeMsg").innerHTML=lang.strings.msg_share;document.getElementById("chicklet_search_field").value=lang.strings.chicklet_search_field;document.getElementById("chicklet_search_field").setAttribute("placeholder",lang.strings.chicklet_search_field);document.getElementById("signOut").innerHTML=lang.strings.msg_signout},100);if(stlib.cookie.getCookie("st_optout")!==false){ab.optout=true;ab.fpc="optout"}ad();if(stlib.cookie.getCookie("ShareUT")!==false){if(stlib.cookie.hasLocalStorage()){var am=stlib.cookie.getCookie("ShareUT")}}},getEmailService:function(ai){stlib.gaLogger.gaLog("Chicklet - 5xa","Email");_shareToEmail=false;_isEmailShareDone=false;if(document.all&&navigator.appVersion.indexOf("MSIE 6.")!=-1){document.getElementById("services").style.height="auto";document.getElementById("creditLine").style.position="relative"}a("email");S()},serviceClicked:function(ak){_$d_();_$d1("Clicked on a 5xa small chicklet to share.");var aj=ak.getAttribute("stservice");var ai=ak.getAttribute("title");stlib.data.resetShareData();stlib.data.set("url",ab.URL,"shareInfo");stlib.data.set("short_url",ab.short_url,"shareInfo");stlib.data.set("shorten",ab.shorten,"shareInfo");stlib.data.set("title",ab.title,"shareInfo");stlib.data.set("buttonType",ab.type,"shareInfo");stlib.data.set("destination",aj,"shareInfo");stlib.data.setSource("5x",ab);if(aj=="twitter"&&ab.via!=null){stlib.data.set("via",ab.via,"shareInfo")}if(typeof(ab.thumb)!="undefined"&&ab.thumb!=null){stlib.data.set("image",ab.thumb,"shareInfo")}if(typeof(ab.summary)!="undefined"&&ab.summary!=null){stlib.data.set("description",ab.summary,"shareInfo")}if(ab.message!=""){stlib.data.set("message",ab.message,"shareInfo")}if(aj=="pinterest"&&ab.pThumb==""){stlib.data.unset("image","shareInfo");if(stlib.browser.ieFallback){if(typeof(window.postMessage)!=="undefined"&&document.referrer!==""){parent.postMessage("#Pinterest Click",document.referrer)}}else{fragInstance.broadcastSendMessage("Pinterest Click")}}stlib.sharer.share(null,ab.servicePopup);shareWidget.updateServiceCount(aj,ai);domUtilities.addClassIfNotPresent("null","doneScrMessage","minors");shareWidget.showMinorShareMsg();stlib.gaLogger.gaLog("Share - 5xa",aj);if(aj=="print"){if(typeof(window.postMessage)!=="undefined"){parent.postMessage("ShareThis|close|Print",document.referrer)}if(stlib.browser.ieFallback){if(typeof(window.postMessage)!=="undefined"&&document.referrer!==""){parent.postMessage("#Print Click",document.referrer)}}else{fragInstance.broadcastSendMessage("Print Click")}}else{shareWidget.showDoneScreen(true)}ab.chicklet_loaded=false;stlib.gaLogger.shareLog(aj)},showAll:function(){if(domUtilities.hasClass(document.getElementById("moreLink"),"emailFade")){return}shareWidget.onScreenChange(true);shareWidget.hideError();if(!ab.chicklet_loaded){document.getElementById("chicklet_search_field").value=lang.strings.chicklet_search_field;if(ab.URL!=ab.oldURL){var ai=document.getElementById("chicklets");while(ai.childNodes.length>=1){ai.removeChild(ai.firstChild)}}p(stlib.allServices)}domUtilities.removeClassIfPresent("null","moreServices","sts-dn");if(ab.minorServices){domUtilities.addClassIfNotPresent("null","moreLink","sts-dn")}domUtilities.removeClassIfPresent("null","moreTitle","sts-dn");domUtilities.addClassIfNotPresent("null","welcomeMsg","sts-dn");domUtilities.addClassIfNotPresent("null","mainBody","sts-dn");domUtilities.addClassIfNotPresent("null","serviceCTAs","sts-dn");stlib.gaLogger.gaLog("Widget - 5xa","show_all")},showEmailScreenFromDoneScreen:function(){shareWidget.showHome();a("email");S()},showEmailScreenFromMoreServices:function(){shareWidget.hideAll();shareWidget.getEmailService()},hideAll:function(){shareWidget.onScreenChange(true);domUtilities.addClassIfNotPresent("null","moreServices","sts-dn");if(ab.minorServices){domUtilities.removeClassIfPresent("null","moreLink","sts-dn")}domUtilities.removeClassIfPresent("null","welcomeMsg","sts-dn");domUtilities.removeClassIfPresent("null","mainBody","sts-dn");domUtilities.removeClassIfPresent("null","serviceCTAs","sts-dn");domUtilities.addClassIfNotPresent("null","moreTitle","sts-dn");ab.chicklet_loaded=false;domUtilities.addClassIfNotPresent("null","moreTitle","sts-dn");stlib.gaLogger.gaLog("Widget - 5xa","hide_all")},fillURLInfo:function(ai){var ao=("https:"==document.location.protocol)?"https://ws.sharethis.com/secure5x/images/no-image.png":"http://w.sharethis.com/share5x/images/no-image.png";var am=false;var aj=false;var ak="",an="";domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn");if(ai&&ai.status=="SUCCESS"){am=true;if((typeof(ai.urls[0].img)!="undefined"&&ai.urls[0].img!="null"&&ai.urls[0].img!=""&&ai.urls[0].img.indexOf("http://sharethis.com/share/thumb")==-1)||(ai.urls[0].imagehash&&ai.urls[0].imagehash!="")){if(ai.urls[0].imagehash&&ai.urls[0].imagehash!=""){ak="http://img.sharethis.com/"+ai.urls[0].imagehash+"/100_100.jpg"}else{ak=ai.urls[0].img}}else{ak=""}}if(typeof(ab.thumb)!="undefined"&&ab.thumb!=""){aj=true;an=ab.thumb}else{if(am){ab.thumb=ak;if(ak==""){ak=ao}an=ak}else{ab.thumb="";an=ao}}document.getElementById("thumbnail").setAttribute("src",an);if(typeof(ab.title)!="undefined"&&ab.title!=""){aj=true;document.getElementById("headline").innerHTML=n(ab.title,124,false)}else{if(am&&typeof(ai.urls[0].title)!="undefined"){document.getElementById("headline").innerHTML=n(ai.urls[0].title,124,false);ab.title=ai.urls[0].title}else{ab.title="";domUtilities.addClassIfNotPresent("null","headline","sts-dn")}}if(typeof(ab.summary)!="undefined"&&jsUtilities.trimString(ab.summary)!=""){aj=true;document.getElementById("snippet").innerHTML=n(ab.summary,124,false)}else{if(am&&typeof(ai.urls[0].snippet)!="undefined"){document.getElementById("snippet").innerHTML=n(ai.urls[0].snippet,124,false);ab.summary=ai.urls[0].snippet;if(jsUtilities.trimString(ai.urls[0].snippet)==""){domUtilities.addClassIfNotPresent("null","snippet","sts-dn")}else{domUtilities.removeClassIfPresent("null","snippet","sts-dn")}}else{ab.summary="";domUtilities.addClassIfNotPresent("null","snippet","sts-dn")}}var al=(ab.short_url!=""&&ab.short_url!=null)?ab.short_url:ab.URL;document.getElementById("url").innerHTML=n(al,75,false);document.getElementById("url").setAttribute("href",al);if(am){ab.urlhash=ai.urls[0].urlhash;V(true)}else{if(aj){domUtilities.removeClassIfPresent("null","articleDetails","sts-dn")}else{V(false)}}},addFriendsWallToQueue:function(aj){var ai=false;for(var ak=0;ak<u.length;ak++){if(u[ak].search("facebookfriend")!="-1"){u[ak]="facebookfriend-"+aj;ai=true}}if(!ai){u.push("facebookfriend-"+aj)}},beginOAuth:function(al){clearInterval(clearShareALInterval);if("newhb"==ab.widSrc){stlib.gaLogger.gaLog("Widget_source","Reskin Hoverbar","Attempting OAuth")}else{if("chrExt"==ab.widSrc){stlib.gaLogger.gaLog("Widget_source","Chrome Extension","Attempting OAuth")}}stlib.gaLogger.gaLog("Attempting OAuth - 5xa",al);var ai;ai="http://sharethis.com/account/linking?provider="+al;window.open(ai,"AccountLinkingWindow","status=1, height="+b[al]+", width="+ac[al]+", resizable=1");clearInterval(loginPoller);var ak=true;var aj=0;clearShareALInterval=setInterval(function(){var am=stlib.cookie.getCookie("ShareAL");if(am){stlib.cookie.deleteCookie("ShareAL")}if(stlib.cookie.hasLocalStorage()&&localStorage.ShareAL&&ak){localStorage.removeItem("ShareAL");ak=false;clearInterval(clearShareALInterval)}else{if(aj>25){clearInterval(clearShareALInterval)}}aj=aj+1},100);if(!stlib.cookie.checkCookiesEnabled()){accountLinkingPoller=setInterval(stUser.checkForAccountLinkingCookie,1000)}else{loginPoller=setInterval(stUser.checkForLoginCookie,1000)}},postLoginWidget:function(){if(!((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==false))){domUtilities.removeClassIfPresent("null","signOut","sts-dn");domUtilities.addClassIfNotPresent("null","signIn","sts-dn")}var ap=stUser.getUserDetails();var ak=(ap.name)?ap.name:ap.nickname;var al=lang.strings.msg_share;if(ak.length>14){var ao=ak.slice(0,14)+".."}else{var ao=ak}var am=lang.strings.msg_greeting.length;var aj=am+2+ao.length+lang.strings.msg_share.length;if(aj>50){al=lang.strings.msg_share.substring(0,22)+"..."}document.getElementById("welcomeMsg").innerHTML=' <span class="userName" id="welcomeName" title="'+ak+'"> '+lang.strings.msg_greeting+" "+ao+' <span>|</span>  <a href="javascript:void(0);" id="signOutTop">Not you?</a></span><em>'+al+"</em>";document.getElementById("emailshareHeading").innerHTML='<span class="userName"><a href="javascript:void(0);" id="closeEmailLink" class="backToDefault goBackLink checked" data-value="email" title="Close" onclick="shareWidget.closeEmailWidget();">Close</a></span> <em>'+lang.strings.email_msg_share+"</em>";domUtilities.addListenerCompatible(document.getElementById("signOutTop"),"click",function(){d();if(stlib.cookie.checkCookiesEnabled()==false){setTimeout(function(){ah()},3000)}else{ah()}});domUtilities.addListenerCompatible(document.getElementById("signOutTopEmail"),"click",function(){d();if(stlib.cookie.checkCookiesEnabled()==false){setTimeout(function(){ah()},3000)}else{ah()}});isSignedIn=true;domUtilities.removeClassIfPresent("null","postFriendsLink","sts-dn");domUtilities.addClassIfNotPresent("null","friendsInputWrapper","sts-dn");domUtilities.addClassIfNotPresent("null","failureError","sts-dn");for(var an=0,ai=failedServices.length;an<ai;an++){if(ai==1){shareWidget.showHome()}else{if(failedServices[an]&&failedServices[an].hasOwnProperty(reAuthedService)){failedServices.splice(an,1);continue}shareWidget.makeReauthLink(failedServices)}}},beginMultiShare:function(){shareWidget.onScreenChange(true);clearInterval(sharPoller);var ai={};ai.url=poster.getSharURL();if(ai.url==""){ai.url=ab.URL}ai.title=escape(ab.title);ai.urlhash=ab.urlhash;_shareToEmail=false;var ak=true;for(var aj in u){if(u[aj].search("facebookfriend")!="-1"){stlib.gaLogger.shareLog("facebookfriend")}else{stlib.gaLogger.shareLog(u[aj])}if(u[aj]=="email"){email.hasError=false;_shareToEmail=true;domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");if(document.getElementById("emailAuthentication").style.display==="block"){email.hasError=true;shareWidget.showError(lang.strings.msg_emailshare_direct_click)}else{email.createMessage()}shareWidget.updateServiceCount(u[aj],"Email")}else{ak=false;if(u[aj]=="twitter"){shareWidget.updateServiceCount(u[aj],"Tweet")}else{if(u[aj]=="facebook"){shareWidget.updateServiceCount(u[aj],"Share")}else{if(u[aj]=="yahoo"){shareWidget.updateServiceCount(u[aj],"Y! Pulse")}else{if(u[aj]=="linkedin"){shareWidget.updateServiceCount(u[aj],"LinkedIn")}else{if(u[aj].search("facebookfriend")!="-1"){shareWidget.updateServiceCount(u[aj],"Share");if(jsUtilities.trimString(document.getElementById("txtFriendsName").value)==""){u.splice(aj,1)}}}}}}}}if(_shareToEmail&&email.hasError){return}if(Z&&typeof(facebook)!="undefined"&&(facebook.checkFriendName()==false)){return}if(u.length>0&&!ak){poster.multiPost(stUser.getUserDetails(),ai,u,jsUtilities.stripHTML(document.getElementById("shareMessage").value));domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn")}},updateServiceCount:function(aj,ai){var am=stlib.json.decode(stlib.cookie.getCookie("ServiceHistory"));if(am==false||am==null||am.length<1){am={};am[aj]={};am[aj].service=aj;am[aj].title=ai;am[aj].count=1;stlib.cookie.setCookie("ServiceHistory",stlib.json.encode(am));return true}var ao={};var an=null;var ak=false;var ap=[];for(o in am){if(am[o].service==aj){am[o].count++;am[o].title=ai;ak=true}ap.push(am[o])}if(ak==false){am[aj]={};am[aj].service=aj;am[aj].title=ai;am[aj].count=1}else{ap.sort(function(ar,aq){return aq.count-ar.count});am={};for(var al=0;al<ap.length;al++){am[ap[al].service]=ap[al]}}stlib.cookie.setCookie("ServiceHistory",stlib.json.encode(am));return true},createWordpressScreen:function(){shareWidget.onScreenChange(true);shareWidget.updateServiceCount("wordpress","Wordpress");if(ab.title==null){ab.title=ab.URL}ab.poster="wordpress";stlib.gaLogger.gaLog("Wordpress - 5xa","poster_clicked");var al=["errorMsg","emailShareDetails","emailshareHeading","services","helpText","moreServices","moreTitle","charCounter","greyScreen","extraInfo"];for(var ak in al){domUtilities.addClassIfNotPresent("null",al[ak],"sts-dn")}var ai=["welcomeMsg","mainBody","preShareScreen","serviceCTAs","cancelLink"];for(var ak in ai){domUtilities.removeClassIfPresent("null",ai[ak],"sts-dn")}var aj=document.getElementById("shareMessage");aj.value="YourBlogNameHere.wordpress.com";aj.setAttribute("placeholder","YourBlogNameHere.wordpress.com");aj.setAttribute("maxlength",128);m=true},showMoreFromSingleDone:function(){domUtilities.addClassIfNotPresent("null","doneTitle","sts-dn");domUtilities.addClassIfNotPresent("null","doneScreen","sts-dn");domUtilities.removeClassIfPresent("null","preShareScreen","sts-dn");A=false;shareWidget.showAll()},showMoreServicesFromEmailScreen:function(){M();shareWidget.showAll()},closeEmailWidget:function(){stlib.gaLogger.gaLog("New Email share page - 5xa","email_close_clicked");if(typeof(window.postMessage)!=="undefined"){parent.postMessage("ShareThis|close|Email",document.referrer)}},showPartialDoneScreen:function(){if(domUtilities.hasClass(document.getElementById("partialShared"),"sts-dn")){shareWidget.onScreenChange(true)}domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");shareWidget.showError(lang.strings.msg_share_partial);domUtilities.addClassIfNotPresent("null","preShareScreen","sts-dn");domUtilities.addClassIfNotPresent("null","doneScreen","sts-dn");domUtilities.addClassIfNotPresent("null","serviceCTAs","sts-dn");domUtilities.removeClassIfPresent("null","partialShared","sts-dn");document.getElementById("partialSuccess").innerHTML=document.getElementById("sharedServices").innerHTML;domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")},showDoneScreen:function(ak,aq){if(domUtilities.hasClass(document.getElementById("doneScreen"),"sts-dn")){shareWidget.onScreenChange(true)}var av=stlib.browser.getIEVersion();var aj=av?null:stlib.browser.isFirefox();var au=aj?null:stlib.browser.isSafari();var al=au?null:stlib.browser.isOpera();var ai=al?null:stlib.browser.isChrome();domUtilities.removeClassIfPresent("null","errorMsg","captchaError");domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");if(A==false&&ak){shareWidget.hideError();A=true;domUtilities.removeClass("null","doneTitle","sts-dn");domUtilities.removeClass("null","doneMsg","sts-dn");domUtilities.removeClassIfPresent("null","mainContainer","sts-dn");var an=["preShareScreen","partialShared","serviceCTAs","moreServices","moreTitle","welcomeMsg","greyScreen","emailshareHeading"];for(var ao in an){domUtilities.addClassIfNotPresent("null",an[ao],"sts-dn")}if(u.length>0){domUtilities.addClassIfNotPresent("null","emailBackLink","sts-dn");domUtilities.addClassIfNotPresent("null","againBackLink","sts-dn");domUtilities.removeClassIfPresent("null","againLink","sts-dn")}else{domUtilities.addClassIfNotPresent("null","againLink","sts-dn");domUtilities.addClassIfNotPresent("null","emailBackLink","sts-dn");domUtilities.removeClassIfPresent("null","againBackLink","sts-dn");if(aq){domUtilities.addClassIfNotPresent("null","againBackLink","sts-dn");domUtilities.removeClassIfPresent("null","emailBackLink","sts-dn")}}if(ab.doneScreen==false||url==null){domUtilities.addClassIfNotPresent("null","doneScreen","sts-dn")}else{domUtilities.removeClassIfPresent("null","doneScreen","sts-dn");var at=["stBtnChrome","stBtnExplorer","stBtnFirefox","stBtnSafari","stBtnOpera"],am="";for(var ao=0,ar=at.length;ao<ar;ao++){if(av){am="stBtnExplorer"}else{if(ai){am="stBtnChrome"}else{if(au){am="stBtnSafari"}else{if(al){am="stBtnOpera"}else{am="stBtnFirefox"}}}}domUtilities.replaceClass(at[ao],am)}var ap=(("https:"==document.location.protocol)?"https://ws":"http://w")+".sharethis.com/images/reskin2014/";if(av){document.getElementById("multiIE").src=ap+"share_anywhere_explorer.png";domUtilities.removeClassIfPresent("null","multiIE","sts-dn")}else{if(ai){document.getElementById("multiChrome").src=ap+"share_anywhere_chrome.png";domUtilities.removeClassIfPresent("null","multiChrome","sts-dn");document.getElementsByClassName("stBtnChrome")[0].innerHTML="Share faster with our Chrome Extension &raquo;";document.getElementsByClassName("stBtnChrome")[0].style.position="relative";document.getElementsByClassName("stBtnChrome")[0].style.right="15px";document.getElementsByClassName("stBtnChrome")[0].onclick=function(){window.open("https://chrome.google.com/webstore/detail/sharethis/lplpcpijdokpnbjcklakgabohjgneidi?hl=en-US","external","resizable=1,location=1,status=1,scrollbars=1,toolbar=1,directories=1,personalbar=1,menubar=1");stlib.gaLogger.gaLog("DoneScreen - 5xa","TitleLinkClick")}}else{if(au){document.getElementById("multiSafari").src=ap+"share_anywhere_safari.png";domUtilities.removeClassIfPresent("null","multiSafari","sts-dn")}else{if(al){document.getElementById("multiOpera").src=ap+"share_anywhere_opera.png";domUtilities.removeClassIfPresent("null","multiOpera","sts-dn")}else{document.getElementById("multiFF").src=ap+"share_anywhere_firefox.png";domUtilities.removeClassIfPresent("null","multiFF","sts-dn")}}}}}}else{if(!ak){shareWidget.showError(lang.strings.msg_failed_share)}}domUtilities.removeClassIfPresent("null","mainBody","sts-dn");domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")},getEmailElement:function(){var ai=document.getElementById("bigEmailService");return ai},showHome:function(){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");shareWidget.onScreenChange(true);M();oAuthServiceClicked="";shareWidget.hideError();ab.chicklet_loaded=false;var al=0;domUtilities.removeClassIfPresent("null","greyScreen","cookieDisabled");var ak=["emailCaptchaTPCMessage","doneScreen","greyScreen","emailshareHeading","emailShareDetails","moreServices","doneTitle","moreTitle","cancelLink","charCounter"];var aj=["mainContainer","mainBody","preShareScreen","shareMessage","serviceCTAs","services","helpText","extraInfo","welcomeMsg","serviceNames"];if(ab.minorServices){aj.push("moreLink")}for(al=0;al<ak.length;al++){domUtilities.addClassIfNotPresent("null",ak[al],"sts-dn")}for(al=0;al<aj.length;al++){domUtilities.removeClassIfPresent("null",aj[al],"sts-dn")}if(!(domUtilities.hasClass(document.getElementById("doneScreen"),"sts-dn"))){domUtilities.addClassIfNotPresent("null","welcomeMsg","sts-dn")}var ai=document.getElementById("toolbarUpsell");if(ai!="undefined"&&ai!=null&&typeof(ai)!="undefined"){ai.parentNode.removeChild(ai)}var am=document.getElementById("shareMessage");if(document.all&&(navigator.appVersion.indexOf("MSIE 7.")!=-1||(navigator.appVersion.indexOf("MSIE 6.")!=-1))){document.getElementById("articleDetails").style.marginTop="-10px"}k=false;am.setAttribute("placeholder",lang.strings.shareMessage);N();if(q){am.value="";K()}else{am.setAttribute("maxlength",2000);am.value=lang.strings.shareMessage}document.getElementById("txtFriendsName").value="";domUtilities.removeClassIfPresent("null","txtFriendsName","friendSelected");A=false;m=false;H=false;C();shareWidget.hidePartialDone();shareWidget.resetDoneScreen();domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")},showError:function(ai){document.getElementById("errorMsg").innerHTML=ai;domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn");domUtilities.removeClassIfPresent("null","errorMsg","sts-dn")},hideError:function(){domUtilities.addClassIfNotPresent("null","errorMsg","sts-dn")},showMinorShareMsg:function(){document.getElementById("doneMsg").innerHTML=lang.strings.msg_top_singleShared;domUtilities.addClassIfNotPresent("null","againLink","sts-dn");domUtilities.removeClassIfPresent("null","againBackLink","sts-dn");var aj=document.getElementById("sharedMsg");aj.innerHTML="";aj.appendChild(document.createTextNode(lang.strings.msg_share_again));var ai=document.createElement("A");ai.setAttribute("title","more services");if(ai.attachEvent){ai.attachEvent("onclick",function(){shareWidget.showMoreFromSingleDone()})}else{ai.setAttribute("onclick","shareWidget.showMoreFromSingleDone()")}ai.setAttribute("href","javascript:void(0);");ai.appendChild(document.createTextNode("more services"));aj.appendChild(ai)},makeReauthLink:function(ar){if(typeof(ar)=="undefined"||!ar){ar=failedServices}var aq=document.getElementById("partialReauth"),ap=document.getElementById("partialFail"),an=document.getElementById("incompleteServices"),al=document.getElementById("failureError");aq.innerHTML=ap.innerHTML=an.innerHTML=al.innerHTML="";al.appendChild(document.createTextNode("Log back in to complete your share: "));var ao=ar.length;if(ao>0){var ak={facebook:"Facebook",twitter:"Twitter",linkedin:"LinkedIn",email:"Email"};var aj="";for(var au=0;au<ao;au++){if(ar[au]){for(var am in ar[au]){if(!ar[au].hasOwnProperty(am)){continue}if(!ak.hasOwnProperty(am)){continue}var aw=ak[am];aj+=((aj)?", ":"")+aw;var at=document.createTextNode(aw);var av=document.createElement("A"),ay=document.createElement("STRONG");av.setAttribute("title",aw);av.setAttribute("data-value",am);av.style.color="#007794";av.style.textDecoration="underline";av.setAttribute("href","javascript:void(0);");av.appendChild(at);if(au>0){ay.appendChild(document.createTextNode(", "))}var ai=av.cloneNode(true),ax=ay.cloneNode(true);domUtilities.addListenerCompatible(av,"click",Q);domUtilities.addListenerCompatible(ai,"click",Q);ay.appendChild(av);ax.appendChild(ai);aq.appendChild(ay);al.appendChild(ax)}}}aj=aj.replace(/,([^,]*)$/," &amp; $1");ap.innerHTML=aj;an.innerHTML=aj}},showSharedServices:function(aj){if(typeof(aj)=="undefined"||!aj){return}var an=document.getElementById("sharedServices");if(an){domUtilities.removeClassIfPresent(an,"null","sts-dn");var am={facebook:"Facebook",twitter:"Twitter",linkedin:"LinkedIn",email:"Email"};var al="",ai=sharedServices.length;if(ai>1){for(var ao=0;ao<ai;ao++){for(var ak in sharedServices[ao]){if(!am.hasOwnProperty(ak)){continue}if(!sharedServices[ao][ak]){continue}if(al.indexOf(am[ak])==-1){al+=((al)?", ":"")+am[ak]}}}al=al.replace(/,([^,]*)$/," &amp; $1")}else{if(am.hasOwnProperty(aj)){al=am[aj]}else{al=an.innerHTML;al=al.substring(0,(al.length-3))}}an.innerHTML=al;domUtilities.removeClassIfPresent("null","sharedMsg","sts-dn")}},showFailedServices:function(ai){var ao=document.getElementById("incompleteSharedMsg");if(ao){domUtilities.removeClassIfPresent(ao,"null","sts-dn");ao.innerHTML="";var an=lang.strings.msg_share_fail;var am=" - ";var al=lang.strings.msg_againLink;ao.appendChild(document.createTextNode(an));var ak=document.createElement("SPAN");ak.setAttribute("id","incompleteServices");ao.appendChild(ak);ao.appendChild(document.createTextNode(am));var aj=document.createElement("A");aj.setAttribute("title",al);if(aj.attachEvent){aj.attachEvent("onclick",function(){shareWidget.showHome()})}else{aj.setAttribute("onclick","shareWidget.showHome()")}aj.style.color="#007794";aj.setAttribute("href","javascript:void(0);");aj.appendChild(document.createTextNode(al));ao.appendChild(aj)}},showSuccess:function(ai){var aj=document.getElementById("doneMsg");if(aj){aj.innerHTML=lang.strings.msg_top_shareSuccess}shareWidget.showSharedServices(ai)},showFail:function(ai){var al=document.getElementById("doneMsg");if(al){al.innerHTML=lang.strings.msg_top_shareFail}if(ai){shareWidget.showFailedServices(ai);var ak=document.getElementById("doneMsg");if(ak){ak.innerHTML="Sharing Incomplete!"}domUtilities.addClassIfNotPresent(document.getElementById("sharedMsg"),"null","sts-dn");domUtilities.removeClassIfPresent("null","failureError","sts-dn");shareWidget.makeReauthLink(failedServices);var an=stUser.getUserDetails();delete an.thirdPartyUsers[ai];for(var aj in an.thirdPartyTypes){if(ai==an.thirdPartyTypes[aj]){an.thirdPartyTypes.splice(aj,1);break}}var am=stlib.cookie.getCookie("stOAuth");if(am){am=stlib.json.decode(am);delete am[ai];stlib.cookie.setCookie("stOAuth",stlib.json.encode(am),365)}}},hidePartialDone:function(){domUtilities.removeClassIfPresent("null","loadingUrlInfo","sts-dn");shareWidget.onScreenChange(true);shareWidget.hideError();failedServices.splice(0,failedServices.length);domUtilities.addClassIfNotPresent("null","partialShared","sts-dn");_shownPartial=false;document.getElementById("partialSuccess").innerHTML="";document.getElementById("partialFail").innerHTML="";document.getElementById("partialReauth").innerHTML="";reAuthedService="";domUtilities.addClassIfNotPresent("null","loadingUrlInfo","sts-dn")},resetDoneScreen:function(){sharedServices.splice(0,sharedServices.length);domUtilities.addClassIfNotPresent("null","failureError","sts-dn");domUtilities.addClassIfNotPresent("null","incompleteSharedMsg","sts-dn");domUtilities.removeClassIfPresent(document.getElementById("incompleteSharedMsg").firstChild,"null","reddish");if(document.getElementById("failureError").hasChildNodes()){domUtilities.removeClassIfPresent(document.getElementById("failureError").firstChild,"null","reddish")}var ai=document.getElementById("sharedMsg");if(ai){ai.innerHTML=lang.strings.msg_share_success}domUtilities.addClassIfNotPresent("null","sharedServices","sts-dn");ai=document.getElementById("sharedServices");if(ai){ai.innerHTML=""}ai=document.getElementById("doneMsg");if(ai){ai.innerHTML=lang.strings.msg_top_shareSuccess}}}}();var poster=function(){var b=false,a="";return{clearSharURL:function(){a="";b=false},createShar:function(d){var c=shareWidget.getConfigOptions();if(d!==""&&d!==" "&&d!==null&&!b){if(c.shorten!=true){a=d;b=true;return true}else{var e=["return=json","cb=poster.createShar_onSuccess","service=createSharURL","url="+encodeURIComponent(d)];e=e.join("&");jsonp.makeRequest((("https:"==document.location.protocol)?"https://ws.":"http://wd.")+"sharethis.com/api/getApi.php?"+e)}}},createShar_onSuccess:function(c){if(c.status=="SUCCESS"){a=c.data.sharURL;b=true}},getSharURL:function(){return a},postToWordpress:function(d){var c=shareWidget.getConfigOptions();var e=document.getElementById("shareMessage").value;e=e.replace(/^https?:\/\//,"");if(jsUtilities.trimString(e)==""||e==document.getElementById("shareMessage").getAttribute("placeholder")){shareWidget.showError(lang.strings.msg_empty_wp)}else{_$d_();_$d1("Submitted wordpress share");shareWidget.hideError();stlib.data.resetShareData();stlib.data.set("url",c.URL,"shareInfo");stlib.data.set("short_url",c.short_url,"shareInfo");stlib.data.set("title",c.title,"shareInfo");stlib.data.set("buttonType",c.type,"shareInfo");stlib.data.set("destination","wordpress","shareInfo");stlib.data.setSource("5x",c);var f="";if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){f=localStorage.ShareUT}if((f!==false)&&(f!="undefined")&&(typeof(f)!=="undefined")&&(!stlib.cookie.checkCookiesEnabled())){stlib.data.set("token",f,"shareInfo")}if(typeof(c.thumb)!="undefined"&&c.thumb!=null){stlib.data.set("image",c.thumb,"shareInfo")}if(typeof(c.summary)!="undefined"&&c.summary!=null){stlib.data.set("description",c.summary,"shareInfo")}stlib.data.set("wpurl",e,"shareInfo");stlib.sharer.share(null,c.servicePopup);shareWidget.showMinorShareMsg();shareWidget.showDoneScreen(true)}return true},post_onSuccess:function(c){var d=true;if(c){if(typeof(c.status)!="undefined"&&c.status=="SUCCESS"){if(typeof(c.statusMessage)!="undefined"){if(c.statusMessage=="EMAIL_SUCCESSFUL"){sharedServices.push({email:1});shareWidget.showSuccess("email")}if(c.statusMessage=="LINKEDIN_POST_SUCCESSFUL"){sharedServices.push({linkedin:1});shareWidget.showSuccess("linkedin")}if(c.statusMessage=="FACEBOOK_POST_SUCCESSFUL"){if((/error/).test(c.postID)){sharedServices.push({facebook:0});failedServices.push({facebook:1});shareWidget.showFail("facebook");d=false}else{sharedServices.push({facebook:1});shareWidget.showSuccess("facebook")}}}else{sharedServices.push({twitter:1});shareWidget.showSuccess("twitter")}}else{d=false;if(typeof(c.statusMessage)!="undefined"){if(c.statusMessage==""||c.statusMessage=="LINKEDIN_POST_FAILED"){sharedServices.push({linkedin:0});failedServices.push({linkedin:1});shareWidget.showFail("linkedin")}if(c.statusMessage=="FACEBOOK_OAUTH_PERMISSIONS"||c.statusMessage=="FACEBOOK_GET_PERMISSIONS_FAILED"||c.statusMessage=="FACEBOOK_OAUTH_TOKEN_EXPIRED"||c.statusMessage=="FACEBOOK_PERMISSIONS_MISSING"||c.statusMessage=="FACEBOOK_POST_FAILED"){sharedServices.push({facebook:0});failedServices.push({facebook:1});shareWidget.showFail("facebook")}if(c.statusMessage=="POST_TWITTER_SERVICE_FAILED"){if(c.errorMessage&&c.errorMessage.length==1&&c.errorMessage[0].code==187){d=true;sharedServices.push({twitter:1});shareWidget.showSuccess("twitter")}else{sharedServices.push({twitter:0});failedServices.push({twitter:1});shareWidget.showFail("twitter")}}}else{sharedServices.push({twitter:0});failedServices.push({twitter:1});shareWidget.showFail("twitter")}}}else{shareWidget.showFail();d=false}if((_shareToEmail&&_isEmailShareDone)||!_shareToEmail){if(_partiallyShared!==null&&(d!==_partiallyShared||_shownPartial===true)){shareWidget.showPartialDoneScreen();_shownPartial=true}else{_partiallyShared=d;shareWidget.showDoneScreen(true)}}domUtilities.removeClassIfPresent("null","doneScrMessage","minors")},multiPost:function(d,h,k,g){_$d_();_$d1("Starting a Multipost");_$d2("User:");_$d(d);_$d2("The object with article information:");_$d(h);_$d2("The Services:");_$d(k);_$d2("The Comment:");_$d(g);_$d_();var l=shareWidget.getConfigOptions();var j=g.match(/http:\/\/.*shar.es/);if(j){}stlib.gaLogger.gaLog("Multi-Post - 5xa",k.toString());_partiallyShared=null;for(var f in k){_$d1("Processing MultiShare: "+k[f]);if(k[f]=="email"){continue}stlib.gaLogger.gaLog("Posting to.. - 5xa",k[f]);stlib.data.resetShareData();stlib.data.set("url",l.URL,"shareInfo");stlib.data.set("short_url",l.short_url,"shareInfo");stlib.data.set("sharURL",h.url,"shareInfo");stlib.data.set("title",h.title,"shareInfo");stlib.data.set("image",l.thumb,"shareInfo");stlib.data.set("description",l.summary,"shareInfo");stlib.data.set("buttonType",l.type,"shareInfo");stlib.data.set("destination",k[f],"shareInfo");stlib.data.setSource("oauth5x",l);var e="";if((stlib.cookie.checkCookiesEnabled()==false)&&(stlib.cookie.hasLocalStorage()==true)){e=localStorage.ShareUT}if((e!==false)&&(e!="undefined")&&(typeof(e)!=="undefined")&&(!stlib.cookie.checkCookiesEnabled())){stlib.data.set("token",e,"shareInfo")}var n=g;if(g==lang.strings.shareMessage){g=""}if(n==lang.strings.shareMessage){n=""}stlib.data.set("comment",g,"shareInfo");var p=k[f];if(k[f].search("facebookfriend")!="-1"){p="facebookfriend";stlib.data.set("destination","facebookfriend","shareInfo")}switch(p){case"twitter":if(n.length>117){var m=n.slice(n.indexOf("http"),n.indexOf("http")+24);n=n.slice(0,112)+"... "+m}stlib.data.set("comment",n,"shareInfo");break;case"facebook":break;case"yahoo":break;case"linkedin":break;case"facebookfriend":var c=k[f].slice(k[f].indexOf("-")+1);stlib.data.set("friend_id",c,"shareInfo");break}stlib.sharer.oauth.share(poster.post_onSuccess)}}}}();if(typeof(window.addEventListener)!="undefined"){window.addEventListener("load",shareWidget.initialize,false)}else{if(typeof(document.addEventListener)!="undefined"){document.addEventListener("load",shareWidget.initialize,false)}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("onload",shareWidget.initialize)}}}if(typeof(lang)=="undefined"){var lang={};lang.strings=new Object;lang.strings.msg_no_services_selected="Oops, an error : please select a service below to share to.";lang.strings.msg_no_email_recipients="Please enter a valid recipient email address.";lang.strings.msg_valid_email_add_from='Please enter a valid email address in the "From" field.';lang.strings.msg_valid_recipients="Please enter a valid recipient";lang.strings.msg_share="Share this with your friends";lang.strings.email_msg_share="Select your email service";lang.strings.msg_view_all="More";lang.strings.msg_hide_all="Back";lang.strings.msg_share_success="Your message was successfully shared to ";lang.strings.msg_share_again="Keep sharing to ";lang.strings.msg_related_shares="Most Popular Articles";lang.strings.msg_get_button="Get the button!";lang.strings.msg_get_toolbar="Get the add-on now!";lang.strings.msg_put_sharethis="Easily share your favorite finds online with a click of a button";lang.strings.msg_email_privacy="Privacy Policy";lang.strings.msg_import_contacts="Import contacts";lang.strings.msg_signout="Sign out";lang.strings.msg_failed_login="An error occured during login. Retrying..";lang.strings.msg_empty_wp="Please enter a valid wordpress blog address below to share.";lang.strings.msg_empty_att="Please enter a valid client ID below to share.";lang.strings.msg_email_to="To";lang.strings.msg_email_from="From";lang.strings.msg_share_to_destinations="Pick one or more destinations:";lang.strings.msg_failed_share="There was an error while sharing. Please try again.";lang.strings.msg_facebook_friend="Please enter a valid Facebook friend name.";lang.strings.msg_greeting="Hi";lang.strings.msg_top_emailshare="Sign in to share via email";lang.strings.msg_emailshare_direct_click="Please login to send email.";lang.strings.chicklet_search_field="Search for services";lang.strings.shareMessage="Write your comment here...";lang.strings.txtYourAddr="To";lang.strings.txtFromAddr="From";lang.strings.msg_top_singleShared="Thanks for using ShareThis";lang.strings.msg_top_shareSuccess="Successfully Shared!";lang.strings.msg_top_shareFail="Sharing incomplete!";lang.strings.msg_againLink="Share again";lang.strings.msg_share_fail="Your message could not be shared. ";lang.strings.msg_share_partial="Looks like there's been a bit of a hiccup"};