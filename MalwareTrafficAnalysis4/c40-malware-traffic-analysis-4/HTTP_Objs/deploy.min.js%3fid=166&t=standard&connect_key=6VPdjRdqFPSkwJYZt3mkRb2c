var OHUB=OHUB||{},CMG=CMG||{};OHUB.loaded=OHUB.loaded||[];CMG.widgets=CMG.widgets||[];CMG.widgets.loaded=CMG.widgets.loaded||[];CMG.widgets.insert_targets=CMG.widgets.insert_targets||[];CMG.widgets.msg_queue=CMG.widgets.msg_queue||[];CMG.widget=CMG.widget||{};(function(){var t=false,h='166',D='standard',c='166',n='standard',l="1411885082",w=0,o="http://widgets.hubpost.com",C=[],e=o+"/deploy.min.js",f=document.getElementsByTagName("script"),d=false,q='www.shotgunworld.com',z="http://st.ohub.us",m;for(var r=0;r<f.length;r++){var E=f[r].src;if(f[r].getAttribute("data-widget_id")&&f[r].getAttribute("data-widget_id")==c&&E.indexOf("t="+n)!==-1){if(E.indexOf("dev.widgets")!==-1||(E.indexOf("widgets.hubpost.com")===-1&&E.indexOf("widgets-direct.hubpost.com")===-1)){d=true;z="http://dev.st.ohub.us"}m=f[r];break}}CMG.widgets.libs={core:"http://s3.ohub.us/ohub_core.min.js?lmt="+l,plugins:"http://widgets.hubpost.com/core/js/plugins.min.js?lmt="+l,common:"http://widgets.hubpost.com/core/js/common.min.js?lmt="+l,main:"http://widgets.hubpost.com/core/js/main.min.js?lmt="+l};function B(F,u,K){var H=[];for(var J=0;J<F.length;J++){var L=F[J].split("=")[0];var s=F[J].split("=")[1];if(String("|"+u.join("|")+"|").indexOf("|"+L+"|")!==-1){H[L]=s}}for(var J=0;J<u.length;J++){var G=u[J];var I=K[G];H[G]=I}for(var J=0;J<F.length;J++){var L=F[J].split("=")[0];var s=F[J].split("=")[1];if(L==="layout"){if(s==="full"||s==="half"||s==="column"){H[L]=s}else{if(s==="custom"){H[L]=s}}}else{if(L==="width"||L==="height"){H[L]=s}}}return H}function y(s){OHUB.loaded.push(s)}function k(F,u){var G=document.createElement("script");G.type="text/javascript";G.src=F;if(G.readyState){G.onreadystatechange=function(){if(G.readyState=="loaded"||G.readyState=="complete"){G.onreadystatechange=null;y(F);u()}}}else{G.onload=function(){y(F);u()}}G.src=F;document.getElementsByTagName("head")[0].appendChild(G)}function A(s){k(CMG.widgets.libs.core,function(){if(typeof(s)=="function"){s()}})}function b(F,G){var u=s(F);$hpw_.jsonp({url:G,cache:false,data:u,callback:"cb",callbackParameter:"cb",error:function(I,H){if(typeof(cb)=="function"){return cb()}},success:function(H,I){if(typeof(cb)=="function"){return cb()}}});function s(I){var H={a:27,o:"json",ref:q};for(var J in I){H[J]=I[J]}return H}}function p(){var s={a:27,t:"widget",w:h,wt:(D==="dashboard")?"standard":D,x:70,c:62,ref:q};jQuery("<img />",{src:z+"?"+jQuery.param(s)}).after(m)}function x(){var H=$hpw_.Deferred(),I=m.src.split("?")[1].split("&"),u=CMG.widgets.length,G=["id","t","type","width","height","layout","theme","temp","is_theme_custom","is_overriden","old_widget_id","old_type","old_layout","old_width","old_height","old_theme_id","connect_key","is_disabled","is_dev","ref_domain"],s={id:'166',t:'standard',type:'standard',width:'615',height:'700',layout:'custom',theme:'',temp:'',insert_target:'',is_theme_custom:'1',is_overriden:'0',old_widget_id:'166',old_type:'standard',old_layout:'custom',old_width:'615',old_height:'700',old_theme_id:'67',connect_key:'6VPdjRdqFPSkwJYZt3mkRb2c',is_disabled:'0',is_dev:d,ref_domain:q},J=$hpw_(m).get(0),F=B(I,G,s);if(F.type==="dashboard"||F.type==="dashboard-youtube"){F.db_ad_image=$hpw_(m).data("img");F.db_ad_clickthru=$hpw_(m).data("ct");F.db_ad_impression=$hpw_(m).data("imp");F.db_ad_background=$hpw_(m).data("bg")}CMG.widgets[u]=F;F.type=(typeof(F.t)!="undefined"&&F.t!=="")?F.t:F.type;F.dom_id=u;F.widget_id=F.id;F.old_widget_id=(typeof(F.old_widget_id==""))?F.id:F.old_widget_id;F.old_type=(typeof(F.old_type==""))?F.type:F.old_type;F.insert_target=J;H.resolve(F);return H.promise()}function i(u){OHUB.debug("create_elements() widget["+u.dom_id+"].init");var s=document.createElement("widget"),F=u.insert_target;CMG.widgets[u.dom_id]=u;s.id=u.widget_id;s.className=u.type;F.parentNode.insertBefore(s,F);CMG.widgets.insert_targets.push(m.src);var H=new CMG.widget.load;var G=$hpw_.extend(H,{args_id:u.args_id,dom_id:u.dom_id,type:u.type,width:u.width,height:u.height,layout:u.layout,theme:u.theme,insert_target:u.insert_target,temp:u.temp,is_theme_custom:u.is_theme_custom,is_overriden:u.is_overriden,old_args_id:u.old_args_id,old_type:u.old_type,old_layout:u.old_layout,old_width:u.old_width,old_height:u.old_height,old_theme_id:u.old_theme_id,is_dev:u.is_dev});CMG.widgets[u.dom_id]=G;CMG.widgets[u.dom_id].init(u)}function j(){OHUB.debug("widget_init()");$hpw_.when(x()).then(function(F){if(parseInt(F.is_disabled,10)){$hpw_("body").append($hpw_("<img>",{src:OHUB.cachebust("http://b.scorecardresearch.com/p?c1=7&c2=7393660&c3=1&cb=[timestamp]"),height:1,width:1,alt:""}))}else{var s="standard";if(F.type==="youtube"||F.type==="dashboard-youtube"){s="youtube"}var u={t:"widget",w:F.widget_id,wt:s,x:68,c:62,ref:q};b(u,z);i(F)}})}function a(){OHUB.debug("load_libs()");var s=$hpw_.Deferred();if(typeof(CMG.widget.common)=="undefined"||typeof(CMG.widget.main)=="undefined"){k(CMG.widgets.libs.common,function(){$hpw_.when(g()).then(function(){s.resolve()})})}else{s.resolve()}return s.promise()}function g(){OHUB.debug("load_main()");var s=$hpw_.Deferred();k(CMG.widgets.libs.main,function(){s.resolve()});return s.promise()}(function v(){var s;if(OHUB.CORE){OHUB.debug("core");OHUB.core_status="loaded";OHUB.jquery(function(u){p();if(jQuery.inArray(CMG.widgets.libs.plugins,OHUB.loaded)==-1){k(CMG.widgets.libs.plugins,function(){OHUB.loaded.push(CMG.widgets.libs.plugins);if(u){window.$_=window.$_||jQuery.noConflict();window.$hpw_=window.hpw_||jQuery.noConflict()}else{window.$_=window.$_||jQuery;window.$hpw_=window.hpw_||jQuery}$hpw_.when(a()).then(function(F){j()})})}else{$hpw_.when(a()).then(function(F){j()})}},false,"1.8.3")}else{if(OHUB.core_status=="loading"){s=window.setTimeout(function(){v()},1000)}else{OHUB.core_status="loading";A(function(){v()})}}})()})();CMG.widget.load=function(){return{config:{lmt:"1411885082",host:"widgets.hubpost.com",ms:0},widget_id:null,dom_id:null,type:null,layout:null,width:null,height:null,theme:null,elem:null,insert_target:null,temp:null,is_overriden:null,is_theme_custom:null,old_widget_id:null,old_type:null,old_layout:null,old_width:null,old_height:null,old_theme_id:null,msg_queue:[],is_dev:null,ref_domain:null,init:function(c){var b="CMG.widget["+c.widget_id+"]_boot",a=this;this.debug(b);a.deploy(c)},deploy:function(b){this.debug("deploy(widget_id="+b.widget_id+", dom_id="+b.dom_id+", type="+b.type+", insert_target="+b.insert_target+")");var a=new CMG.widget.main;var c=$hpw_.extend(a,{widget_id:b.widget_id,dom_id:b.dom_id,type:b.type,theme:b.theme,width:b.width,height:b.height,layout:b.layout,insert_target:b.insert_target,temp:b.temp,is_theme_custom:b.is_theme_custom,is_overriden:b.is_overriden,old_widget_id:b.old_widget_id,old_type:b.old_type,old_layout:b.old_layout,old_width:b.old_width,old_height:b.old_height,old_theme_id:b.old_theme_id});CMG.widgets[b.dom_id]=c;if(b.type==="dashboard"||b.type==="dashboard-youtube"){CMG.widgets[b.dom_id].init(b)}else{$hpw_("widget#"+b.widget_id+"."+b.type).waypoint(function(d){OHUB.debug("WAYPOINT REACHED: selector="+b.insert_target+", id="+b.widget_id,"info");CMG.widgets[b.dom_id].init(b)},{triggerOnce:true,continuous:true,offset:"bottom-in-view"}).scroll()}},base_url:function(){this.debug("base_url()");return"http://"+this.config.host},debug:function(a,b,d,c){d=(typeof(d)!="undefined")?d:"CMG.widget";c=(typeof(c)!="undefined")?c:false;OHUB.debug(a,b,d,c)}}};