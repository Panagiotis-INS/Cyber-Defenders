$BV.Internal.define("jquery.effects.core",[document],["jquery.core"],function(a,b){b.effects||(function(j,g){j.effects={};j.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(p,o){j.fx.step[o]=function(q){if(!q.colorInit){q.start=n(q.elem,o);q.end=l(q.end);q.colorInit=true}q.elem.style[o]="rgb("+Math.max(Math.min(parseInt((q.pos*(q.end[0]-q.start[0]))+q.start[0],10),255),0)+","+Math.max(Math.min(parseInt((q.pos*(q.end[1]-q.start[1]))+q.start[1],10),255),0)+","+Math.max(Math.min(parseInt((q.pos*(q.end[2]-q.start[2]))+q.start[2],10),255),0)+")"}});function l(p){var o;if(p&&p.constructor==Array&&p.length==3){return p}if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(p)){return[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10)]}if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(p)){return[parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55]}if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(p)){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(p)){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}if(o=/rgba\(0, 0, 0, 0\)/.exec(p)){return c.transparent}return c[j.trim(p).toLowerCase()]}function n(q,o){var p;do{p=j.curCSS(q,o);if(p!=""&&p!="transparent"||j.nodeName(q,"body")){break}o="backgroundColor"}while(q=q.parentNode);return l(p)}var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var h=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function i(){var r=a.defaultView?a.defaultView.getComputedStyle(this,null):this.currentStyle,s={},p,q;if(r&&r.length&&r[0]&&r[r[0]]){var o=r.length;while(o--){p=r[o];if(typeof r[p]=="string"){q=p.replace(/\-(\w)/g,function(t,u){return u.toUpperCase()});s[q]=r[p]}}}else{for(p in r){if(typeof r[p]==="string"){s[p]=r[p]}}}return s}function d(p){var o,q;for(o in p){q=p[o];if(q==null||j.isFunction(q)||o in e||(/scrollbar/).test(o)||(!(/color/i).test(o)&&isNaN(parseFloat(q)))){delete p[o]}}return p}function k(o,q){var r={_:0},p;for(p in q){if(o[p]!=q[p]){r[p]=q[p]}}return r}j.effects.animateClass=function(o,p,r,q){if(j.isFunction(r)){q=r;r=null}return this.queue(function(){var v=j(this),s=v.attr("style")||" ",w=d(i.call(this)),u,t=v.attr("class");j.each(h,function(x,y){if(o[y]){v[y+"Class"](o[y])}});u=d(i.call(this));v.attr("class",t);v.animate(k(w,u),{queue:false,duration:p,easing:r,complete:function(){j.each(h,function(x,y){if(o[y]){v[y+"Class"](o[y])}});if(typeof v.attr("style")=="object"){v.attr("style").cssText="";v.attr("style").cssText=s}else{v.attr("style",s)}if(q){q.apply(this,arguments)}j.dequeue(this)}})})};j.fn.extend({_addClass:j.fn.addClass,addClass:function(p,o,r,q){return o?j.effects.animateClass.apply(this,[{add:p},o,r,q]):this._addClass(p)},_removeClass:j.fn.removeClass,removeClass:function(p,o,r,q){return o?j.effects.animateClass.apply(this,[{remove:p},o,r,q]):this._removeClass(p)
},_toggleClass:j.fn.toggleClass,toggleClass:function(q,p,o,s,r){if(typeof p=="boolean"||p===g){if(!o){return this._toggleClass(q,p)}else{return j.effects.animateClass.apply(this,[(p?{add:q}:{remove:q}),o,s,r])}}else{return j.effects.animateClass.apply(this,[{toggle:q},p,o,s])}},switchClass:function(o,q,p,s,r){return j.effects.animateClass.apply(this,[{add:q,remove:o},p,s,r])}});j.extend(j.effects,{version:"1.8.16",save:function(p,q){for(var o=0;o<q.length;o++){if(q[o]!==null){p.data("ec.storage."+q[o],p[0].style[q[o]])}}},restore:function(p,q){for(var o=0;o<q.length;o++){if(q[o]!==null){p.css(q[o],p.data("ec.storage."+q[o]))}}},setMode:function(o,p){if(p=="toggle"){p=o.is(":hidden")?"show":"hide"}return p},getBaseline:function(p,q){var r,o;switch(p[0]){case"top":r=0;break;case"middle":r=0.5;break;case"bottom":r=1;break;default:r=p[0]/q.height}switch(p[1]){case"left":o=0;break;case"center":o=0.5;break;case"right":o=1;break;default:o=p[1]/q.width}return{x:o,y:r}},createWrapper:function(o){if(o.parent().is(".ui-effects-wrapper")){return o.parent()}var p={width:o.outerWidth(true),height:o.outerHeight(true),"float":o.css("float")},r=j("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),q=a.activeElement;o.wrap(r);if(o[0]===q||j.contains(o[0],q)){j(q).focus()}r=o.parent();if(o.css("position")=="static"){r.css({position:"relative"});o.css({position:"relative"})}else{j.extend(p,{position:o.css("position"),zIndex:o.css("z-index")});j.each(["top","left","bottom","right"],function(s,t){p[t]=o.css(t);if(isNaN(parseInt(p[t],10))){p[t]="auto"}});o.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return r.css(p).show()},removeWrapper:function(o){var p,q=a.activeElement;if(o.parent().is(".ui-effects-wrapper")){p=o.parent().replaceWith(o);if(o[0]===q||j.contains(o[0],q)){j(q).focus()}return p}return o},setTransition:function(p,r,o,q){q=q||{};j.each(r,function(t,s){unit=p.cssUnit(s);if(unit[0]>0){q[s]=unit[0]*o+unit[1]}});return q}});function f(p,o,q,r){if(typeof p=="object"){r=o;q=null;o=p;p=o.effect}if(j.isFunction(o)){r=o;q=null;o={}}if(typeof o=="number"||j.fx.speeds[o]){r=q;q=o;o={}}if(j.isFunction(q)){r=q;q=null}o=o||{};q=q||o.duration;q=j.fx.off?0:typeof q=="number"?q:q in j.fx.speeds?j.fx.speeds[q]:j.fx.speeds._default;r=r||o.complete;return[p,o,q,r]}function m(o){if(!o||typeof o==="number"||j.fx.speeds[o]){return true}if(typeof o==="string"&&!j.effects[o]){return true}return false}j.fn.extend({effect:function(r,q,t,v){var p=f.apply(this,arguments),s={options:p[1],duration:p[2],callback:p[3]},u=s.options.mode,o=j.effects[r];if(j.fx.off||!o){if(u){return this[u](s.duration,s.callback)}else{return this.each(function(){if(s.callback){s.callback.call(this)}})}}return o.call(this,s)},_show:j.fn.show,show:function(p){if(m(p)){return this._show.apply(this,arguments)}else{var o=f.apply(this,arguments);o[1].mode="show";return this.effect.apply(this,o)}},_hide:j.fn.hide,hide:function(p){if(m(p)){return this._hide.apply(this,arguments)}else{var o=f.apply(this,arguments);o[1].mode="hide";return this.effect.apply(this,o)}},__toggle:j.fn.toggle,toggle:function(p){if(m(p)||typeof p==="boolean"||j.isFunction(p)){return this.__toggle.apply(this,arguments)}else{var o=f.apply(this,arguments);o[1].mode="toggle";return this.effect.apply(this,o)}},cssUnit:function(o){var p=this.css(o),q=[];j.each(["em","px","%","pt"],function(r,s){if(p.indexOf(s)>0){q=[parseFloat(p),s]}});return q}});j.easing.jswing=j.easing.swing;j.extend(j.easing,{def:"easeOutQuad",swing:function(p,q,o,s,r){return j.easing[j.easing.def](p,q,o,s,r)},easeInQuad:function(p,q,o,s,r){return s*(q/=r)*q+o},easeOutQuad:function(p,q,o,s,r){return -s*(q/=r)*(q-2)+o},easeInOutQuad:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q+o}return -s/2*((--q)*(q-2)-1)+o},easeInCubic:function(p,q,o,s,r){return s*(q/=r)*q*q+o},easeOutCubic:function(p,q,o,s,r){return s*((q=q/r-1)*q*q+1)+o},easeInOutCubic:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q*q+o
}return s/2*((q-=2)*q*q+2)+o},easeInQuart:function(p,q,o,s,r){return s*(q/=r)*q*q*q+o},easeOutQuart:function(p,q,o,s,r){return -s*((q=q/r-1)*q*q*q-1)+o},easeInOutQuart:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q*q*q+o}return -s/2*((q-=2)*q*q*q-2)+o},easeInQuint:function(p,q,o,s,r){return s*(q/=r)*q*q*q*q+o},easeOutQuint:function(p,q,o,s,r){return s*((q=q/r-1)*q*q*q*q+1)+o},easeInOutQuint:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q*q*q*q+o}return s/2*((q-=2)*q*q*q*q+2)+o},easeInSine:function(p,q,o,s,r){return -s*Math.cos(q/r*(Math.PI/2))+s+o},easeOutSine:function(p,q,o,s,r){return s*Math.sin(q/r*(Math.PI/2))+o},easeInOutSine:function(p,q,o,s,r){return -s/2*(Math.cos(Math.PI*q/r)-1)+o},easeInExpo:function(p,q,o,s,r){return(q==0)?o:s*Math.pow(2,10*(q/r-1))+o},easeOutExpo:function(p,q,o,s,r){return(q==r)?o+s:s*(-Math.pow(2,-10*q/r)+1)+o},easeInOutExpo:function(p,q,o,s,r){if(q==0){return o}if(q==r){return o+s}if((q/=r/2)<1){return s/2*Math.pow(2,10*(q-1))+o}return s/2*(-Math.pow(2,-10*--q)+2)+o},easeInCirc:function(p,q,o,s,r){return -s*(Math.sqrt(1-(q/=r)*q)-1)+o},easeOutCirc:function(p,q,o,s,r){return s*Math.sqrt(1-(q=q/r-1)*q)+o},easeInOutCirc:function(p,q,o,s,r){if((q/=r/2)<1){return -s/2*(Math.sqrt(1-q*q)-1)+o}return s/2*(Math.sqrt(1-(q-=2)*q)+1)+o},easeInElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y)==1){return o+z}if(!w){w=y*0.3}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}return -(r*Math.pow(2,10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w))+o},easeOutElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y)==1){return o+z}if(!w){w=y*0.3}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}return r*Math.pow(2,-10*u)*Math.sin((u*y-v)*(2*Math.PI)/w)+z+o},easeInOutElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y/2)==2){return o+z}if(!w){w=y*(0.3*1.5)}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}if(u<1){return -0.5*(r*Math.pow(2,10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w))+o}return r*Math.pow(2,-10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w)*0.5+z+o},easeInBack:function(p,q,o,v,u,r){if(r==g){r=1.70158}return v*(q/=u)*q*((r+1)*q-r)+o},easeOutBack:function(p,q,o,v,u,r){if(r==g){r=1.70158}return v*((q=q/u-1)*q*((r+1)*q+r)+1)+o},easeInOutBack:function(p,q,o,v,u,r){if(r==g){r=1.70158}if((q/=u/2)<1){return v/2*(q*q*(((r*=(1.525))+1)*q-r))+o}return v/2*((q-=2)*q*(((r*=(1.525))+1)*q+r)+2)+o},easeInBounce:function(p,q,o,s,r){return s-j.easing.easeOutBounce(p,r-q,0,s,r)+o},easeOutBounce:function(p,q,o,s,r){if((q/=r)<(1/2.75)){return s*(7.5625*q*q)+o}else{if(q<(2/2.75)){return s*(7.5625*(q-=(1.5/2.75))*q+0.75)+o}else{if(q<(2.5/2.75)){return s*(7.5625*(q-=(2.25/2.75))*q+0.9375)+o}else{return s*(7.5625*(q-=(2.625/2.75))*q+0.984375)+o}}}},easeInOutBounce:function(p,q,o,s,r){if(q<r/2){return j.easing.easeInBounce(p,q*2,0,s,r)*0.5+o}return j.easing.easeOutBounce(p,q*2-r,0,s,r)*0.5+s*0.5+o}})})(b)});
$BV.Internal.define("analyticsVersioning",[window,document],["exports","jquery.core"],function(i,l,e,h){var k=g(5,1);var a=g(4,3);var f={};f["5.1"]=["attributes","bvProduct","brand","bvExtension","eName","association","conversionTrackingMetadata","conversionTrackingName","eventTarget","eType","eventSource","fieldGroup","fieldName","formAction","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","submissionBodyLength","submissionBodyLengthSummary","urlPageName","view","fbPermissions","bvClientName","bvDisplayCode"];f["5.0"]=["attributes","bvProduct","brand","bvExtension","eName","association","conversionTrackingMetadata","conversionTrackingName","eventTarget","eType","eventSource","fieldGroup","fieldName","formAction","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","submissionBodyLength","submissionBodyLengthSummary","urlPageName","view","bvClientName","bvDisplayCode"];f["4.9"]=["attributes","bvProduct","brand","bvExtension","eName","association","eventTarget","eType","eventSource","fieldGroup","fieldName","formAction","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","submissionBodyLength","submissionBodyLengthSummary","urlPageName","view","bvClientName","bvDisplayCode"];f["4.6"]=["attributes","bvProduct","brand","bvExtension","eName","association","eventTarget","eType","eventSource","formAction","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];f["4.5"]=["attributes","bvProduct","brand","bvExtension","eName","association","eventTarget","eType","eventSource","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];f["4.4"]=["attributes","bvProduct","brand","bvExtension","eName","eventTarget","eType","eventSource","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];f["4.3"]=["attributes","bvProduct","eName","eventTarget","eType","eventSource","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];var d={};d["4.9"]=["AdditionalFields","ContextData","RatingDimensions","Tags"];var c={};c["5.0"]=["Con","EmailAddress","Pro","Rating","Recommend","Reviewtext","Title","Useremail","Userlocation","Usernickname"];c["4.9"]=["Con","Pro","Rating","Recommend","Reviewtext","Title","Useremail","Userlocation","Usernickname"];var m={};m["4.9"]=["RateAndReview","ProfileAndPublishing","UserInformationAutoFill","AdditionalInformation","ProductReferencesSubmission","TagsSubmission","PhotoUpload","VideoURL"];var n={};e.downgradeJson=function(q,r){var p=k;var o=e.parseVersion(r);while(p.compareTo(o)>0){if(n[p.toString()]){n[p.toString()](q)}p=p.previous()}while(!f[p.toString()]){p=p.previous();if(p.compareTo(a)<0){b(q,f[a]);return}}b(q,f[p.toString()])};e.filterFieldGroup=function(o,p){return j(o,d,p)};e.filterFieldName=function(p,o){return j(p,c,o)};e.filterView=function(o,p){return j(o,m,p)};function j(r,q,s){var p=e.parseVersion(s);var o=p;while(!q[o.toString()]){o=o.previous();if(o.compareTo(a)<0){return""}}if(h.inArray(r,q[o.toString()])!=-1){return r}return""}e.parseVersion=function(o){if(o=="latest"){return k}try{var p=o.split(".");return g(p[0],p[1])}catch(q){return k}};function g(o,p){return{major:o,minor:p,compareTo:function(q){var r=this.major-q.major;
if(r!==0){return r}return this.minor-q.minor},toString:function(){return o+"."+p},previous:function(){if(p>0){return g(o,p-1)}return g(o-1,9)}}}function b(q,o){for(var p in q){if(h.inArray(p,o)==-1){delete q[p]}}}});
$BV.Internal.define("domUtils",[window,document],[],function(b,a){b.bvEscapeHtml=function(c){return String(c).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};b.bvUnescapeHtml=function(c){return String(c).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")};b.bvToggleDivWithIEControlsFrame=function(c,d,e){if(a.getElementById(c).style.display=="block"){bvCloseDivs(c,d)}else{bvExpandDivWithIEControlsFrame(c,d,e)}};b.bvExpandDivWithIEControlsFrame=function(c,d,i,e){if(!e){e=bvOpenDivs}e(c);var h=bvGetIEControlsFrame(d,i);if(h){var f=a.getElementById(c);if(f){f.parentNode.insertBefore(h,f);var g=bvGetLocation(c);h.style.width=g.width;h.style.height=g.height}e(d)}};b.bvGetIEControlsFrame=function(d,f){var e;var c=a.all&&((navigator.userAgent.indexOf("MSIE 6.")>-1)||(navigator.userAgent.indexOf("MSIE 5.5")>-1));if(c){e=a.getElementById(d);if(!e){e=a.createElement("iframe");e.id=d;e.title=f;e.src="javascript:''";e.scrolling="no";e.frameBorder="0";e.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}}return e};b.bvResizeIEControlsFrame=function(c,d){var f=a.getElementById(d);if(f){var e=bvGetLocation(c);f.style.width=e.width;f.style.height=e.height}};b.bvOpenDivs=function(){for(var c=0;c<arguments.length;c++){if(a.getElementById(arguments[c])){if(a.getElementById(arguments[c]).style.display!="block"){a.getElementById(arguments[c]).style.display="block"}}}};b.bvCloseDivs=function(){for(var c=0;c<arguments.length;c++){if(a.getElementById(arguments[c])){if(a.getElementById(arguments[c]).style.display!="none"){a.getElementById(arguments[c]).style.display="none"}}}};b.bvToggleVis=function(c){if(a.getElementById(c).style.display=="block"){a.getElementById(c).style.display="none"}else{a.getElementById(c).style.display="block"}};b.bvGetLocation=function(d){var f=a.getElementById(d);if(f){var c=f.offsetWidth;var e=f.offsetHeight;var i=0;var g=0;while(f){i+=f.offsetLeft;g+=f.offsetTop;f=f.offsetParent}return{left:i,top:g,width:c,height:e}}else{return{left:0,top:0,width:0,height:0}}};b.bvSetOpenerLocation=function(c,d){if(opener){if(opener.closed){b.open(c,"")}else{opener.location.href=c;if(d){b.close()}}return false}return true};b.bvReplaceTokensInSocialURL=function(c){return c.replace("__ROBOT__","no").replace("__TITLE__",encodeURIComponent(a.title))};b.bvFocus=function(e){a.getElementById(e).tabIndex="-1";if(navigator.userAgent.indexOf("MSIE 7")>-1){var c=a.getElementsByTagName("select");for(var d=0;d<c.length;d++){c[d].blur()}}else{a.getElementById(e).focus()}};b.bvStopPropagation=function(c){if(c){c.cancelBubble=true;if(c.stopPropagation){c.stopPropagation()}}}});
$BV.Internal.define("analyticsHooks",[window,document],["exports","jquery.core","analyticsVersioning","domUtils"],function(l,t,w,v,m){l.BVAnalyticsData={GROUP:{bv:"Bazaarvoice"},PRODUCT:{prr:"RatingsAndReviews",qa:"AskAndAnswer",stories:"Stories",profiles:"Profiles"},EVENT_SOURCE:{display:"Display",action:"Action"},E_TYPE:{write:"Write",support:"Support",read:"Read",conversion:"Conversion"},EVENT_TARGET:{product:"Product",review:"Review",question:"Question",answer:"Answer",homepage:"Homepage",comment:"Comment",profile:"Profile",story:"Story",gallery:"Gallery"},E_NAME:{answerSubmit:"AnswerSubmit",attributeFilter:"AttributeFilter",customClick:"CustomClick",facebookAuthLogin:"FacebookAuthLogin",facebookAuthAllow:"FacebookAuthAllow",facebookLinkShare:"FacebookLinkShare",facebookLinkDeny:"FacebookLinkDeny",facebookLinkIgnore:"FacebookLinkIgnore",media:"Media",productFollow:"ProductFollow",productLink:"ProductLink",paginate:"Paginate",profileLink:"ProfileLink",questionSubmit:"QuestionSubmit",rate:"Rate",readAll:"ReadAll",search:"Search",resultSelect:"ResultSelect",shoutIt:"ShoutIt",socialAlerts:"SocialAlerts",socialAnswer:"SocialAnswer",socialConnect:"SocialConnect",sort:"Sort",submitActivity:"SubmitActivity",write:"Write",associate:"Associate",inappropriate:"Inappropriate",whitespace:"Whitespace"},ASSOCIATION:{subscribe:"Subscribe"},FORM_ACTION:{preview:"Preview",edit:"Edit",submit:"Submit",cancel:"Cancel"},LINK_DESTINATION_LOCATION:{external:"External"},SUBJECT_TYPE:{product:"Product",category:"Category"},PAGE_TYPE:{input:"Input",preview:"Preview",confirm:"Confirm",multiViewInput:"MultiViewInput"},PAGE_STATUS:{authenticationFailure:"AuthenticationFailure",cancelled:"Cancelled",expired:"Expired",alreadySubmitted:"AlreadySubmitted",own:"Own",duplicate:"Duplicate",validationError:"ValidationError",notSpecified:"Default"}};var u=false;w._bvGoogleAnalyticsCustomEventFiredCookieName="bvgacef";w._bvGoogleAnalyticsCustomEventFiredEventCategory="Bazaarvoice Content Loaded";function i(){var H={};var D=["BVAnalytics","BVAnalyticsInternalDebug","BVPartnerAnalyticsCallback","BVAutoTagAnalyticsCallback","BVInternalUseOnlyCallback","BVRRInternalLegacyCallback","BVQAInternalLegacyCallback","BVSYInternalLegacyCallback","BVCITrackerCallback"];function C(I){if(I&&(I.onEvent||I.onEventInternal)){return true}for(var J=0;J<D.length;J++){if(typeof l[D[J]]==="function"){return true}}return false}function B(Q,I){var O={},J,K=Q.bvAnalyticsEnabled===true||(typeof Q.bvAnalyticsEnabled==="undefined"&&(typeof Q.bvAnalyticsVersion==="string"&&Q.bvAnalyticsVersion));function M(R){if(!(typeof R==="string"&&R)){R=Q.bvAnalyticsVersion||"4.3"}if(O[R]==null){O[R]=j(Q);m.downgradeJson(O[R],R)}return O[R]}if(I){if(I.onEventInternal){try{I.onEventInternal(Q)}catch(P){$BV.log(P)}}if(I.onEvent&&K){try{I.onEvent(M())}catch(P){$BV.log(P)}}}for(var L=0;L<D.length;L++){J=D[L];if(typeof l[J]==="function"){try{if(J=="BVAnalytics"||J=="BVPartnerAnalyticsCallback"||J=="BVAutoTagAnalyticsCallback"){if(J=="BVAutoTagAnalyticsCallback"){var N;if(typeof Q.autoTagAnalyticsConfiguration==="object"&&Q.autoTagAnalyticsConfiguration){N=Q.autoTagAnalyticsConfiguration.autoTagAnalyticsVersion}l[J](M(N),Q.autoTagAnalyticsConfiguration)}else{if(K){l[J](M(Q.bvAnalyticsVersion))}}}else{if(!(I&&/Legacy/.test(J))){l[J](Q)}}}catch(P){$BV.log(P)}}}}function F(I){E(I);G(I)}function E(I){if(I.eventSource===BVAnalyticsData.EVENT_SOURCE.display){if(!H[I.bvProduct]){H[I.bvProduct]=true;I.initialProductDisplay=true}}}function G(J){var I=/^\/([^;?#]*)/.exec(location.pathname);if(I){J.urlPageName=I[1]||"/"}}return{isTrackingEnabled:C,getSourceDomain:function(){return x(location.href)},analyticsEvent:function(J,I){F(J);B(J,I)},trackCustomClickEvents:function(L,J,K,M,I){q(l[L]?l[L]():[],K,l[M],I);if(typeof J==="string"&&J){q(v(J),K,l[M],I)}}}}w.containerHandle=i();w.bindToSubmitFrame=w.bindToProductPickerFrame=function(C,B){C.listen("analyticsHooks.getInfo",function(){return{trackingEnabled:w.containerHandle.isTrackingEnabled(B.config),sourceDomain:w.containerHandle.getSourceDomain()}
});C.listen("analyticsHooks.analyticsEvent",function(D){return w.containerHandle.analyticsEvent(D,B.config)});C.listen("analyticsHooks.trackCustomClickEvents",function(D){w.containerHandle.trackCustomClickEvents(D.customContainersFnName,D.customTrackedObjectsSelector,D.jsonData,D.customizersName,B.config)});s(C)};w.connectFromSubmitFrame=w.connectFromProductPickerFrame=function(C){var B=$BV.Internal.newLatch(1);w.onInjectedPageLoad=function(){var D=this,E=arguments;B.queue(function(){D.onInjectedPageLoad.apply(D,E)})};C.call("analyticsHooks.getInfo",function(D){w.containerHandle={isTrackingEnabled:function(){return D.trackingEnabled},getSourceDomain:function(){return D.sourceDomain},analyticsEvent:function(E){C.call("analyticsHooks.analyticsEvent",E)},trackCustomClickEvents:function(G,E,F,H){C.call("analyticsHooks.trackCustomClickEvents",{jsonData:F,customContainersFnName:G,customTrackedObjectsSelector:E,customizersName:H})}};if(D.trackingEnabled){w.onInjectedPageLoad=g;B.release()}});k(C)};function s(D){var B=l.AnalyticsDiagnostics,C=B&&typeof B.bindToEmbeddedFrame==="function";D.listen("analyticsHooks.checkDiagnostics",function(){return{available:!!C,cssUrl:v("head").find('link[rel="stylesheet"][href$="lib/analyticsHooksDiagnostics.css"]').attr("href")}});if(C){B.bindToEmbeddedFrame(D)}}function k(B){B.call("analyticsHooks.checkDiagnostics",function(C){if(C.available){B.requireModules("AnalyticsDiagnostics.",["analyticsHooksDiagnostics"]);$BV.Internal.require(["analyticsHooksDiagnostics"],function(){var E=l.AnalyticsDiagnostics;if(E&&typeof E.connectFromEmbeddedFrame==="function"){E.connectFromEmbeddedFrame(B)}else{$BV.log("AnalyticsDiagnostics is not available")}});if(C.cssUrl){var D="/"+(C.cssUrl.substring(C.cssUrl.indexOf("/",9)+1)).replace(/[\?#&@:]/,"");D=t.location.protocol+"//"+t.location.hostname+D.substring(0,D.lastIndexOf("/"))+"/analyticsHooksDiagnostics.css";v('<link href="__HREF__" rel="stylesheet" type="text/css"/>'.replace("__HREF__",bvEscapeHtml(D))).appendTo("head")}}})}var d=[];var f;function g(G,L,M,J,K,D,B,I,F,H,C){var E=l[M];r(L);c(G,L,E,L.analyticsWhitespaceTrackingEnabled,D);w.containerHandle.trackCustomClickEvents(J,B,L,M);v.each(I,function(N,O){w.containerHandle.trackCustomClickEvents(J,O.selector,L,M)});if(F){z(L,D,C)}A(L,E,D);f=K}function z(G,C,E){var F=null;if(!u){F=B(E.conversionTrackingMetadataSelector,E.conversionTrackingParseRegexp);if(E.conversionTrackingElementSelector!=null){v(E.conversionTrackingElementSelector).bind("mouseover",D)}u=true}function D(){if(F!=null){if(w.containerHandle.isTrackingEnabled(C)){var H=j(G);H.conversionTrackingMetadata=F;H.conversionTrackingName=E.conversionTrackingName;H.eventSource="Action";H.eType="Conversion";H.eventTarget="Product";w.containerHandle.analyticsEvent(H,C)}}}function B(L,J){var I=v(L).html();if(I){var K=new RegExp(J);var H=I.match(K);if(H&&H.length>0){return parseFloat(H[0])}}return null}}function r(B){if(v.inArray(B.eType,[BVAnalyticsData.E_TYPE.write,BVAnalyticsData.E_TYPE.support,BVAnalyticsData.E_TYPE.read])==-1){$BV.log("Incorrect value for eType:",B.eType)}}function q(C,D,F,B){var E=j(D);E.eName=BVAnalyticsData.E_NAME.customClick;c(C,E,F,true,B)}function A(E,D,B){if(w.containerHandle.isTrackingEnabled(B)){var C=j(E);C.eventSource=BVAnalyticsData.EVENT_SOURCE.display;BVAnalyticsCustomizer.executeAll(C,"",t,D);w.containerHandle.analyticsEvent(C,B)}}function c(D,F,E,C,B){if(w.containerHandle.isTrackingEnabled(B)&&D){v.each(D,function(){var G=v(this).data("BVAnalyticsTrackerZone");if(G==null){G=y(this,C);d.push(G);v(this).data("BVAnalyticsTrackerZone",G)}G.init(F,E,B)})}}function e(E,F,D,C,B){a(E,null,{trackingTagOverride:F,bvEventData:D,checkIsTrackable:C,eventName:B})}function a(E,D,C){C=C||{};if(C.elemData){v(E).data("bveventdata",opts.elemData)}try{var B=h(E,"BVAnalyticsTrackerZone");if(B&&B.isTrackingEnabled()){if(!C.checkIsTrackable||B.isTrackable(E)){B.fireElementActionEvent(E,C.trackingTagOverride,C.eventName,D)}}}catch(F){$BV.log(F)}}function h(C,B){for(;
C!=null;C=C.parentNode){var D=v(C).data(B);if(D!=null){return D}}return null}function j(C){if(typeof C==="object"&&C){var D=v.isArray(C)?[]:{},B;for(B in C){if(C[B]!=null&&C[B]!==""){D[B]=j(C[B])}}return D}return C}function o(C){var B=v(C);return C!==t&&(/^(a|button|select)$/i.test(C.tagName)||(/^(input)$/i.test(C.tagName)&&!/^(text)$/i.test(B.attr("type")))||B.attr("onclick")||B.parents("a,button,[onclick]").length>0)}function p(C){var B=v(C);return/^(label)$/i.test(C.tagName)||B.parents("label").length>0}function y(J,E){var R,T,L;function P(W,V,U){R=W;T=V;L=U}function Q(U){try{if(N(U.target)){F(U.target,null)}}catch(U){$BV.log(U)}}function M(){return w.containerHandle.isTrackingEnabled(L)}function N(U){return E&&!p(U)||o(U)}function F(X,Y,U,W){var V=v.extend(O(X,Y,U),W);w.containerHandle.analyticsEvent(V,L)}function O(X,Z,U){var Y=Z||H(X,f);var W=G(X);var aa;if(U){var aa=G(X,U)}v(X).data("BVAnalyticsTrackingMap",W);var V=j(R);V.eventSource=BVAnalyticsData.EVENT_SOURCE.action;C(V,W,X);BVAnalyticsCustomizer.executeAll(V,Y,X,T);if(aa){C(V,aa,X)}return V}function G(U,aa){var Z={};for(var ab=U;ab;ab=ab.parentNode){var Y;try{Y=v(ab).attr("data-bvtrack")}catch(ab){return Z}if(Y){var X=Y.split(",");for(var W=X.length-1;W>=0;W--){var V=X[W].split(":");var ad=S(V[0],aa);if(ad){var ac=V[1];if(Z[ad]){Z[ad].unshift(ac)}else{Z[ad]=[ac]}}}}if(v(ab).data("BVAnalyticsTrackerZone")){return Z}}return Z}function S(U,W){var V=U.indexOf(".");if(V!=-1&&U.substring(0,V)==W){return U.substring(V+1)}else{if(!W){return U}}return""}var K=function(V,U,W){if(W){if(!V.attributes){V.attributes={}}V.attributes[U]=W}};var I={};I.filterDimension=function(V,U,W){K(V,"filterDimension",b(U,"filterDimension"))};I.filterName=function(V,U,W){K(V,"filterName",b(U,"filterName"))};I.mediaType=function(V,U,W){K(V,"mediaType",b(U,"mediaType"))};function D(U){if(I[U]){return I[U]}return function(W,V,X){W[U]=b(V,U)}}function C(V,U,W){v.each(U,function(X,Y){(D(X))(V,U,W)})}function H(U,W){if(W<0||!U){return""}var V=B(U);if(V!=null){return V}else{return H(U.parentNode,W-1)}}function B(V){if(!V){return null}var U=V.name||v(V).attr("data-bvname");if(U&&U.indexOf("BV_TrackingTag_")==0){return U.substr(15)}return null}v(J).bind("click.bvanalytics",Q);if(v.browser.webkit){v(J).find("select").bind("mousedown.bvanalytics",Q)}return{init:P,isTrackingEnabled:M,fireElementActionEvent:F,getContainer:function(){return J},isTrackable:N,getTrackingTag:B,getElementActionJsonData:O}}l.BVAnalyticsCustomizer=function(B,C){this.regexp=new RegExp("(^|_)("+B+")(_|$)");this.customizer=C};v.extend(BVAnalyticsCustomizer.prototype,{execute:function(B,D,C){if(this.regexp.test(D)){this.customizer(B,D,C)}}});v.extend(BVAnalyticsCustomizer,{executeAll:function(B,D,C,E){BVAnalyticsCustomizer.group(B,D,C);BVAnalyticsCustomizer.linkDestinationLocation(B,D,C);BVAnalyticsCustomizer.eventWhiteSpace(B,D,C);v.each(E,function(){this.execute(B,D,C)})},group:function(B){B.group=BVAnalyticsData.GROUP.bv},setEventNameProperty:function(B){return function(C){C.eName=B}},setAssociationProperty:function(B){return function(C){C.association=B}},setEventTypeProperty:function(B){return function(C){C.eType=B}},setEventTargetProperty:function(B){return function(C){C.eventTarget=B}},eventSort:function(D,G,C){D.eName=BVAnalyticsData.E_NAME.sort;var F={};var B=v(C);if(B.attr("bveventdata")){F=v.parseJSON(B.attr("bveventdata"))}if(!F.sortType){if(F.dropdownId){B=v(v("#"+F.dropdownId)[0])}var E=B.find("option:selected").attr("id");if(E){F={sortType:E.substring(0,E.indexOf("-")),sortDirection:E.substring(E.indexOf("-")+1)}}}if(F.sortType||F.sortDirection){if(!D.attributes){D.attributes={}}if(F.sortType){D.attributes.sortType=F.sortType}if(F.sortDirection){D.attributes.sortDirection=F.sortDirection}}},eventShoutit:function(B,D){B.eName=BVAnalyticsData.E_NAME.shoutIt;var C=/.*_SocialBookmark([^_]+)_.*/.exec(D);if(C[1]){B.socialMedium=C[1]}},eventSocialConnect:function(B){B.eName=BVAnalyticsData.E_NAME.socialConnect},eventFacebookLike:function(B){B.eType=BVAnalyticsData.E_TYPE.support;
B.eName=BVAnalyticsData.E_NAME.associate;B.socialMedium="Facebook"},eventFacebookSend:function(B){B.eType=BVAnalyticsData.E_TYPE.support;B.eName=BVAnalyticsData.E_NAME.associate;B.socialMedium="Facebook"},eventWhiteSpace:function(B,D,C){if(C&&B.analyticsWhitespaceTrackingEnabled&&!o(C)&&B.eventSource!=BVAnalyticsData.EVENT_SOURCE.display){B.eName=BVAnalyticsData.E_NAME.whitespace}},linkDestinationLocation:function(C,E,D){if(D&&v(D).is("a")){var F=w.containerHandle.getSourceDomain();var B=x(v(D).attr("href"));if(F&&B&&F!==B){C.linkDestinationLocation=BVAnalyticsData.LINK_DESTINATION_LOCATION.external}}},linkDestinationLocationExternal:function(B){B.linkDestinationLocation=BVAnalyticsData.LINK_DESTINATION_LOCATION.external},socialAndButtonElementsDispatcher:function(D,G,C){if(D.eventSource!==BVAnalyticsData.EVENT_SOURCE.action||!C||(!C.name&&!G)){return}var F=C.name;if(!F){var B=/Submission_FormAction_([^_]+)/.exec(G);if(B&&B[1]){F=B[1]}else{return}}if(F==="useremailalerts"||F==="sendemailonanswer"||F==="sendemailoncomment"){D.eName=BVAnalyticsData.E_NAME.socialAlerts}else{if(F==="preview"){D.formAction=BVAnalyticsData.FORM_ACTION.preview}else{if(F==="cancel"){D.formAction=BVAnalyticsData.FORM_ACTION.cancel}else{if(F==="submit"||F==="socialansweringsubscribe"){if(F=="socialansweringsubscribe"&&v("#BVSUFieldCheckboxSocialAnsweringSignupID").is(":checked")){D.eName=BVAnalyticsData.E_NAME.socialAnswer}D.formAction=BVAnalyticsData.FORM_ACTION.submit}else{if(F==="edit"){D.formAction=BVAnalyticsData.FORM_ACTION.edit}else{if(F.indexOf("socialconnect_")==0){D.eName=BVAnalyticsData.E_NAME.socialConnect;var E=/socialconnect_(.*?)_postdesired/.exec(F)[1];E=E.substr(0,1).toUpperCase()+E.substr(1);D.socialMedium=E}}}}}}if(C.form&&C.form.name=="BVSU_FVReportForm"){D.eType=BVAnalyticsData.E_TYPE.support;D.eName=BVAnalyticsData.E_NAME.inappropriate}}});function x(B){var C=/^http[s]?:\/\/([^\/]+\.)?([^\/.]+\.[^\/.]+)/i.exec(B);return C&&C[2].toLowerCase()}function n(C,B){if(C&&C[B]){return C[B]}return[]}function b(D,C){var B=n(D,C);return B&&B[B.length-1]}v.extend(w,{onInjectedPageLoad:g,fireActionEvent:e,fireDomActionEvent:a,internalZones:function(){return d},callAutotag:(function(){var B={};return function(D,G){var C=[];for(var F=2;F<arguments.length;F++){C.push((arguments[F]||"").toString())}var E=C.join("~#~");if(!B[E]){B[E]=true;try{G.apply(D,[].slice.call(arguments,2))}catch(H){$BV.log("Error calling autotag "+H.description,H)}}}})(),stateTracker:function(){var B=[];return{assign:function(E,F,D){if(F in E){var C=E[F];B.push(function(){E[F]=C})}else{B.push(function(){try{delete E[F]}catch(G){E[F]=undefined}})}E[F]=D},undoAll:function(){for(var C=B.length-1;C>=0;C--){B[C]()}B=[]}}},getJsonWithDefaultValues:function(C){var B=j(C),D={group:BVAnalyticsData.GROUP.bv,bvProduct:"Default",eventSource:"Default",eType:"Default",eName:"Default",urlPageName:"/"};v.each(D,function(E,F){if(B[E]===undefined){B[E]=F}});return B}});l.BVAnalyticsTracker=w});
$BV.Internal.define("parseUri",[],["jquery.core"],function(h){
/*
 * parseUri 1.2.2
 * (c) Steven Levithan <stevenlevithan.com>
 * MIT License
 */
function d(r){var q=d.options,l=q.parser[q.strictMode?"strict":"loose"].exec(r),p={},n=14;while(n--){p[q.key[n]]=l[n]||""}p[q.q.name]=[];p[q.key[12]].replace(q.q.parser,function(o,m,s){if(m){p[q.q.name][m]=s;p[q.q.name].push({name:m,value:s})}});return p}d.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};d.options.strictMode=true;function a(){var m=this;var l="";if(m.user){l+=m.user}if(m.password){l+=":"+m.password}return m.userInfo=l}function j(){var l=this;var m="";a.call(l);if(l.userInfo){m+=l.userInfo+"@"}if(l.host){m+=l.host}if(l.port){m+=":"+l.port}return l.authority=m}function b(){var l=this;var m="";if(l.directory){m+=l.directory}if(l.file){m+=l.file}return l.path=m}function g(){var m=this;var n="";for(var l=0;l<m.queryKey.length;l++){var o=m.queryKey[l];n+=(n?"&":"")+o.name+"="+o.value}return m.query=n}function e(){var l=this;var m="";b.call(l);if(l.path){m+=l.path}g.call(l);if(l.query){m+="?"+l.query}if(l.anchor){m+="#"+l.anchor}return l.relative=m}function f(){var l=this;var m="";if(l.protocol){m+=l.protocol+":"}j.call(l);if(l.authority){m+="//"+l.authority}e.call(l);if(l.relative){m+=l.relative}return l.source=m}function c(m,l,p){var o=this;for(var n=0;n<o.queryKey.length;n++){var q=o.queryKey[n];if(q.name===m&&q.value===l){q.value=p}}if(o.queryKey[m]===l){o.queryKey[m]=p}return o}function k(n){var m=this;for(var l=m.queryKey.length-1;l>=0;l--){var o=m.queryKey[l];if(o.name.indexOf(n)==0){m.queryKey.splice(l,1)}}return m}function i(m){var l=this;l.queryKey=l.queryKey.concat(m);return l}return function(){return h.extend(d.apply(null,arguments),{rebuild:f,replaceQueryParameter:c,removeParamsByNamePrefix:k,addParams:i})}});
$BV.Internal.define("requester",[window],["exports","jquery.core","parseUri"],function(f,m,e,c){var n=/^[^?#]*\.(js|djs)\?([^&#]*&)*format=(mobile)?(bulk)?embeddedhtml([&#].*)?$/i,o={},i=[],l=[],h={},d=new Date().getTime()%(1013<<20),g={},k;function b(p){return n.test(p)}function j(q,u,s){var p=c(q);var t=p.authority;if(f.location.host===t){return u(f)}var v=a(function(x){return x.location.host===t});if(v){return u(v)}for(var r=0;r<i.length;r++){var w=i[r];if(w.targetDomain===t){return s(w)}}$BV.log("Cannot access url because no frame is available",q)}function a(p){if(p(f)){return f}for(var q in o){var s=o[q];try{if(s.$BV&&p(s)){return s}}catch(r){$BV.log("Cannot access frame: "+q,r)}}}e.extend(m,{getQueryParam:function(q){var p=new RegExp("[?&]"+q+"=([^&]+)","i").exec(f.location.search);return p&&decodeURIComponent(p[1])},isUrlAllowed:function(q,p){var s=c(q).authority;for(var r=0;r<p.length;r++){if(m.domainMatches(p[r],s)){return true}}return false},domainMatches:function(s,t){if(s.charAt(0)==="."){var q=/^([^:]*)(:\d+)?$/.exec(t),r=q&&q[1];if(r){var p=("."+r).lastIndexOf(s);return p>=0&&p===(1+r.length-s.length)}}else{return t===s}},get:function(p,r,s){if(b(p)){m.getJsonp(p,s)}else{try{f.frames[r].location=p}catch(q){if(f.document.getElementById(r)){f.document.getElementById(r).contentWindow.location=p}}}},getConfigKey:function(p){if(!p.requestConfigKey){h[p.requestConfigKey=String(++d)]=p}return p.requestConfigKey},getConfig:function(p){return typeof p==="object"?p:h[p]},getJsonp:function(r,t,p,s){var q=m.getConfig(t);if(!q){if(p){$BV.Internal.callAjax(r)}else{$BV.log("Cannot get url because no config is available",r,t)}}else{if(!m.isUrlAllowed(r,q.allowedDomains)){$BV.log("Cannot get url because hostname is not allowed",r)}else{if(e.isFunction(k)&&!s){k(r,q)}$BV.Internal.callAjax(r,q)}}},setStateChangeCallback:function(p){k=p},findDocDomainFrame:a,isJsonpUrl:b,registerDocDomainFrame:function(p){var q=p.frameElement;o[q.name]=q.contentWindow},registerCrossDomainProxy:function(p){i.push(p)},waitForCss:function(q,s){if(q.readyState==="complete"){s();return}var p=q.href,r=l[p];if(!r){r=l[p]=$BV.Internal.newLatch(1);m.download(p,r.release)}r.queue(s)},download:function(p,q){j(p,function(r){r.$BV.Internal.require(["jquery.core"],function(s){s.ajax({type:"GET",url:p,complete:function(){q()}})})},function(r){r.download(p,q)})},post:function(p,q,r){j(p,function(s){s.$BV.Internal.require(["jquery.core"],function(t){t.post(p,q!=null?q:{},r,"json")})},function(s){s.post(c(p),q,r)})},postForm:function(r,t,u){var q=e(r),p=q.attr("action"),s=q.serializeArray();if(t){s.push({name:t,value:"true"})}m.post(p,s,u)},getFormURL:function(r){var q=e(r),p=q.attr("action"),s=q.serialize();return p+"?"+s},jsLinkSelector:"a[data-bvjsref]",jsButtonLinkSelector:"button[data-bvjsref]",asJsLink:function(q){var p=q.attr("href");return{getUrl:function(){return q.attr("data-bvjsref")},setUrl:function(r){q.attr("data-bvjsref",r).attr("href",p)},unsetUrl:function(){q.removeAttr("data-bvjsref").removeAttr("href")},follow:function(r,s){m.getJsonp(this.getUrl(),q.attr("data-bvcfg"),r,s)},followIfNotDefaultPrevented:function(u){var t=u.timeStamp,r=this.getUrl(),s=q.attr("data-bvcfg");var v=g[t]=$BV.Internal.newLatch(1);v.queue(function(){m.getJsonp(r,s)});q.attr("href","javascript:$BV.Internal.Requester.followLink("+t+")").attr("target","_self");setTimeout(function(){q.attr("href",p).removeAttr("target");delete g[t]},1000)}}},followLink:function(p){if(g[p]){g[p].release();delete g[p]}else{$BV.log("Cannot follow link: "+p)}},asHtmLink:function(p){return{getUrl:function(){return p.attr("href")},setUrl:function(q){p.attr("href",q)},unsetUrl:function(){p.removeAttr("href")}}},asJsOrHtmLink:function(r){function p(){}var q=r.attr("data-bvjsref")?m.asJsLink(r):r.attr("href")?m.asHtmLink(r):{getUrl:p,unsetUrl:p};return{getUrl:function(){return q.getUrl()},setUrl:function(s){q.unsetUrl();q=b(s)?m.asJsLink(r):m.asHtmLink(r);q.setUrl(s)},unsetUrl:function(){q.unsetUrl()}}}});
m.onPageLoad=function(v,t,p){if(v==="bindJsLinks"){p.undelegate(m.jsLinkSelector,"click.bvjsref").delegate(m.jsLinkSelector,"click.bvjsref",function(x){m.asJsLink(e(this)).followIfNotDefaultPrevented(x)})}else{if(v==="bindJsButtons"){p.undelegate(m.jsButtonLinkSelector,"click.bvjsref").delegate(m.jsButtonLinkSelector,"click.bvjsref",function(){m.asJsLink(e(this)).follow()})}else{if(v==="fillStaticLinks"){var s=/bvstate=pg:\d+\/ct:(r|q|s)&?/;var w=f.location.href.split("#");var r=w[0].replace(s,"");var u=r.slice(-1);if(u!="?"&&u!="&"){r=r+(r.indexOf("?")>-1?"&":"?")}var q=(w[1]&&w[1].length>0?"#"+w[1]:"");e("a[data-bvstate]").each(function(){var x=e(this).attr("data-bvstate");e(this).attr("href",r+x+q);e(this).removeAttr("data-bvstate")})}}}};$BV.Internal.Requester=m});
$BV.Internal.define("cookies",[window,document],["exports","jquery.core","requester"],function(i,o,p,r,a){var s=/^[A-Za-z0-9!#$%&*+\-.^_`|~]+$/,t=s,j=/^[\x20-\x21\x23-\x26\x28-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]*$/,b=[];function f(v){var B={};try{if(v&&(v=r.trim(v))!==""){var x=v.split(/; */);for(var w=0;w<x.length;w++){var C=x[w],z=C.indexOf("=");if(z>0){var u=C.substring(0,z),A=C.substring(z+1);if(/^".*"$/.test(A)){A=A.substring(1,A.length-1)}if(j.test(A)){B[u]=A}}}}}catch(y){$BV.log(y)}return B}function n(u,v,y,w){try{u.cookie=c(v,"",y,w)+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}catch(x){$BV.log(x)}}function h(u,w,y,A,x,v){try{u.cookie=c(w,y,A,x,v)}catch(z){$BV.log(z)}}function q(v,x,w){if(!w||k(w,i.location.host)){n(o,v,x,e(w,i.location.host))}else{var u=d(w);if(u){u.remove(v,x,w)}else{$BV.log("Cannot remove cookie on "+w+" because no frame is available")}}}function l(w,y,z,x,u){if(!x||k(x,i.location.host)){h(o,w,y,z,e(x,i.location.host),u)}else{var v=d(x);if(v){v.set(w,y,z,x,u)}else{$BV.log("Cannot set cookie on "+x+" because no frame is available")}}}function d(v){var w=a.findDocDomainFrame(function(y){return k(v,y.location.host)});if(w){return{parse:function(y){if(y){y(f(w.document.cookie))}},set:function(z,B,C,A,y,D){h(w.document,z,B,C,e(A,w.location.host),y);if(D){D()}},remove:function(y,A,z,B){n(w.document,y,A,e(z,w.location.host));if(B){B()}}}}for(var u=0;u<b.length;u++){var x=b[u];if(k(v,x.targetDomain)){return x}}}function k(v,u){return a.domainMatches(v,u)}function e(v,u){return(v===u)?null:v}function c(v,x,y,w,u){v=String(v);x=String(x);if(!s.test(v)){throw new Error("Invalid cookie name: "+v)}if(!j.test(x)){throw new Error("Invalid cookie value: "+x)}return v+"="+(t.test(x)?x:'"'+x+'"')+(y?";path="+y:"")+(w?";domain="+w:"")+(u?";expires="+u:"")}var g,m;r.extend(p,{parse:f,get:function(u){return p.parse(o.cookie)[u]},set:l,remove:q,registerDocDomainFrame:function(u){a.registerDocDomainFrame(u)},registerCrossDomainProxy:function(u){b.push(u)},parseFromDomainAsync:function(w,y){var z,x=$BV.Internal.newLatch(1),u=d(w);function v(A){z=A;x.release()}if(u){u.parse(v)}else{$BV.log("Cannot get cookies from "+w+" because no frame is available");v({})}return function(A){x.queue(function(){A(z,function B(C){q(C,y,w)})})}},detectCookieModificationSupport:function(x,v){var w="mod-test",z=Math.random();p.set(w,z,"",x);if(p.get(w)==z){p.remove(w,"",x);g=p.set;m=p.remove}else{if(v){r('<iframe name="BVManageCookieFrame" src="javascript:false;"></iframe><form action="'+v+'" target="BVManageCookieFrame" name="BVManageCookieForm" method="POST" accept-charset="utf-8"><input type="hidden" name="name"/><input type="hidden" name="value"/><input type="hidden" name="path"/><input type="hidden" name="maxage"/></form>').appendTo("body");var u=o.forms.BVManageCookieForm;function y(A){if(!A){return -1}var B=Math.round((Date.parse(A)-Date.now())/1000);if(B<0){B=0}return B}g=function(B,D,E,C,A){u.name.value=B;u.value.value=D;u.path.value=E;u.maxage.value=y(A);u.submit()};m=function(A,B){u.name.value=A;u.value.value="";u.path.value=B;u.maxage.value=0;u.submit()}}else{g=m=r.noop}}},setCookieFunction:function(v,x,y,w,u){g(v,x,y,w,u)},removeCookieFunction:function(u,v){m(u,v)},getLegalCookieRegEx:function(u){return new RegExp(u)}})});
$BV.Internal.define("magpie",[window],["exports"],function(e,a){var c=false,b=false,d=false;function f(){var h=$BV.Internal._magpieSettings||{autoTagEnabled:false};c=h.autoTagEnabled===true;d=h.defaultClassesOnly;e._bvaq=e._bvaq||[];e._bvaq.push(["setSource","prr"]);g("setEnvironment",h,"prrEnv");g("setAnonymous",h,"anonymous");g("setBrandDomain",h,"brandDomain");g("setAnonTrackerHostname",h,"anonymousHostname");g("setTrackerHostname",h,"trackerHostname");if($BV.getConfiguration){var i=$BV.getConfiguration();g("setClient",i,"clientName",true);g("setDisplay",i,"displayCode",true)}}function g(i,j,l,h){if(j&&j.hasOwnProperty(l)){var k=j[l];e._bvaq.push([i,h?(k+"").toLowerCase():k])}}f();a.isAutoTagEnabled=function(){return c};a.isDefaultTrackingOnly=function(){return d};a.load=function(){if(b){return}var k=(document.location.protocol=="https:"?"https:":"http:");var j=k+"//magpie-static.ugc.bazaarvoice.com/magpiejs/2/magpie.js";var i=document.createElement("script");i.type="text/javascript";i.async=true;i.src=j;var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(i,h);b=true}});
$BV.Internal.define("magpieTracking",[window,document],["exports","jquery.core","magpie"],function(j,r,i,u,a){function z(D){var C=false,B;return function(){if(!C){B=D.apply(this,arguments);C=true;D=null}return B}}function y(){return(new Date()).getTime()}function b(B){j._bvaq.push(B)}function x(){if(!s){return true}return !r[s]}var s=null;if(typeof r.hidden!=="undefined"){s="hidden"}else{if(typeof r.mozHidden!=="undefined"){s="mozHidden"}else{if(typeof r.msHidden!=="undefined"){s="msHidden"}else{if(typeof r.webkitHidden!=="undefined"){s="webkitHidden"}}}}var c=function(B,D){var C;return function(){var F=this,E=arguments;var G=function(){C=null;B.apply(F,E)};clearTimeout(C);C=setTimeout(G,D)}};var t=["brand","bvProduct","productId","rootCategoryId",{prr:"leafCategoryId",mag:"categoryId"}];var k={RatingsAndReviews:["#BVRRContentContainerID","#BVRRDisplayContentBodyID"],AskAndAnswer:["#BVQAContainer"],Stories:["#BVSYContentContainerID"]};var v=150;var h=100;var g=5000;var e=10;var n=function(B,D,C){this.firedEvent=false;this.timeFirstVisible=y();this.selector=B;this.bvProduct=D;this.baseEvent=C;n.byProduct[C.bvProduct]=this;this.viewedEventAttempts=0};n.prototype={_fireEnteredViewEvent:function(){var B=u.extend(this.baseEvent,{type:"Used",name:"InView",elapsedMs:y()-this.timeFirstVisible});b(["trackEvent","Feature",B]);this.firedEvent=true},_fireViewedEvent:function(){var B=this;if(!f(this.selector)){this.viewedEventAttempts++;if(this.viewedEventAttempts>e){return}setTimeout(function(){B._fireViewedEvent()},g);return}var C=u.extend(this.baseEvent,{type:"Used",name:"viewedUGC",interaction:true,detail1:g,elapsedMs:y()-this.timeFirstVisible});b(["trackEvent","Feature",C]);this.firedEvent=true}};n.byProduct={};var f=function(B){return(l(B)>h)};var w=function(B){o(B.data.checker)};var o=function(B){if(!x()){return}if(B.firedEvent){return}if(f(B.selector)){B._fireEnteredViewEvent();B.firedEvent=true;setTimeout(function(){B._fireViewedEvent()},g);u(j).unbind("load click resize scroll")}};var l=function(C){var E=u(C);if(!E||E.length==0){return 0}if(u(E).css("visibility").toLowerCase()=="hidden"){return 0}var G=j.innerHeight||r.documentElement.clientHeight;var F=E[0].getBoundingClientRect();var D;var B=F.height;if(!B){B=F.bottom-F.top}if(F.top<=0){D=Math.max(F.top+B,0);D=Math.min(D,G);return D}if(F.top>=G){return 0}return Math.min(G-F.top,B)};var p=function(B){c(o(B.data.checker),v)};n.start=function(E){var D;var C=E.bvProduct;if(C&&!n.byProduct[C]){var B=q(C);if(B){D=new n(B,C,u.extend({},E));u(j).bind("load click",{checker:D},w).bind("resize scroll",{checker:D},p)}}};var q=function(C){var E=k[C];for(var D=0;D<E.length;D++){var B=E[D];if(B&&u(B).height()>h){return B}}if(E.length>0){return E[0]}};function m(){}m.prototype={trackEvent:function(C){var B=this._extractFields(C,{},t);switch(C.eType){case"Read":if(C.eventSource==="Display"){this._trackReadDisplayEvent(C,B)}else{this._trackFeatureUsed(C,B)}break;case"Support":this._trackFeatureUsed(C,B);break;case"Conversion":this._trackConversion(C);break;case"Write":this._trackWriteEvent(C);break}},isPageView:function(B){return B.initialProductDisplay||B.pageType},_trackReadDisplayEvent:function(C,B){if(this.isPageView(C)){if(this.hasUGC(C)){n.start(B)}this._trackPageView(C,u.extend({},B))}this._trackImpressions(C,B)},hasUGC:function(C){var B=(C&&C.attributes)||{};return B.numQuestions>0||B.numAnswers>0||B.numReviews>0||B.numStories>0},_trackPageView:function(B,C){if(u.inArray(B.subjectType,["Product","Category"])>-1){C=this._extractFields(B.attributes,C,["avgRating","percentRecommend","numAnswers","numQuestions","numReviews","syndicationStatistics"]);C.type=B.subjectType;b(["trackPageView",C])}},_trackImpressions:function(C,D){var B=C.attributes?C.attributes.ugcOnPage:null;if(!B){return}D.type="UGC";if(!C.initialProductDisplay){D.initialContent=false}b(["addBatch",D]);this._addImpressionsToBatch(null,B);b(["flushBatch"])},_addImpressionsToBatch:function(D,C){var B=this;u.each(C,function(E,G){var F={contentId:G.id,contentType:G.type,numPeers:C.length,peerPosition:E,guid:G.guid};
if(G.brandAnswer){F.brandAnswer=true}if(G.sourceClient){F.syndicated=true;F.syndicationSource=G.sourceClient}if(D){F.parentId=D.id;F.parentType=D.type}b(["addBatchItem","Impression",F]);if(G.children){B._addImpressionsToBatch(G,G.children)}})},_trackFeatureUsed:function(C,D){if(!C.eName){return}D.type="Used";D.name=C.eName;var B=null;switch(C.eName){case"Sort":B=[{prr:"sortType",mag:"detail1"},{prr:"sortDirection",mag:"detail2"}];break;case"AttributeFilter":B=[{prr:"filterDimension",mag:"detail1"},{prr:"filterName",mag:"detail2"}];break}if(B){D=this._extractFields(C.attributes,D,B)}b(["trackEvent","Feature",D])},_trackConversion:function(B){var C=B.conversionTrackingMetadata||0;event.type="Transaction";event.label=B.conversionTrackingName||null;event.proxy=true;event.total=C;event.items=[{sku:B.productId,price:C}];b(["trackConversion",event])},_extractFields:function(E,D,B){var C,H,G,F;for(C=B.length;--C>=0;){H=G=B[C];if(H.prr){G=H.mag;H=H.prr}F=E[H];if(F!==undefined&&F!==null){D[G]=F}}return D},_trackWriteEvent:function(C){var D=u("#BVSubmissionContainer input[name='user']").attr("value");var B=$BV.Internal._magpieSettings;if(D&&B&&!B.anonymous&&$BV.setUser){$BV.setUser(D)}}};var A=z(function(B){b(["setClient",B.bvClientName]);b(["setDisplay",B.bvDisplayCode])});var d=null;i.trackBvAnalyticsEvent=function(B){if(!a.isAutoTagEnabled()){return}A(B);a.load();if(!d){d=new m()}d.trackEvent(B)}});
$BV.Internal.modify("analyticsHooks","analyticsAutoTagHooks",[window,document],["exports","jquery.core","analyticsHooks","analyticsVersioning","cookies","magpieTracking"],function(window,document,AnalyticsAutoTagHooks,$bv,AnalyticsHooks,AnalyticsVersioning,Cookies,MagpieTracking){var EVENT_FORMAT={facebookAuthAllow:{"workbench-action":{label:function(json){if(json&&json.fbPermissions){return"BV^"+json.fbPermissions.join(",")}else{return"BV^NoFBPermissions"}}}}};var DEFAULT_EVENT_FORMAT={"workbench-action":{category:function(json,settings,vendorSettings){return json.bvProduct+" Interactions"},action:function(json,settings,vendorSettings){return json.eventSource+"^"+json.eType+"^"+json.eventTarget+"^"+(AnalyticsAutoTagHooks.getPageTypeAndStatus(json,settings)||json.eName)+"^"+json.socialMedium},label:function(json,settings,vendorSettings){return"BV^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/")}},"workbench-conversion":{category:function(json,settings,vendorSettings){return json.bvProduct+" Interactions"},action:function(json,settings,vendorSettings){return json.eventSource+"^"+json.eType+"^"+json.eventTarget+"^"+json.conversionTrackingName},label:function(json,settings,vendorSettings){return"BV^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/")}}};var getEventFormat=function(type,ename){var enameFormats=EVENT_FORMAT[ename];var format=DEFAULT_EVENT_FORMAT[type];if(enameFormats){format=$bv.extend(format,enameFormats[type])}return format};window.BVAutoTagAnalyticsCallback=function(rawJson,settings){if(!settings||!settings.autoTagAnalyticsVersion){return}var vendorMapping={google:[AnalyticsAutoTagHooks.googleAnalyticsCallback],coremetrics:[AnalyticsAutoTagHooks.coremetricsAnalyticsCallback],omniture:[AnalyticsAutoTagHooks.omnitureAnalyticsCallback,AnalyticsAutoTagHooks.omnitureBrandVoiceAnalyticsCallback],workbench:[AnalyticsAutoTagHooks.workbenchAnalyticsCallback],magpie:[AnalyticsAutoTagHooks.magpieAnalyticsCallback]};var vendors=settings.vendors;if(vendors){for(var i=0;i<vendors.length;i++){var vendorCallbacks=vendorMapping[vendors[i].vendorName];if(vendorCallbacks){for(var j=0;j<vendorCallbacks.length;j++){if(vendorCallbacks[j]){vendorCallbacks[j](rawJson,settings,vendors[i])}}}}}};AnalyticsAutoTagHooks.googleAnalyticsCallback=function(rawJson,settings,vendorSettings){$bv(function(){var tracker=AnalyticsAutoTagHooks.getGoogleAnalyticsTracker(vendorSettings);if(!tracker){return}var json=BVAnalyticsTracker.getJsonWithDefaultValues(rawJson);if(json.eventSource===BVAnalyticsData.EVENT_SOURCE.display&&Cookies.get(AnalyticsHooks._bvGoogleAnalyticsCustomEventFiredCookieName+json.bvProduct)==null){BVAnalyticsTracker.callAutotag(tracker,tracker.trackEvent,AnalyticsHooks._bvGoogleAnalyticsCustomEventFiredEventCategory,json.group+" "+json.bvProduct+" "+BVAnalyticsData.EVENT_SOURCE.display,undefined,undefined,true);Cookies.set(AnalyticsHooks._bvGoogleAnalyticsCustomEventFiredCookieName+json.bvProduct,true,"/")}if(!AnalyticsAutoTagHooks.eventIsTracked(json,settings)){return}var eventParameters=AnalyticsAutoTagHooks.getEventParameters(json,settings);BVAnalyticsTracker.callAutotag(tracker,tracker.trackEvent,eventParameters.category.join(" "),eventParameters.details.concat(eventParameters.action).join(" "),"BV^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"),undefined,json.eventSource===BVAnalyticsData.EVENT_SOURCE.display)})};AnalyticsAutoTagHooks.workbenchAnalyticsCallback=function(rawJson,settings,vendorSettings){};AnalyticsAutoTagHooks.magpieAnalyticsCallback=function(rawJson,settings,vendorSettings){$bv(function(){MagpieTracking.trackBvAnalyticsEvent(BVAnalyticsTracker.getJsonWithDefaultValues(rawJson),settings,vendorSettings)})};AnalyticsAutoTagHooks.coremetricsAnalyticsCallback=function(rawJson,settings,vendorSettings){var json=AnalyticsHooks.getJsonWithDefaultValues(rawJson);
if(!AnalyticsAutoTagHooks.eventIsTracked(json,settings)){return}$bv(function(){if(typeof cG7==="object"&&cG7){var oldPageId=cG7.cM0[cm_ClientID];var eventParameters=AnalyticsAutoTagHooks.getEventParameters(json,settings);if(vendorSettings.signature=="pageCategorySearch"){AnalyticsHooks.callAutotag(window,cmCreatePageviewTag,"BV^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"),eventParameters.category.concat(eventParameters.details,eventParameters.action).join("^"))}else{if(vendorSettings.signature=="pageSearchCategory"){AnalyticsHooks.callAutotag(window,cmCreatePageviewTag,"BV^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"),null,eventParameters.category.concat(eventParameters.details,eventParameters.action).join("^"))}}cG7.cM0[cm_ClientID]=oldPageId}})};AnalyticsAutoTagHooks.omnitureBrandVoiceAnalyticsCallback=function(rawJson,settings,vendorSettings){var json=AnalyticsHooks.getJsonWithDefaultValues(rawJson);if(!(json.bvExtension&&json.initialProductDisplay&&((vendorSettings.brandVoiceTrackingType=="BEFORE_AFTER"&&json.bvExtension.BrandVoice)||(vendorSettings.brandVoiceTrackingType=="SPLIT"&&json.bvExtension.SplitTestBucket)))){return}var elem=(window.event&&(event.target||event.srcElement))||window;$bv(function(){var tracker=AnalyticsAutoTagHooks.getOmnitureAnalyticsTracker(vendorSettings);if(typeof tracker==="object"&&tracker){var data="";if(vendorSettings.brandVoiceTrackingType=="BEFORE_AFTER"){data=json.brand+"^"+json.bvExtension.BrandVoice+"^"+json.productId}else{if(vendorSettings.brandVoiceTrackingType=="SPLIT"){data=json.brand+"^"+json.bvExtension.SplitTestBucket+"^"+json.productId}}if(tracker.products){var products=tracker.products.replace(/([^,;]*;[^,;]*);[^,]*/g,"$1");var productsParameters=products.split(";");if(productsParameters.length==2&&productsParameters[1].length>0){var state=AnalyticsHooks.stateTracker();state.assign(tracker,"linkTrackVars","products");products+=";;;;eVar"+vendorSettings.brandVoiceTrackingEVarNum+"="+data;state.assign(tracker,"products",products);state.assign(window,"s_linkTrackVars",tracker.linkTrackVars);AnalyticsHooks.callAutotag(tracker,tracker.tl,elem,"o",data.replace(/\^/g," "));state.undoAll()}}}})};AnalyticsAutoTagHooks.omnitureAnalyticsCallback=function(rawJson,settings,vendorSettings){var json=AnalyticsHooks.getJsonWithDefaultValues(rawJson);if(!AnalyticsAutoTagHooks.eventIsTracked(json,settings)){return}var elem=(window.event&&(event.target||event.srcElement))||window;$bv(function(){var tracker=AnalyticsAutoTagHooks.getOmnitureAnalyticsTracker(vendorSettings);if(typeof tracker==="object"&&tracker){var eventNum=vendorSettings.eventNum;var eVarNum=vendorSettings.eVarNum;var eventParameters=AnalyticsAutoTagHooks.getEventParameters(json,settings);var data=eventParameters.category.concat(eventParameters.details,eventParameters.action).join("^");var state=AnalyticsHooks.stateTracker();state.assign(tracker,"linkTrackVars","events");state.assign(tracker,"linkTrackEvents","event"+eventNum);state.assign(tracker,"events","event"+eventNum);if(tracker.products){tracker.linkTrackVars+=",products";state.assign(tracker,"products",tracker.products.replace(/([^,;]*;[^,;]*);[^,]*/g,"$1"))}tracker.linkTrackVars+=",eVar"+eVarNum;state.assign(tracker,"eVar"+eVarNum,data);state.assign(window,"s_linkTrackEvents",tracker.linkTrackEvents);state.assign(window,"s_linkTrackVars",tracker.linkTrackVars);state.assign(window,"s_events",tracker.linkTrackEvents);AnalyticsHooks.callAutotag(tracker,tracker.tl,elem,json.linkDestinationLocation===BVAnalyticsData.LINK_DESTINATION_LOCATION.external?"e":"o",data.replace("^"," ")+"^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"));state.undoAll()}})};AnalyticsAutoTagHooks.eventIsTracked=function(json,settings){var tracking=settings.productTracking.tracking;
var trackInitialProductDisplay=settings.productTracking.initialProductDisplay;if(!tracking||(json.eventSource!=BVAnalyticsData.EVENT_SOURCE.action&&!(json.pageType&&json.eType==BVAnalyticsData.E_TYPE.write&&settings.trackSubmissionPageLoads)&&!(trackInitialProductDisplay&&json.initialProductDisplay&&json.eType==BVAnalyticsData.E_TYPE.read))||(json.formAction&&!settings.trackFormActions&&json.eType==BVAnalyticsData.E_TYPE.write)||(json.eType==BVAnalyticsData.E_TYPE.conversion)){return false}return true};AnalyticsAutoTagHooks.getEventParameters=function(json,settings){var eventParameters={category:[json.group,json.bvProduct],details:[json.eventSource,json.eType,json.eventTarget],action:[AnalyticsAutoTagHooks.getEventName(json,settings)]};var version=AnalyticsVersioning.parseVersion(settings.autoTagAnalyticsVersion);if(version.compareTo(AnalyticsVersioning.parseVersion("4.7"))<=0){eventParameters.details=[json.eventSource,json.eType]}return eventParameters};AnalyticsAutoTagHooks.getEventName=function(json,settings){if(json.eventSource==BVAnalyticsData.EVENT_SOURCE.display){return(json.submissionBodyLengthSummary||json.formAction||AnalyticsAutoTagHooks.getPageTypeAndStatus(json,settings)||json.eName||"Default")}else{return(AnalyticsAutoTagHooks.getFieldData(json,settings)||AnalyticsVersioning.filterView(json.view,settings.autoTagAnalyticsVersion)||json.formAction||json.eName||"Default")}};AnalyticsAutoTagHooks.getFieldData=function(json,settings){var fieldData="";if(json.fieldName){fieldData=AnalyticsVersioning.filterFieldName(json.fieldName,settings.autoTagAnalyticsVersion)}if(json.fieldGroup){fieldData+=AnalyticsVersioning.filterFieldGroup(json.fieldGroup,settings.autoTagAnalyticsVersion)}return fieldData};AnalyticsAutoTagHooks.getPageTypeAndStatus=function(json,settings){var version=AnalyticsVersioning.parseVersion(settings.autoTagAnalyticsVersion);if(json.pageStatus=="validationError"&&version.compareTo(AnalyticsVersioning.parseVersion("4.8"))>=0){return(json.pageType+"ValidationError")}else{return json.pageType}};AnalyticsAutoTagHooks.getGoogleAnalyticsTracker=function(vendorSettings){var trackerReference=vendorSettings.trackerReference;var tracker;var codeType=vendorSettings.codeType;var trackerType="object";if(!trackerReference){if((!codeType||codeType==="SYNCHRONOUS")&&typeof pageTracker==="object"&&pageTracker){trackerReference="pageTracker";codeType="SYNCHRONOUS"}else{if((!codeType||codeType==="ASYNCHRONOUS")&&typeof _gaq==="object"&&_gaq){trackerReference="_gaq";codeType="ASYNCHRONOUS"}else{if((!codeType||codeType==="UNIVERSAL")&&typeof ga==="function"&&ga){trackerReference="ga";codeType="UNIVERSAL"}else{return}}}}else{if(!codeType){if(trackerReference==="pageTracker"){codeType="SYNCHRONOUS"}else{if(trackerReference==="_gaq"){codeType="ASYNCHRONOUS"}else{if(trackerReference==="ga"){codeType="UNIVERSAL"}else{return}}}}}if((trackerReference==="ga")||(codeType==="UNIVERSAL")){trackerType="function"}try{tracker=eval(trackerReference)}catch(err){return}if(!(typeof tracker===trackerType&&tracker)){return}if(codeType==="SYNCHRONOUS"){return{trackEvent:function(category,action,label,value,noninteraction){tracker._trackEvent(category,action,label,value,noninteraction)}}}else{if(codeType==="ASYNCHRONOUS"){return{trackEvent:function(category,action,label,value,noninteraction){tracker.push(["_trackEvent",category,action,label,value,noninteraction])}}}else{if(codeType==="UNIVERSAL"){return{trackEvent:function(category,action,label,value,noninteraction){tracker("send","event",category,action,label,value,{nonInteraction:noninteraction})}}}else{}}}};AnalyticsAutoTagHooks.getOmnitureAnalyticsTracker=function(vendorSettings){var trackerReference=vendorSettings.trackerReference;var tracker;try{tracker=eval(trackerReference)}catch(err){return}if(!(typeof tracker==="object"&&tracker)){return}return tracker}});
$BV.Internal.define("browserVersion",[window,document],["exports","jquery.core"],function(h,k,b,n){var r="BVBrowserIE6",q="BVBrowserIE7",i="BVBrowserIE8",p="BVBrowserIE9",j="BVBrowserIE10",c="BVBrowserIE11",s="BVBrowserIE",l="BVBrowserFF",e="BVBrowserOpera",o="BVBrowserWebkit",m="BVBrowserUnknown";var g;function d(v,u){if(!g){g=a()}var t=u&&u.getComponent(v.containerId);if(t){v.containerId=t.id}f(v)}function f(t){if(g){if(t.useBodyTag){n("body").addClass(g)}else{n("#"+t.containerId).addClass(g)}}}n.extend(b,{addBrowserClasses:f});function a(){var u="Trident/.*rv:([0-9]{1,}[.0-9]{0,})";var v=n.browser;if(v.webkit){return o}if(v.opera){return e}if(n.browser.msie||navigator.userAgent.match(u)){var w=s,t=parseInt(v.version.slice(0,v.version.indexOf(".")));switch(t){case 6:w+=" "+r;break;case 7:w+=" "+q;break;case 8:w+=" "+i;break;case 9:w+=" "+p;break;case 10:w+=" "+j;break;case 11:w+=" "+c}return w}if(v.mozilla){return l}return m}b.onPageLoad=function(x,w,t,v,u){if(x==="initialize"){d(w,u)}}});
$BV.Internal.define("contentDisplay",[window,document],["exports","jquery.core","cookies","requester"],function(j,t,C,z,x,b){j.bvCreateTimer=C.createTimer=function(){var F;return{clear:function(){if(F){clearTimeout(F);F=null}},set:function(G,H){this.clear();if(G){F=setTimeout(G,H)}}}};j.bvDisableReturn=function(G,F){return h(13,G,F)};j.bvDisableTab=function(G,F){return h(9,G,F)};function h(G,H,F){var I=null;if(!H){H=j.event}if(H.keyCode){I=H.keyCode}else{if(H.which){I=H.which}}if(I==G&&F){F()}return I!=G}j.bvGetSelectListValue=function(F){return(F&&F.type=="select-one")?F.options[F.selectedIndex].value:null};function i(F){var G=parseInt(F,10);return(isNaN(G))?0:G}function g(G){var F=G.width();F+=i(G.css("padding-left"))+i(G.css("padding-right"));F+=i(G.css("margin-left"))+i(G.css("margin-right"));F+=i(G.css("borderLeftWidth"))+i(G.css("borderRightWidth"));return F}function r(I,G){var J=z(I).html();var H=z("<span/>").html(J).hide().appendTo("body");z(H).css("font-size",z(I).css("font-size"));z(H).css("font-style",z(I).css("font-style"));z(H).css("padding-left",z(I).css("padding-left"));z(H).css("padding-right",z(I).css("padding-right"));z(H).css("margin-left",z(I).css("margin-left"));z(H).css("margin-right",z(I).css("margin-right"));var F=z(G).width();if(z.browser.msie){F=i(z(G).css("width"))}while(J.length>0&&g(H)>F){J=J.substr(0,J.length-1);z(H).html(J+"...")}z(I).html(H.html());z(H).remove()}j.bvAbbreviateElements=function(F,G){z.each(F,function(){r(this,G)})};j.bvRememberScrollPosition=function(){x.set("bvScrollPositionY",z(j).scrollTop());x.set("bvScrollPositionX",z(j).scrollLeft())};j.bvRestoreScrollPosition=function(){var G=x.get("bvScrollPositionX");var F=x.get("bvScrollPositionY");x.remove("bvScrollPositionX");x.remove("bvScrollPositionY");if(G>0){z(j).scrollLeft(G)}if(F>0){z(j).scrollTop(F)}};j.bvRememberScrollToElement=function(F,G){x.set("bvScrollToElementID",F);if(G){x.set("bvScrollToElementOffset",G)}};j.bvRememberClickAndScrollToElements=function(G,F){j.parent.bvClickOnElementID=G;j.parent.bvScrollAfterClickElementID=F};j.bvScrollToElement=function(){var F=x.get("bvScrollToElementID"),G=x.get("bvScrollToElementOffset");x.remove("bvScrollToElementID");x.remove("bvScrollToElementOffset");if(F){c(z("#"+F),parseInt(G))}};j.bvClickAndScrollIfNeeded=function(){if(!j.bvClickOnElementID){return}var F=t.getElementById(j.bvClickOnElementID);j.bvClickOnElementID=null;if(F){if(!(typeof(F.onclick)=="function")||F.onclick()!=false){if(!j.bvScrollAfterClickElementID){return}c(z("#"+j.bvScrollAfterClickElementID));j.bvScrollAfterClickElementID=null}}};j.bvPositionWhereVisible=function(P,O,L){var F=z(P);var R=z(j);var M=2;var S=F.offset();var N=S;var T=(N.top+F.outerHeight())-(R.scrollTop()+R.height()-M);if(T>0){var J=u(F,"marginLeft");N={top:N.top-T,left:z(O).offset().left+z(O).outerWidth()+J}}var I=(N.left+F.outerWidth())-(R.scrollLeft()+R.width()-M);if(I>0){var Q=u(F,"marginRight");N={top:N.top,left:(T>0)?z(L).offset().left-F.outerWidth()-Q:N.left-I}}if(N.left<R.scrollLeft()||N.top<R.scrollTop()){N=S}var H=F.position();var G=z(t.createElement("div")).css({position:"absolute",top:0,left:0}).appendTo("body"),K=G.position();G.remove();if(S.top!=N.top){F.css("top",(H.top-K.top+(N.top-S.top))+"px")}if(S.left!=N.left){F.css("left",(H.left-K.left+(N.left-S.left))+"px")}};function u(G,F){var H=parseInt(G.css(F));if(isNaN(H)){H=0}return H}j.bvPositionDefault=function(F){z(F).css("top","").css("left","")};j.bvShowInPopup=function(H,L,F,K,G,I){var J=z(L);J.html(z(H).html());J.css({top:F.top,left:F.left});J.removeClass(K);if(G&&I){bvPositionWhereVisible(J.get(),G,I)}};j.bvCategoryHierarchyOpenDropdownMenu=function(G,F){var H="#"+G;if(z(H).hasClass(F)){z(H).removeClass(F).animate({height:"0px",opacity:"0"},"fast","swing",function(){z(this).hide()})}else{z(H).addClass(F).css({height:"auto"}).animate({height:"show",opacity:"1"},"fast")}return false};j.bvShowElement=function(G,F){z("#"+G).removeClass(F+"Hidden")};function p(F,G){if(z.browser.msie){j.bvFlashPluginPresent=true;
z("#"+F+"ExplorerFlash_VideoID_"+G).show()}else{if(j.bvFlashPluginPresent===undefined){j.bvFlashPluginPresent=j.navigator.plugins&&j.navigator.plugins["Shockwave Flash"]&&j.navigator.plugins["Shockwave Flash"].description}if(j.bvFlashPluginPresent){z("#"+F+"NonExplorerFlashInstalled_VideoID_"+G).show()}else{z("#"+F+"NonExplorerFlashNotInstalled_VideoID_"+G).show()}}}function v(F,G){$BV.Internal.require(["swfobject"],function(H){if(H.hasFlashPlayerVersion("10")){z("#"+F+"Iframe_VideoID_"+G).show()}else{z("#"+F+"IframeFlashNotInstalled_VideoID_"+G).show()}})}function c(F){var G=F,H=F.parentsUntil("html").toArray();H.unshift(F);z.each(H,function(K,J){var M=z(J),L=M.css("overflow-y");if(L=="scroll"||L=="auto"){M.scrollTop(G.offsetParent());G=M}});var I=G.offset();if(I){z(j).scrollTop(d(I.top,arguments[1]))}}function d(F,G){if(G&&!isNaN(G)){F+=G;if(F<0){F=0}}return F}j.bvScroll={toElement:function(F){c(z(F),arguments[1])},toWindowTop:function(){j.scroll(0,0)},toContainer:function(F){bvScroll.toElement(F)},reset:function(H,G){var F=z(H);(G?F.parent():F).scrollTop(0)},viaFunction:function(G){var F=j[G];if(z.isFunction(F)){F()}}};j.bvSubmitSearch=function(H,G,F,I,K){var J=z("#"+F).val();if(J!=G){H=H.replace(/__SEARCHTEXT__/,encodeURIComponent(J));b.get(H,I,K)}};C.bindToSubmitFrame=function(G,H){function F(I){return function(){var K=H.config.doScrollSubmission,L=this,M=arguments,J=function(){I.apply(L,M)};if(!K||K(J)!==false){J()}}}G.listen("contentDisplay.scrollToElement",F(function(I,K,L){var J=z(I);if(J.length){c(J,K)}else{if(typeof L==="number"){H.scrollRelative(L)}}}));G.listen("contentDisplay.scrollToWindowTop",F(function(){j.scroll(0,0)}));G.listen("contentDisplay.scrollToContainer",F(function(){H.scrollToContainer()}));G.listen("contentDisplay.scrollReset",F(function(I,J){j.bvScroll.reset(I,J)}));G.listen("contentDisplay.scrollViaFunction",F(function(I){j.bvScroll.viaFunction(I)}))};C.connectFromSubmitFrame=function(F){j.bvScroll.toElement=function(I){var G=z(I),H=arguments[1];F.call("contentDisplay.scrollToElement",typeof I==="string"?I:null,H,G.length?d(G.offset().top,H):null)};j.bvScroll.toWindowTop=function(){F.call("contentDisplay.scrollToWindowTop")};j.bvScroll.toContainer=function(){F.call("contentDisplay.scrollToContainer")};j.bvScroll.reset=function(I,H){var G=z(I);if(G.length){(H?G.parent():G).scrollTop(0)}if(typeof I==="string"){F.call("contentDisplay.scrollReset",I,H)}};j.bvScroll.viaFunction=function(G){F.call("contentDisplay.scrollViaFunction",G)}};var m=1000;var A=5;var s=1000;var o=0;var E=0;var e=0;var w=0;var f=false;function y(G,F){var H=0;e=F.width();w=F.height();z.each(G,function(I,J){q(J)});z(j).resize(function(){if(o!==0){j.clearTimeout(o)}o=j.setTimeout(function(){if(F.width()==e&&F.height()==w){return}l(G,F);e=F.width();w=F.height()},m)});if(E!==0){j.clearTimeout(E)}E=j.setInterval(function(){if(H>=A){j.clearTimeout(E);return}l(G,F);H++},s)}function q(F){var G=0;z(F).each(function(){var H=z(this).height();if(H>G){G=H}});z(F).css("height",G)}function l(G,F){if(f){return}f=true;z.each(G,function(I,H){z(H).css("height","auto");q(H)});f=false}function n(J,I,G,H,F){z(G).bind("click",function(K){bvStopPropagation(K);z(J).toggleClass("BVDIHidden");z(I).toggleClass("BVSecondaryContentExpandLink").toggleClass("BVSecondaryContentHideLink");if(z(I).hasClass("BVSecondaryContentHideLink")){z(I).find(".BVToggleSectionLink .BVDILinkSpan").html(F)}else{z(I).find(".BVToggleSectionLink .BVDILinkSpan").html(H)}return false})}function k(){var F=navigator.userAgent.toLowerCase();return(F.search("iphone")>-1||F.search("android")>-1||F.search("blackberry")>-1)}function a(F){if(k()||F){z("#BVMobileSwitchLinkID").removeClass("BVDIHidden")}}function D(){z(".BVHoverable").hover(function(){z(this).addClass("BVHover")},function(){z(this).removeClass("BVHover")});z("*").removeClass("BVHoverable")}function B(G,F){if(k()){z("#BVMobileSwitchLinkID").bind("click",function(){x.set("displayTypePreferred"+G,F,"/")})}}C.forceRepaint=function(F){F.css("visibility","hidden").css("visibility","visible")
};C.onPageLoad=function(M,K,F,J,I){if(M==="show"){bvShowElement(K.elementId,K.prefix)}else{if(M==="flashDetect"){p(K.prefix,K.playerIdSuffix)}else{if(M==="iframeFlashDetect"){v(K.prefix,K.playerIdSuffix)}else{if(M==="equalizeDivHeights"){y(K.elementsSelectorsList,z(K.containingElementSelector))}else{if(M==="toggleSecondaryContent"){n(K.toggleSectionId,K.toggleId,K.bindId,K.expandText,K.hideText)}else{if(M==="detectMobileDevice"){a(K.isMobileFormat)}else{if(M==="saveDisplayTypePreference"){B(K.displayCode,K.displayType)}else{if(M==="bindHoverEvent"){D()}else{if(M.match(/^scroll/)){function L(){if(M==="scrollFn"){bvScroll.viaFunction(K.fn)}else{if(M==="scrollReset"){bvScroll.reset(K.selector,K.resetParent)}else{if(M==="scrollToContainer"){var N=(I&&I.apiConfig()&&I.apiConfig().submissionContainerDiv)||K.defaultContainerId;bvScroll.toContainer(I?I.getComponent(N):"#"+N)}else{if(M==="scrollToWindowTop"){bvScroll.toWindowTop()}else{if(M==="scrollTo"){bvScroll.toElement(K.selector,K.offset)}}}}}}var H=I&&I.apiConfig(),G;if(K.rpcInjectedSubmission){G=H&&H.doScrollSubmission}else{G=H&&H.doScrollContent}G&&G(L)===false||L()}}}}}}}}}}});
$BV.Internal.define("json2",[window],["exports","jquery.core"],function(e,i,d){i.parse=d.parseJSON;function c(f){return f<10?"0"+f:f}function a(f){return isFinite(f.valueOf())?f.getUTCFullYear()+"-"+c(f.getUTCMonth()+1)+"-"+c(f.getUTCDate())+"T"+c(f.getUTCHours())+":"+c(f.getUTCMinutes())+":"+c(f.getUTCSeconds())+"Z":null}var h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function b(f){h.lastIndex=0;return h.test(f)?'"'+f.replace(h,function(k){var l=j[k];return typeof l==="string"?l:"\\u"+("0000"+k.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function g(p,o){var n,m,l,q,f,r=o[p];if(r&&typeof r==="object"){if(r.constructor===Date){r=a(r)}else{if(r.constructor===String||r.constructor===Number||r.constructor===Boolean){r=r.valueOf()}}}switch(typeof r){case"string":return b(r);case"number":return isFinite(r)?String(r):"null";case"boolean":case"null":return String(r);case"object":if(!r){return"null"}f=[];if(Object.prototype.toString.apply(r)==="[object Array]"){q=r.length;for(n=0;n<q;n+=1){f[n]=g(n,r)||"null"}l=f.length===0?"[]":"["+f.join(",")+"]";return l}for(m in r){if(Object.hasOwnProperty.call(r,m)){l=g(m,r);if(l){f.push(b(m)+":"+l)}}}l=f.length===0?"{}":"{"+f.join(",")+"}";return l}}i.nonNativeStringify=function(f){return g("",{"":f})};i.stringify=(e.JSON&&typeof e.JSON.stringify==="function"&&e.JSON.stringify([{}])==="[{}]")?e.JSON.stringify:i.nonNativeStringify});
$BV.Internal.define("swfobject",[window,document,navigator],[],function(c,b,d){
/*	SWFObject v2.2 <http://code.google.com/p/swfobject/>
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
var a=function(){var z="undefined",r="object",f="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",w="application/x-shockwave-flash",l="SWFObjectExprInst",g="onreadystatechange",i=false,E=[k],m=[],v=[],t=false,B=function(){var J=typeof b.getElementById!=z&&typeof b.getElementsByTagName!=z&&typeof b.createElement!=z,Q=d.userAgent.toLowerCase(),H=d.platform.toLowerCase(),N=H?/win/.test(H):/win/.test(Q),L=H?/mac/.test(H):/mac/.test(Q),O=/webkit/.test(Q)?parseFloat(Q.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,G=!+"\v1",P=[0,0,0],K=null;if(typeof d.plugins!=z&&typeof d.plugins[f]==r){K=d.plugins[f].description;if(K&&!(typeof d.mimeTypes!=z&&d.mimeTypes[w]&&!d.mimeTypes[w].enabledPlugin)){i=true;G=false;K=K.replace(/^.*\s+(\S+\s+\S+$)/,"$1");P[0]=parseInt(K.replace(/^(.*)\..*$/,"$1"),10);P[1]=parseInt(K.replace(/^.*\.(.*)\s.*$/,"$1"),10);P[2]=/[a-zA-Z]/.test(K)?parseInt(K.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof c.ActiveXObject!=z){try{var M=new ActiveXObject(F);if(M){K=M.GetVariable("$version");if(K){G=true;K=K.split(" ")[1].split(",");P=[parseInt(K[0],10),parseInt(K[1],10),parseInt(K[2],10)]}}}catch(I){}}}return{w3:J,pv:P,wk:O,ie:G,win:N,mac:L}}(),D=function(){if(!B.w3){return}if((typeof b.readyState!=z&&b.readyState=="complete")||(typeof b.readyState==z&&(b.getElementsByTagName("body")[0]||b.body))){u()}if(!t){if(typeof b.addEventListener!=z){b.addEventListener("DOMContentLoaded",u,false)}if(B.ie&&B.win){b.attachEvent(g,function(){if(b.readyState=="complete"){b.detachEvent(g,arguments.callee);u()}});if(c==top){(function(){if(t){return}try{b.documentElement.doScroll("left")}catch(G){setTimeout(arguments.callee,0);return}u()})()}}if(B.wk){(function(){if(t){return}if(!/loaded|complete/.test(b.readyState)){setTimeout(arguments.callee,0);return}u()})()}n(u)}}();function u(){if(t){return}try{var I=b.getElementsByTagName("body")[0].appendChild(x("span"));I.parentNode.removeChild(I)}catch(J){return}t=true;var G=E.length;for(var H=0;H<G;H++){E[H]()}}function n(H){if(typeof c.addEventListener!=z){c.addEventListener("load",H,false)}else{if(typeof b.addEventListener!=z){b.addEventListener("load",H,false)}else{if(typeof c.attachEvent!=z){q(c,"onload",H)}else{if(typeof c.onload=="function"){var G=c.onload;c.onload=function(){G();H()}}else{c.onload=H}}}}}function k(){if(i){try{y()}catch(G){}}else{h()}}function y(){var G=b.getElementsByTagName("body")[0];var J=x(r);J.setAttribute("type",w);var I=G.appendChild(J);if(I){var H=0;(function(){if(typeof I.GetVariable!=z){var K=I.GetVariable("$version");if(K){K=K.split(" ")[1].split(",");B.pv=[parseInt(K[0],10),parseInt(K[1],10),parseInt(K[2],10)]}}else{if(H<10){H++;setTimeout(arguments.callee,10);return}}G.removeChild(J);I=null;h()})()}else{h()}}function h(){}function s(S,P,H,Q){var G,J=C(H);if(B.wk&&B.wk<312){return G}if(J){if(typeof S.id==z){S.id=H}if(B.ie&&B.win){var R="";for(var N in S){if(S[N]!=Object.prototype[N]){if(N.toLowerCase()=="data"){P.movie=S[N]}else{if(N.toLowerCase()=="styleclass"){R+=' class="'+S[N]+'"'}else{if(N.toLowerCase()!="classid"){R+=" "+N+'="'+S[N]+'"'}}}}}var O="";for(var M in P){if(P[M]!=Object.prototype[M]){O+='<param name="'+M+'" value="'+P[M]+'" />'}}J.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+R+">"+O+"</object>";if(!Q){m[m.length]=S.id}G=C(S.id)}else{var I=x(r);I.setAttribute("type",w);for(var L in S){if(S[L]!=Object.prototype[L]){if(L.toLowerCase()=="styleclass"){I.setAttribute("class",S[L])}else{if(L.toLowerCase()!="classid"){I.setAttribute(L,S[L])}}}}for(var K in P){if(P[K]!=Object.prototype[K]&&K.toLowerCase()!="movie"){j(I,K,P[K])}}J.parentNode.replaceChild(I,J);G=I}}return G}function j(I,G,H){var J=x("param");J.setAttribute("name",G);J.setAttribute("value",H);I.appendChild(J)}function A(H){var G=C(H);
if(G&&G.nodeName=="OBJECT"){if(B.ie&&B.win){G.style.display="none";(function(){if(G.readyState==4){e(H)}else{setTimeout(arguments.callee,10)}})()}else{G.parentNode.removeChild(G)}}}function e(I){var H=C(I);if(H){for(var G in H){if(typeof H[G]=="function"){H[G]=null}}H.parentNode.removeChild(H)}}function C(I){var G=null;try{G=b.getElementById(I)}catch(H){}return G}function x(G){return b.createElement(G)}function q(I,G,H){I.attachEvent(G,H);v[v.length]=[I,G,H]}function p(I){var H=B.pv,G=I.split(".");G[0]=parseInt(G[0],10);G[1]=parseInt(G[1],10)||0;G[2]=parseInt(G[2],10)||0;return(H[0]>G[0]||(H[0]==G[0]&&H[1]>G[1])||(H[0]==G[0]&&H[1]==G[1]&&H[2]>=G[2]))?true:false}var o=function(){if(B.ie&&B.win){window.attachEvent("onunload",function(){var L=v.length;for(var K=0;K<L;K++){v[K][0].detachEvent(v[K][1],v[K][2])}var I=m.length;for(var J=0;J<I;J++){A(m[J])}for(var H in B){B[H]=null}B=null;for(var G in a){a[G]=null}a=null})}}();return{ua:B,getFlashPlayerVersion:function(){return{major:B.pv[0],minor:B.pv[1],release:B.pv[2]}},hasFlashPlayerVersion:p,createSWF:function(I,H,G,J){if(B.w3){return s(I,H,G,J)}else{return undefined}},removeSWF:function(G){if(B.w3){A(G)}},unused:{}}}();return a});
$BV.Internal.define("rpcSupport",[window,document],["exports","jquery.core","json2","swfobject"],function(i,n,j,q,e,b){function o(){return j.debug>=1}function d(){return j.debug>=2}function p(){if(o()){$BV.log.apply(null,arguments)}}function t(){if(d()){$BV.log.apply(null,arguments)}}function f(v,w){return(i.console&&!i.Debug)?v:w||e.stringify(v)}function l(){var E,A=new Date().getTime()%(1019<<20),K={},C={};function B(S){try{return e.parse(S)}catch(R){p("Could not parse message",S)}}function w(R){var S=e.stringify(R);if(E){if(d()){t("Sending message",f(R,S))}j.send(E,S)}else{p("Cannot send message over disconnected transport",S)}}function Q(R,T,S){if(o()){if(K[R]){p("Replacing registered receiver for "+R)}}if(S){K[R]=function(){delete K[R];return T.apply(null,arguments)}}else{K[R]=T}}function L(R){return"endpoint:"+R}function J(R){return"reply:"+R}function F(){return"batch"}function z(R,U,T){var S={addressee:R,parameters:U};if(T){S.replyTo=J(A++);Q(S.replyTo,T,true)}return S}function x(R,T,S){w(z(R,T,S))}function v(S,R){O(S.addressee,function(){var V=K[S.addressee];if(V){if(q.isArray(S.parameters)){try{var T=V.apply(null,S.parameters);if(S.replyTo){R({addressee:S.replyTo,parameters:[T]})}}catch(U){$BV.log(U)}}else{if(o()){p("Ignoring message w/invalid arguments",S)}}}else{if(o()){p("Ignoring message w/unknown addressee: "+S.addressee,S)}}})}function O(R,T){for(var S in C){if(R.substring(0,S.length)===S){$BV.Internal.require(C[S],function(){delete C[S];T()});return}}T()}function y(T){if(T.length>0){var S=[],U;for(var R=0;R<T.length;R++){v(T[R],function(V){if(U){w(V)}else{S.push(V)}})}U=true;return S}else{if(o()){p("Batch message was empty")}}}Q(F(),y,false);var I={confidential:j.confidential,listen:D,requireModules:G,call:N,batch:H,disconnect:P};function D(T,S,R){Q(L(T),S,R)}function G(S,R){C[L(S)]=R}function M(R){if(R.length>0&&typeof R[R.length-1]==="function"){return R.pop()}}function N(T){var S=[].slice.call(arguments,1);var R=M(S);x(L(T),S,R)}function H(){var S=[];function R(){var U=0;for(var T=0;T<S.length;T++){if(S[T].replyTo){U+=1}}return U}return q.extend({},I,{call:function(V){var U=[].slice.call(arguments,1);var T=M(U);S.push(z(L(V),U,T))},execute:function(){if(S.length){x(F(),[S],R()&&function(T){if(T.length){y(T)}});S.length=0}},executeAndUnbatch:function(){this.call=I.call;this.execute()}})}function P(){if(E){j.teardownTransport(E);E=null;K={}}}return{init:function(R){E=R},receiveFn:function(S){var R=B(S);if(d()){t("Received message",f(R,S))}if(R){v(R,w)}},publicApi:I}}var u=["origin","swf","channel"];function k(w){var v=/^https?:\/\/[^\/?#]+/.exec(w);return v&&v[0]}function a(w){var v="";q(u).each(function(y,x){if(w[x]){v=(v?v+"&":"")+x+"="+encodeURIComponent(w[x])}});return v}function s(v){var w=v.split("&"),x={};q(w).each(function(z,y){var A=y.split("=",2);x[A[0]]=decodeURIComponent(A[1])});return x}var r=/(?:^|;\s*)bvrpc=(\d+)(?:;|$)/.exec(n.cookie);q.extend(j,{debug:r?r[1]:1,asOrigin:k,newCxnParams:function(v){if(v.charAt(v.length-1)!=="/"){v=v+"/"}return a(j.transportParams(v))},connect:function(w,v,x){var y=l();y.init(j.setupTransport(w,y.receiveFn,v,s(x)));if(w===i.parent||w===i.opener){q(i).unload(function(){y.publicApi.disconnect()})}return y.publicApi}});function h(){return{name:"wpm",confidential:true,transportParams:function(){return{origin:k(i.location.href)}},setupTransport:function(y,A,w,x){var v=y===i.parent||y===i.opener,z={targetWindow:y,targetOrigin:v?x.origin:"*"};if(z.targetOrigin!=="*"&&!w(z.targetOrigin)){throw"Invalid message target origin: "+z.targetOrigin}z.onMessage=function(B){if(B.source===y&&w(B.origin)){z.targetOrigin=B.origin;A(B.data)}};if(typeof i.addEventListener!=="undefined"){i.addEventListener("message",z.onMessage,false)}else{if(typeof i.attachEvent!=="undefined"){i.attachEvent("onmessage",z.onMessage)}}return z},teardownTransport:function(v){v.targetWindow=null;if(typeof i.addEventListener!=="undefined"){i.removeEventListener("message",v.onMessage,false)}else{if(typeof i.attachEvent!=="undefined"){i.detachEvent("onmessage",v.onMessage)
}}},send:function(v,x){var w=v.targetWindow;if(w&&typeof w.postMessage!=="undefined"){w.postMessage(x,v.targetOrigin)}}}}function m(){var C="BVRPC____NIXVBS_wrapper",x="BVRPC____NIXVBS_get_wrapper",B="BVRPC____NIXVBS_handle_message",A="BVRPC____NIXVBS_create_channel",z={},w=0,y={};if(typeof i[x]!=="unknown"){i[B]=function(D,E){setTimeout(function(){if(z[D]){z[D](E)}},0)};i[A]=function(D,E){if(E){y[D]=E}else{delete y[D]}};var v="Class "+C+"\nPrivate m_Intended\nPublic Sub SetIntendedName(name)\nIf isEmpty(m_Intended) Then\nm_Intended = name\nEnd If\nEnd Sub\nPublic Sub SendMessage(data)\nCall "+B+"(m_Intended, data)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call "+A+"(m_Intended, channel)\nEnd Sub\nEnd Class\nFunction "+x+"(name)\nDim wrap\nSet wrap = New "+C+"\nwrap.SetIntendedName name\nSet "+x+" = wrap\nEnd Function";i.execScript(v,"vbscript")}return{name:"nix",confidential:false,transportParams:function(){return{}},setupTransport:function(E,F){if(E===i.parent||E===i.opener){if(i.opener&&"CreateChannel" in i.opener){i.opener.CreateChannel(function(G){setTimeout(function(){F(G)},0)})}return{amChild:true}}else{var D="fn"+(w++);z[D]=F;E.opener=i[x](D);return{sourceName:D}}},teardownTransport:function(D){if(D.amChild){if(i.opener&&"CreateChannel" in i.opener){i.opener.CreateChannel(null)}}else{delete z[D.sourceName];delete y[D.sourceName]}},send:function(E,F){if(E.amChild){if(i.opener&&"SendMessage" in i.opener){i.opener.SendMessage(F)}}else{var D=y[E.sourceName];if(D){D(F)}}}}}function c(){var v=Math.floor(Math.random()*new Date().getTime())%(1031<<20),w=k(i.location.href);function x(){return j.debug>=3}function y(C,D,A){j.flash=j.flash||{};var G=(j.flash[C]=j.flash[C]||{}),J="$BV.Internal.require('rpcSupport').flash['"+C+"']",B=C+"_LOCATION",z;if(G.transport){return G.transport}G.readyLatch=$BV.Internal.newLatch(2);G.channel={};function E(){z=b.createSWF({id:C,data:D,width:1,height:1,style:"position:absolute;left:0px;top:0px"},{wmode:"transparent",allowScriptAccess:"always",flashvars:"origin="+encodeURIComponent(w)+"&onready="+encodeURIComponent(J+".readyLatch.release")+(x()?"&log="+encodeURIComponent("$BV.log"):"")},B,true);G.readyLatch.release()}A('<span id="'+B+'" style="display:none"></span>',E)===false||E();if(x()){$BV.log(w+": waiting for SWF ready: "+D);G.readyLatch.queue(function(){$BV.log(w+": SWF ready: "+D)})}function K(L,N,M,O,P){G.channel[L]=G.channel[L]||{};G.channel[L].onMessage=P;z.createSingleDomainChannel(L,N,M,O,J+".channel['"+L+"'].onMessage")}function H(L,N,M,O){G.channel[L]=G.channel[L]||{};G.channel[L].checkOrigin=N;G.channel[L].onMessage=O;z.createMultiDomainChannel(L,J+".channel['"+L+"'].checkOrigin",M,J+".channel['"+L+"'].onMessage")}function I(L,M){var N=encodeURIComponent(M);if(x()){$BV.log(w+": "+(z.postMessage?"posting message of length "+N.length:"cannot post message"))}z.postMessage&&z.postMessage(L,N)}function F(L){if(x()){$BV.log(w+": "+(z.destroyChannel?"destroying channel":"cannot destroy channel"))}delete G.channel[L];z.destroyChannel&&z.destroyChannel(L);b.removeSWF&&b.removeSWF(C)}return G.transport={createSingleDomainChannel:function(){var L=arguments;G.readyLatch.queue(function(){K.apply(null,L)})},createMultiDomainChannel:function(){var L=arguments;G.readyLatch.queue(function(){H.apply(null,L)})},postMessage:function(){var L=arguments;G.readyLatch.queue(function(){I.apply(null,L)})},destroyChannel:function(){var L=arguments;G.readyLatch.queue(function(){F.apply(null,L)});this.destroyChannel=q.noop}}}return{name:"flash",confidential:true,transportParams:function(D){var A="BVRPC__"+(v++),C=A+"_SWF",E=D+"xdm.swf",z=n.body,B=z&&z.firstChild;if(B){y(C,E,function(F){q(F).prependTo("body")})}return{origin:w,swf:E,channel:A}},setupTransport:function(A,F,E,G){var H=G.channel,C=H+"_SWF",D=G.swf,I=k(D),z=A===i.parent||A===i.opener;if(I!==w&&!E(I)){$BV.log("Invalid SWF origin: "+D);return{}}function J(K){return F(decodeURIComponent(K))}var B=y(C,D,function(L,K){if(z){q(function(){q(L).appendTo("body");
K()});return false}else{var M=q("iframe").filter(function(){return A===this.contentWindow});if(M.length){q(L).insertBefore(M)}else{q(L).appendTo("body")}}});if(z){if(!E(G.origin)){$BV.log("Invalid message target origin: "+G.origin);return{}}B.createSingleDomainChannel(H,G.origin,I,false,J)}else{B.createMultiDomainChannel(H,E,true,J)}return{teardown:function(){B.destroyChannel(H)},send:function(K){B.postMessage(H,K)}}},teardownTransport:function(z){z.teardown&&z.teardown()},send:function(z,A){z.send&&z.send(A)}}}function g(){return{name:"notransport",confidential:true,transportParams:function(){return{}},setupTransport:q.noop,teardownTransport:q.noop,send:q.noop}}q.extend(j,((typeof i.postMessage!=="undefined")?h:b.hasFlashPlayerVersion("8.0.0")?c:i.ActiveXObject?m:g)())});
$BV.Internal.define("crossDomain",[window,document],["exports","jquery.core","rpcSupport","parseUri","cookies","requester","json2"],function(j,p,s,t,k,u,q,a,e){var h,r=/^[^?#]+\/bazaarvoice\w*\.css$/,c=/^[^?#]+\/submit(feedbackvote|positive|negative|undohelpfulness|inappropriate|bestanswer|ratingfeedback|customerpropertyoverride|socialconnectuserdata)\.(js|djs)(\?|$)/,o=/^(user|userdisplayname|useruuid)$/,v="goto",d="hint";function w(C,B,z,D,A){if(typeof z==="function"){A=D;D=z;z=null}return{action:C,rpcArguments:B,hashData:z,callback:D,delayedResponse:A}}function i(B,A,z){B.location=A+"#"+(z?encodeURIComponent(z):"")}function n(A){if(j.location.hash){var z=j.location.hash.substring(1);return A?z:decodeURIComponent(z)}}function y(){j.location.hash="#%20";return j.location.hash==="# "}function x(G,A,F){var D=$BV.Internal.newLatch(1),z;function B(I){var N=k.asOrigin(G),J=k.newCxnParams(N+A),M=k.name==="flash"?'<iframe src="'+G+"#"+J+'" style="visibility:visible;width:1px;height:1px;position:absolute;left:0px;top:0px;" allowTransparency="true"></iframe>':'<iframe src="'+G+"#"+J+'" style="visibility:hidden;width:1px;height:1px;position:absolute;left:-999px;top:-999px;"></iframe>',H=I(M).contentWindow,K=k.connect(H,function(O){return O===N},J);var L=false;K.listen("ready",function(){E(K,H);if(!L){L=true;F.apply(null,[H].concat([].slice.call(arguments,0)))}});if(k.name==="nix"){j.setTimeout(function(){E(null,H);if(!L){L=true;F.apply(null,[H])}},1000)}}(function C(){var H=p.body;if(H&&H.firstChild){B(function(I){return t(I).prependTo(H)[0]})}else{setTimeout(C,1)}})();function E(J,I){var H=new Date().getTime()%(1009<<20);z=function(L){if(!J){if(L.callback){L.callback()}return}if(L.hashData){i(I,G,L.hashData);D.increment()}if(L.callback&&L.delayedResponse){var N="response:"+H++;J.listen(N,function(){L.callback.apply(null,arguments)},true);L.rpcArguments.push(N)}var K=[L.action].concat(L.rpcArguments);if(L.hashData||(L.callback&&!L.delayedResponse)){K.push(function M(){if(L.hashData){D.release()}if(L.callback&&!L.delayedResponse){L.callback.apply(null,arguments)}})}J.call.apply(J,K)};D.release()}return{queueAction:function(H){D.queue(function(){z(H)})}}}var b={};s.ensureFrame=function(E,z){var A=u(E),C=A.authority,B=b[C];z=z||"/";if(!B){B=b[C]={latch:$BV.Internal.newLatch(1)};var D=x(E,z,function(G,H,F){B.getFrameIndex=function(){for(var I=0;I<j.frames.length;I++){if(j.frames[I]===G){return I}}};B.gotoCookie=H;B.clearGotoCookie=function(){if(B.gotoCookie){B.gotoCookie=null;D.queueAction(w("removeCookie",[v,z,C]))}};B.bucketingCookie=F;B.latch.release()});q.registerCrossDomainProxy({targetDomain:C,parse:function(F){D.queueAction(w("parseCookies",[],F))},set:function(G,I,J,H,F,K){if(G===d){B.bucketingCookie=I}D.queueAction(w("setCookie",[G,I,J,H,F],K))},remove:function(F,H,G,I){if(F===d){B.bucketingCookie=null}D.queueAction(w("removeCookie",[F,H,G],I))}});a.registerCrossDomainProxy({targetDomain:C,download:function(F,G){D.queueAction(w("download",[F],G,true))},post:function(F,H,I){var G;if(!k.confidential){G=t.param(m(F.queryKey,o));if(H){G+="#"+t.param(m(H,o))}}D.queueAction(w("ajaxPost",[F.rebuild(),H],G,I,true))}});B.escrow=function(F,G){if(!k.confidential){D.queueAction(w("escrow",[],e.stringify(F),G))}else{D.queueAction(w("escrow",[F],G))}}}return{await:function(F){B.latch.queue(F)},awaitCookies:function(G,F){B.latch.queue(function(){var I=B.gotoCookie;var H=B.bucketingCookie;if(I&&!a.isUrlAllowed(I,G.allowedDomains)){$BV.log("Bazaarvoice: Url hostname is not allowed: "+I);I=null}F(I,B.clearGotoCookie,q.parseFromDomainAsync(C,z),H)})},awaitAction:function(F){B.latch.queue(function(){F(function(H,G){D.queueAction(w(H,G))})})},depositEscrow:function(F,G){B.escrow(F,function(H){G(H,B.getFrameIndex())})}}};function m(z,B){var C=[];for(var A=0;A<z.length;A++){var D=z[A];if(B.test(D.name)){C.push({name:D.name,value:D.value});D.value=""}}return C}function f(z,B){if(B.length>0){for(var A=0;A<z.length;A++){var C=z[A];if(C.name===B[0].name){C.value=B[0].value;
B.shift();if(B.length===0){return}}}}}function g(z){if(!z){return[]}return t(z.split("&")).map(function(A,C){if(C){var B=C.indexOf("=");if(B>0){return{name:decodeURIComponent(C.substring(0,B)),value:decodeURIComponent(C.substring(B+1))}}}}).get()}var l={};s.releaseEscrow=function(A){var z=l[A];delete l[A];return z};s.initialize=function(F,K,z,I){var C=/#([^#]*)$/.exec(j.location.href),E=C&&C[1],J=function(){return true};if(F){var G=new RegExp(F);J=function(N){return G.test(N.replace(/^https?\:\/\//,""))}}var H=k.confidential||y(),B=new Date().getTime()%(1021<<20),M=k.connect(j.parent,J,E),A=function(O,Q,R,P,N){q.detectCookieModificationSupport(P,K);q.setCookieFunction(O,Q,R,P,N)},D=function(N,P,O){q.detectCookieModificationSupport(O,K);q.removeCookieFunction(N,P,O)};h=q.getLegalCookieRegEx(z);M.listen("parseCookies",function(){var P=q.parse(p.cookie),N={};for(var O in P){if(h.test(O)){N[O]=P[O]}}return N});M.listen("setCookie",function(O,Q,R,P,N){if(h.test(O)){A(O,Q,R,P,N)}});M.listen("removeCookie",function(N,P,O){if(h.test(N)||N===v){D(N,P,O)}});M.listen("download",function(N,O){if(r.test(N)){a.download(N,function(){M.call(O)})}});M.listen("ajaxPost",function(Q,T,R){if(c.test(Q)){if(!k.confidential){var P=n(H).split("#"),S=g(P[0]||""),N=g(P[1]||"");if(S.length){var O=u(Q);f(O.queryKey,S);Q=O.rebuild()}if(T&&N.length){f(T,N)}}a.post(Q,T,function(U){M.call(R,U)})}});M.listen("escrow",function(N){if(!k.confidential){N=e.parse(n(H))}var O=B++;l[O]=N;return O});var L={rpcConnection:M,onReady:function(){M.call("ready",q.get(v),q.get(d))}};if(!I){L.onReady()}return L}});
$BV.Internal.define("dropdown",[window,document],["exports","jquery.core"],function(c,b,a,d){c.BvDropdown=function(g,e,m,i,l,f,n,p,h,k){this._containerDiv=b.getElementById(g);this._selectedDiv=b.getElementById(e);this._buttonDiv=b.getElementById(m);this._itemsDiv=b.getElementById(i);this._attachToDropdown=h;this._iframeId="BVDropdownIEControlsFrameID";if(!this._containerDiv||!this._selectedDiv||!this._itemsDiv||this._itemsDiv.getElementsByTagName("*").length==0){this.valid=false;return}var o=new Image();o.src=f;this._timerOn=false;this._timerID=null;this._timerDelay=300;var j=this;this._selectedDiv.onclick=function(){j.toggleItemList()};this._containerDiv.onmouseout=function(){j.startTimer()};this._containerDiv.onmouseover=function(){j.stopTimer()};if(this._buttonDiv){this._selectedDiv.onmouseover=function(){j.setButtonBkg(f)};this._selectedDiv.onmouseout=function(){j.setButtonBkg(l)}}this.valid=true;if(n!=undefined&&p!=undefined){d("#"+i+" ."+n).each(function(q){d(this).bind("click",function(){j.setSelectedItem(this.id,p)});if(q==0&&!k){j.setSelectedItem(this.id,p)}})}};BvDropdown.prototype.setButtonBkg=function(e){this._buttonDiv.style.backgroundImage="url("+e+")"};BvDropdown.prototype.toggleItemList=function(){if(this._itemsDiv.style.display=="block"){this.hideItemList()}else{this.showItemList()}};BvDropdown.prototype.showItemList=function(){if(this._attachToDropdown=="true"){var f=d(this._containerDiv).offset();var e=d(this._containerDiv).height();d(this._itemsDiv).css({position:"absolute",left:f.left+"px",top:f.top+e+"px"})}bvExpandDivWithIEControlsFrame(this._itemsDiv.id,this._iframeId)};BvDropdown.prototype.setSelectedItem=function(f,e){this.hideItemList();if(f==null||f==""){d("#"+e).html("")}else{d("#"+e).html(d("#"+f).text())}};BvDropdown.prototype.hideItemList=function(){this._itemsDiv.style.display="none";iframe=b.getElementById(this._iframeId);if(iframe){iframe.style.display="none"}this.stopTimer()};BvDropdown.prototype.startTimer=function(){if(!this._timerOn){var e=this;this._timerID=setTimeout(function(){e.hideItemList()},this._timerDelay);this._timerOn=true}};BvDropdown.prototype.stopTimer=function(){if(this._timerOn){clearTimeout(this._timerID);this._timerID=null;this._timerOn=false}};BvDropdown.prototype.getLinks=function(){return this.valid?this._itemsDiv.getElementsByTagName("a"):[]};BvDropdown.prototype.hideIfNotValid=function(e){if(!this.valid){if(!this._containerDiv.className){this._containerDiv.className=e}else{if((" "+this._containerDiv.className+" ").indexOf(" "+e+" ")<0){this._containerDiv.className+=" "+e}}}};c.bvAddAdditionalHandlersToDropdown=function(e){var f=b.getElementById(e);if(f==null||typeof f.oldValue!=="undefined"){return}f.oldValue=f.value;if(!f.onchange||!(b.all&&(navigator.userAgent.indexOf("MSIE")>-1))){return}f.onfocusouthandler=f.onfocusout;f.onkeydownhandler=f.onkeydown;f.onchangehandler=f.onchange;f.onfocusout=function(){if(f.onfocusouthandler){f.onfocusouthandler()}if(f.oldValue!=f.value){f.onchangehandler()}};f.onkeydown=function(){if(f.onkeydownhandler){f.onkeydownhandler()}f.eventKeyCode=event.keyCode;var g=13;if(f.eventKeyCode==g&&f.oldValue!=f.value){f.onchangehandler()}};f.onchange=function(){var h=38;var g=40;if(f.eventKeyCode==h||f.eventKeyCode==g){f.eventKeyCode=0}else{f.onchangehandler()}}};c.bvAddAdditionalHandlersToNamedDropdowns=function(e){var g=b.getElementsByName(e);for(var f=0;f<g.length;f++){bvAddAdditionalHandlersToDropdown(g[f].id)}};a.onPageLoad=function(f,e){if(f==="dropdown"){(new BvDropdown(e.dropdownId,e.selectId,e.buttonId,e.itemsId,e.buttonNormal,e.buttonHover,e.itemClass,e.selectedItemTextPlaceholderID,e.attachToDropdown)).hideIfNotValid(e.hiddenClass)}else{if(f==="addSelectHandlers"){if(e.dropdownId){bvAddAdditionalHandlersToDropdown(e.dropdownId)}if(e.dropdownsName){bvAddAdditionalHandlersToNamedDropdowns(e.dropdownsName)}}}}});
$BV.Internal.define("contentDispatcher",[window],["exports","jquery.core"],function(b,d,e){var a={},c={};d.registerApplication=function(f,g){c[g]=f;e.each(f,function(h,j){a[j]=g})};d.findLatestAppConfigKey=function(f){return a[f]};$BV.Internal.Dispatcher=d});
$BV.Internal.define("underscore",[],[],function(){
/*
 *     Underscore.js 1.1.7
 *     (c) 2011 Jeremy Ashkenas, DocumentCloud Inc.
 *     Underscore is freely distributable under the MIT license.
 *     Portions of Underscore are inspired or borrowed from Prototype,
 *     Oliver Steele's Functional, and John Resig's Micro-Templating.
 *     For all details and documentation:
 *     http://documentcloud.github.com/underscore
 */
var u=this;var r=u._;var b={};var i=Array.prototype,B=Object.prototype,D=Function.prototype;var s=i.slice,w=i.unshift,v=B.toString,o=B.hasOwnProperty;var m=i.forEach,h=i.map,z=i.reduce,e=i.reduceRight,l=i.filter,a=i.every,y=i.some,t=i.indexOf,f=i.lastIndexOf,c=Array.isArray,A=Object.keys,j=D.bind;var C=function(E){return new g(E)};if(typeof module!=="undefined"&&module.exports){module.exports=C;C._=C}else{u._=C}C.VERSION="1.1.7";var d=C.each=C.forEach=function(J,I,H){if(J==null){return}if(m&&J.forEach===m){J.forEach(I,H)}else{if(J.length===+J.length){for(var G=0,E=J.length;G<E;G++){if(G in J&&I.call(H,J[G],G,J)===b){return}}}else{for(var F in J){if(o.call(J,F)){if(I.call(H,J[F],F,J)===b){return}}}}}};C.map=function(H,G,F){var E=[];if(H==null){return E}if(h&&H.map===h){return H.map(G,F)}d(H,function(K,I,J){E[E.length]=G.call(F,K,I,J)});return E};C.reduce=C.foldl=C.inject=function(I,H,E,G){var F=E!==void 0;if(I==null){I=[]}if(z&&I.reduce===z){if(G){H=C.bind(H,G)}return F?I.reduce(H,E):I.reduce(H)}d(I,function(L,J,K){if(!F){E=L;F=true}else{E=H.call(G,E,L,J,K)}});if(!F){throw new TypeError("Reduce of empty array with no initial value")}return E};C.reduceRight=C.foldr=function(H,G,E,F){if(H==null){H=[]}if(e&&H.reduceRight===e){if(F){G=C.bind(G,F)}return E!==void 0?H.reduceRight(G,E):H.reduceRight(G)}var I=(C.isArray(H)?H.slice():C.toArray(H)).reverse();return C.reduce(I,G,E,F)};C.find=C.detect=function(H,G,F){var E;p(H,function(K,I,J){if(G.call(F,K,I,J)){E=K;return true}});return E};C.filter=C.select=function(H,G,F){var E=[];if(H==null){return E}if(l&&H.filter===l){return H.filter(G,F)}d(H,function(K,I,J){if(G.call(F,K,I,J)){E[E.length]=K}});return E};C.reject=function(H,G,F){var E=[];if(H==null){return E}d(H,function(K,I,J){if(!G.call(F,K,I,J)){E[E.length]=K}});return E};C.every=C.all=function(H,G,F){var E=true;if(H==null){return E}if(a&&H.every===a){return H.every(G,F)}d(H,function(K,I,J){if(!(E=E&&G.call(F,K,I,J))){return b}});return E};var p=C.some=C.any=function(H,G,F){G=G||C.identity;var E=false;if(H==null){return E}if(y&&H.some===y){return H.some(G,F)}d(H,function(K,I,J){if(E|=G.call(F,K,I,J)){return b}});return !!E};C.include=C.contains=function(G,F){var E=false;if(G==null){return E}if(t&&G.indexOf===t){return G.indexOf(F)!=-1}p(G,function(H){if(E=H===F){return true}});return E};C.invoke=function(F,G){var E=s.call(arguments,2);return C.map(F,function(H){return(G.call?G||H:H[G]).apply(H,E)})};C.pluck=function(F,E){return C.map(F,function(G){return G[E]})};C.max=function(H,G,F){if(!G&&C.isArray(H)){return Math.max.apply(Math,H)}var E={computed:-Infinity};d(H,function(L,I,K){var J=G?G.call(F,L,I,K):L;J>=E.computed&&(E={value:L,computed:J})});return E.value};C.min=function(H,G,F){if(!G&&C.isArray(H)){return Math.min.apply(Math,H)}var E={computed:Infinity};d(H,function(L,I,K){var J=G?G.call(F,L,I,K):L;J<E.computed&&(E={value:L,computed:J})});return E.value};C.sortBy=function(G,F,E){return C.pluck(C.map(G,function(J,H,I){return{value:J,criteria:F.call(E,J,H,I)}}).sort(function(K,J){var I=K.criteria,H=J.criteria;return I<H?-1:I>H?1:0}),"value")};C.groupBy=function(G,F){var E={};d(G,function(J,H){var I=F(J,H);(E[I]||(E[I]=[])).push(J)});return E};C.sortedIndex=function(J,I,G){G||(G=C.identity);var E=0,H=J.length;while(E<H){var F=(E+H)>>1;G(J[F])<G(I)?E=F+1:H=F}return E};C.toArray=function(E){if(!E){return[]}if(E.toArray){return E.toArray()}if(C.isArray(E)){return s.call(E)}if(C.isArguments(E)){return s.call(E)}return C.values(E)};C.size=function(E){return C.toArray(E).length};C.first=C.head=function(G,F,E){return(F!=null)&&!E?s.call(G,0,F):G[0]
};C.rest=C.tail=function(G,E,F){return s.call(G,(E==null)||F?1:E)};C.last=function(E){return E[E.length-1]};C.compact=function(E){return C.filter(E,function(F){return !!F})};C.flatten=function(E){return C.reduce(E,function(F,G){if(C.isArray(G)){return F.concat(C.flatten(G))}F[F.length]=G;return F},[])};C.without=function(E){return C.difference(E,s.call(arguments,1))};C.uniq=C.unique=function(F,E){return C.reduce(F,function(G,I,H){if(0==H||(E===true?C.last(G)!=I:!C.include(G,I))){G[G.length]=I}return G},[])};C.union=function(){return C.uniq(C.flatten(arguments))};C.intersection=C.intersect=function(F){var E=s.call(arguments,1);return C.filter(C.uniq(F),function(G){return C.every(E,function(H){return C.indexOf(H,G)>=0})})};C.difference=function(F,E){return C.filter(F,function(G){return !C.include(E,G)})};C.zip=function(){var E=s.call(arguments);var H=C.max(C.pluck(E,"length"));var G=new Array(H);for(var F=0;F<H;F++){G[F]=C.pluck(E,""+F)}return G};C.indexOf=function(I,G,H){if(I==null){return -1}var F,E;if(H){F=C.sortedIndex(I,G);return I[F]===G?F:-1}if(t&&I.indexOf===t){return I.indexOf(G)}for(F=0,E=I.length;F<E;F++){if(I[F]===G){return F}}return -1};C.lastIndexOf=function(G,F){if(G==null){return -1}if(f&&G.lastIndexOf===f){return G.lastIndexOf(F)}var E=G.length;while(E--){if(G[E]===F){return E}}return -1};C.range=function(J,H,I){if(arguments.length<=1){H=J||0;J=0}I=arguments[2]||1;var F=Math.max(Math.ceil((H-J)/I),0);var E=0;var G=new Array(F);while(E<F){G[E++]=J;J+=I}return G};C.bind=function(F,G){if(F.bind===j&&j){return j.apply(F,s.call(arguments,1))}var E=s.call(arguments,2);return function(){return F.apply(G,E.concat(s.call(arguments)))}};C.bindAll=function(F){var E=s.call(arguments,1);if(E.length==0){E=C.functions(F)}d(E,function(G){F[G]=C.bind(F[G],F)});return F};C.memoize=function(G,F){var E={};F||(F=C.identity);return function(){var H=F.apply(this,arguments);return o.call(E,H)?E[H]:(E[H]=G.apply(this,arguments))}};C.delay=function(F,G){var E=s.call(arguments,2);return setTimeout(function(){return F.apply(F,E)},G)};C.defer=function(E){return C.delay.apply(C,[E,1].concat(s.call(arguments,1)))};var x=function(F,H,E){var G;return function(){var J=this,I=arguments;var K=function(){G=null;F.apply(J,I)};if(E){clearTimeout(G)}if(E||!G){G=setTimeout(K,H)}}};C.throttle=function(E,F){return x(E,F,false)};C.debounce=function(E,F){return x(E,F,true)};C.once=function(G){var E=false,F;return function(){if(E){return F}E=true;return F=G.apply(this,arguments)}};C.wrap=function(E,F){return function(){var G=[E].concat(s.call(arguments));return F.apply(this,G)}};C.compose=function(){var E=s.call(arguments);return function(){var F=s.call(arguments);for(var G=E.length-1;G>=0;G--){F=[E[G].apply(this,F)]}return F[0]}};C.after=function(F,E){return function(){if(--F<1){return E.apply(this,arguments)}}};C.keys=A||function(G){if(G!==Object(G)){throw new TypeError("Invalid object")}var F=[];for(var E in G){if(o.call(G,E)){F[F.length]=E}}return F};C.values=function(E){return C.map(E,C.identity)};C.functions=C.methods=function(G){var F=[];for(var E in G){if(C.isFunction(G[E])){F.push(E)}}return F.sort()};C.extend=function(E){d(s.call(arguments,1),function(F){for(var G in F){if(F[G]!==void 0){E[G]=F[G]}}});return E};C.defaults=function(E){d(s.call(arguments,1),function(F){for(var G in F){if(E[G]==null){E[G]=F[G]}}});return E};C.clone=function(E){return C.isArray(E)?E.slice():C.extend({},E)};C.tap=function(F,E){E(F);return F};C.isEqual=function(F,E){if(F===E){return true}var I=typeof(F),K=typeof(E);if(I!=K){return false}if(F==E){return true}if((!F&&E)||(F&&!E)){return false}if(F._chain){F=F._wrapped}if(E._chain){E=E._wrapped}if(F.isEqual){return F.isEqual(E)}if(E.isEqual){return E.isEqual(F)}if(C.isDate(F)&&C.isDate(E)){return F.getTime()===E.getTime()}if(C.isNaN(F)&&C.isNaN(E)){return false}if(C.isRegExp(F)&&C.isRegExp(E)){return F.source===E.source&&F.global===E.global&&F.ignoreCase===E.ignoreCase&&F.multiline===E.multiline}if(I!=="object"){return false
}if(F.length&&(F.length!==E.length)){return false}var G=C.keys(F),J=C.keys(E);if(G.length!=J.length){return false}for(var H in F){if(!(H in E)||!C.isEqual(F[H],E[H])){return false}}return true};C.isEmpty=function(F){if(C.isArray(F)||C.isString(F)){return F.length===0}for(var E in F){if(o.call(F,E)){return false}}return true};C.isElement=function(E){return !!(E&&E.nodeType==1)};C.isArray=c||function(E){return v.call(E)==="[object Array]"};C.isObject=function(E){return E===Object(E)};C.isArguments=function(E){return !!(E&&o.call(E,"callee"))};C.isFunction=function(E){return !!(E&&E.constructor&&E.call&&E.apply)};C.isString=function(E){return !!(E===""||(E&&E.charCodeAt&&E.substr))};C.isNumber=function(E){return !!(E===0||(E&&E.toExponential&&E.toFixed))};C.isNaN=function(E){return E!==E};C.isBoolean=function(E){return E===true||E===false};C.isDate=function(E){return !!(E&&E.getTimezoneOffset&&E.setUTCFullYear)};C.isRegExp=function(E){return !!(E&&E.test&&E.exec&&(E.ignoreCase||E.ignoreCase===false))};C.isNull=function(E){return E===null};C.isUndefined=function(E){return E===void 0};C.noConflict=function(){u._=r;return this};C.identity=function(E){return E};C.times=function(H,G,F){for(var E=0;E<H;E++){G.call(F,E)}};C.mixin=function(E){d(C.functions(E),function(F){q(F,C[F]=E[F])})};var k=0;C.uniqueId=function(E){var F=k++;return E?E+F:F};C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};C.template=function(H,G){var I=C.templateSettings;var E="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+H.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(I.interpolate,function(J,K){return"',"+K.replace(/\\'/g,"'")+",'"}).replace(I.evaluate||null,function(J,K){return"');"+K.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var F=new Function("obj",E);return G?F(G):F};var g=function(E){this._wrapped=E};C.prototype=g.prototype;var n=function(F,E){return E?C(F).chain():F};var q=function(E,F){g.prototype[E]=function(){var G=s.call(arguments);w.call(G,this._wrapped);return n(F.apply(C,G),this._chain)}};C.mixin(C);d(["pop","push","reverse","shift","sort","splice","unshift"],function(E){var F=i[E];g.prototype[E]=function(){F.apply(this._wrapped,arguments);return n(this._wrapped,this._chain)}});d(["concat","join","slice"],function(E){var F=i[E];g.prototype[E]=function(){return n(F.apply(this._wrapped,arguments),this._chain)}});g.prototype.chain=function(){this._chain=true;return this};g.prototype.value=function(){return this._wrapped};return C.noConflict()});
$BV.Internal.define("userTiming",[window],["underscore"],function(g,k){var l=g.performance||{};var e,d;$BV.performance=$BV.performance||{};var n=$BV.performance._timeline||[];var m=false;function f(i){n.push(i);if(i.entryType==="measure"){m=true}}function c(){if(!m){return}n.sort(function(j,i){return j.startTime-i.startTime});m=false}function b(p,j){var o=0;while(o<n.length){if(n[o].entryType!==p){o++;continue}if(j!==void undefined&&n[o].name!==j){o++;continue}n.splice(o,1)}}if(!k.isFunction(l.getEntries)){$BV.performance.getEntries=function(){c();return n.slice(0)}}else{$BV.performance.getEntries=k.bind(l.getEntries,l)}if(!k.isFunction(l.getEntriesByType)){$BV.performance.getEntriesByType=function(p){if(p!=="mark"&&p!=="measure"){return[]}if(p==="measure"){c()}var j=[];for(var o=0;o<n.length;o++){if(n[o].entryType===p){j.push(n[o])}}return j}}else{$BV.performance.getEntriesByType=k.bind(l.getEntriesByType,l)}if(!k.isFunction(l.getEntriesByName)){$BV.performance.getEntriesByName=function(o,q){if(q&&q!=="mark"&&q!=="measure"){return[]}if(q!=="mark"){c()}var j=[];for(var p=0;p<n.length;p++){if(q!==void undefined&&n[p].entryType!==q){continue}if(n[p].name===o){j.push(n[p])}}return j}}else{$BV.performance.getEntriesByName=k.bind(l.getEntriesByName,l)}var a={navigationStart:1,unloadEventStart:1,unloadEventEnd:1,redirectStart:1,redirectEnd:1,fetchStart:1,domainLookupStart:1,domainLookupEnd:1,connectStart:1,connectEnd:1,secureConnectionStart:1,requestStart:1,responseStart:1,responseEnd:1,domLoading:1,domInteractive:1,domContentLoadedEventStart:1,domContentLoadedEventEnd:1,domComplete:1,loadEventStart:1,loadEventEnd:1};var h=$BV.performance._marks||{};if(!k.isFunction(l.mark)){$BV.performance.mark=function(j){var i=$BV.performance.now();if(j===void undefined){throw new SyntaxError("Mark name must be specified")}if(j in a){throw new SyntaxError('Mark name "'+j+'" is not allowed')}if(!h[j]){h[j]=[]}h[j].push(i);f({entryType:"mark",name:j,startTime:i,duration:0})}}else{$BV.performance.mark=k.bind(l.mark,l)}if(!k.isFunction(l.clearMarks)){$BV.performance.clearMarks=function(i){if(!i){h={}}else{h[i]=[]}b("mark",i)}}else{$BV.performance.clearMarks=k.bind(l.clearMarks,l)}if(!k.isFunction(l.measure)){$BV.performance.measure=function(r,s,o){var i=$BV.performance.now();if(!r){throw new Error("Measure must be specified")}if(!s){f({entryType:"measure",name:r,startTime:0,duration:i});return}var j=0;var q=l.timing||{};if(s in q||s in a){if(s!=="navigationStart"&&q[s]===0){$BV.log(s+" has a timing of 0");return}if(s in q){j=q[s]-q.navigationStart}else{j=0}}else{if(s in h){j=h[s][h[s].length-1]}else{$BV.log(s+" mark not found");return}}var p=i;if(o){p=0;if(o in q||o in a){if(o!=="navigationStart"&&q[o]===0){$BV.log(o+" has a timing of 0");return}if(o in q){p=q[o]-q.navigationStart}else{p=j}}else{if(o in h){p=h[o][h[o].length-1]}else{$BV.log(o+" mark not found");return}}}var t=p-j;f({entryType:"measure",name:r,startTime:j,duration:t})}}else{$BV.performance.measure=k.bind(l.measure,l)}if(!k.isFunction(l.clearMeasures)){$BV.performance.clearMeasures=function(i){b("measure",i)}}else{$BV.performance.clearMeasures=k.bind(l.clearMeasures,l)}});
$BV.Internal.define("injection",[window],["exports","jquery.core","requester","cookies","crossDomain","analyticsHooks","contentDispatcher","userTiming"],function(window,Injection,$bv,Requester,Cookies,CrossDomain,AnalyticsHooks,ContentDispatcher){var _trackerImages=[],_widgetInjectionTargets={},shouldSetWindowTitle,_sviRedirectPerformed,_stateRedirectPerformed;$bv.extend(Injection,{newInstance:function(){return $bv.extend(true,{},this)},_apiConfig:null,_targetWindow:null,_productId:null,_replacementsPrefix:"BV",_cookiesAsync:null,_divOverrides:{},_soiRedirectChecked:false,_siwInitialized:false,apiConfig:function(apiConfig){if(apiConfig){this._apiConfig=apiConfig}return this._apiConfig},targetWindow:function(window){if(window){this._targetWindow=window}return this._targetWindow},productId:function(productId){if(productId){this._productId=productId}return this._productId},replacementsPrefix:function(prefix){if(prefix){this._replacementsPrefix=prefix}return this._replacementsPrefix},cookiesAsync:function(cookiesAsync){if(cookiesAsync){this._cookiesAsync=cookiesAsync}return this._cookiesAsync},divOverrides:function(targetId,target){if(target){this._divOverrides[targetId]=target}return this._divOverrides[targetId]},useRPCInjectedSubmission:function(){return false},getComponent:function(name){throw"implementation required : getComponent"},getReplacements:function(replacementsConfig,apiConfig){throw"implementation required : getReplacements"},apiInjection:function(data){var crossDomainFrame=CrossDomain.ensureFrame(data.crossDomainUrl,data.cookiePath),self=this;crossDomainFrame.awaitCookies(data.apiConfig,function(gotoCookie,clearGotoCookie,cookiesAsync,bucketingCookie){self.doInjection(data,cookiesAsync,gotoCookie,clearGotoCookie,bucketingCookie)})},apiRPCInjection:function(data){var self=this;self.cookiesAsync(Cookies.parseFromDomainAsync(data.domain,data.cookiePath));self.fixDotNetIntegrations(data);self.doInjection(data)},docDomainInjection:function(data){var iframeWindow=data.embeddedWindow;Cookies.registerDocDomainFrame(iframeWindow);Requester.registerDocDomainFrame(iframeWindow);var cookiesAsync=Cookies.parseFromDomainAsync(iframeWindow.location.host,data.cookiePath);this.doInjection(data,cookiesAsync)},doInjection:function(data,cookiesAsync,gotoCookie,clearGotoCookie,bucketingCookie){var self=this,injectionLatch=$BV.Internal.newLatch(0);self.cookiesAsync(cookiesAsync);self.apiConfig(data.apiConfig);self.replacementsPrefix(data.replacementsPrefix);self.productId(data.productId);self.targetWindow(window);self._widgetLimit=data.widgetLimit;if(self.performGotoRedirect(data.embeddedUrl,gotoCookie,data.gotoCookieRegexp,clearGotoCookie,data.apiConfig)||self.performBVStateRedirect&&self.performBVStateRedirect(data.sviRedirectBaseUrl,data.embeddedUrl,data.bvstateInfo,data.canonicalTags,data.apiConfig)||self.performSviRedirect&&self.performSviRedirect(data.sviParameterName,data.sviRedirectBaseUrl,data.embeddedUrl,data.canonicalTags,data.apiConfig)||self.performSoiRedirect&&self.performSoiRedirect(data.soiContainerID,data.soiContentIDs,data.embeddedUrl,data.apiConfig)||self.performBucketingRedirect&&self.performBucketingRedirect(data.embeddedUrl,bucketingCookie,data.apiConfig)){return}self.prepareSourceMaterials(data.widgetMaterials,data);if(data.apiConfig&&data.apiConfig.injectionLatch){injectionLatch.increment();data.apiConfig.injectionLatch.queue(injectionLatch.release)}if(data.containerInitializer){injectionLatch.increment();self.downloadContainerInitializer(data.containerInitializer,injectionLatch.release);injectionLatch.increment();$bv(injectionLatch.release)}else{if(data.apiConfig){injectionLatch.increment();self.waitForContainers(data.widgetMetadata,data.widgetMaterials,injectionLatch.release)}}injectionLatch.queue(function(){if(window.bvClosePopups){bvClosePopups()}if(data.containerInitializer){self.runContainerInitializer(data.containerInitializer)}var targetContainers=self.injectAll(data.widgetMetadata,data.widgetMaterials,data.widgetInitializers);
if(typeof data.onReady=="function"){data.onReady()}if(data.windowTitle&&(data.setWindowTitle||Injection.shouldSetWindowTitle)&&(!data.apiConfig||data.apiConfig.canSetPageTitle)){document.title=data.windowTitle;Injection.shouldSetWindowTitle=true}if(!data.requiredModules){postInjection()}else{$BV.Internal.require(data.requiredModules,postInjection)}function postInjection(){if(typeof data.postInjectionFunction=="function"){data.postInjectionFunction(self)}else{eval("("+data.postInjectionFunction+")(self)")}data.postInjectionFunction=null;self.runGlobalInitializers(data.globalInitializers);self.onContentLoaded(data.pageIdPrefix);self.initWebAnalytics(targetContainers,data.webAnalyticsConfig,self._productId);self.registerForContentDispatch(data.apiConfig,data.widgetMetadata);self.fetchTrackers(data.pageTrackers)}})},initEmbeddedFrame:function(data){this.cookiesAsync(Cookies.parseFromDomainAsync(window.location.host,data.cookiePath));this.targetWindow(window);var $target=$bv("#"+data.widgetId);this.runInitializers(data.widgetInitializers,$target);data.postInjectionFunction(this);data.postInjectionFunction=null;this.runGlobalInitializers(data.globalInitializers);this.initWebAnalytics($target.get(),data.webAnalyticsConfig,this._productId)},performGotoRedirect:function(src,dest,validPathRegexp,clearRedirect,apiConfig){if(dest&&src!==dest&&validPathRegexp){var srcPath=src.match(validPathRegexp),destPath=dest.match(validPathRegexp);if(srcPath&&destPath&&this.checkRedirectCompatible(srcPath[1],destPath[1])){clearRedirect();var mobile=apiConfig.displayType==="mobile"?"mobile":"";var bulk=apiConfig.displayType==="bulk"?"bulk":"";dest=dest.replace(/^([^?#]*)\.htm(\?(?:[^#]*&)?format=)embedded(?=[&#]|$)/,"$1.djs$2"+mobile+bulk+"embeddedhtml");$BV.Internal.callAjax(dest,apiConfig);return true}}else{if(src===dest&&clearRedirect){clearRedirect()}}},performBucketingRedirect:function(url,bucketId,apiConfig){if(bucketId){var bucketingUrl=url;var hintParam="hint="+bucketId;if(url.indexOf(hintParam)!==-1){return false}if(url.indexOf("hint=")!==-1){bucketingUrl=url.replace(/hint=[^&]*/,hintParam)}else{bucketingUrl=url+(url.indexOf("?")===-1?"?":"&")+hintParam}$BV.Internal.callAjax(bucketingUrl,apiConfig);return true}return false},checkRedirectCompatible:function(srcPath,destPath){if(srcPath&&destPath){var regexp=/\/(\d{4}\w{0,9})(-[a-z][a-z])?(_[a-z][a-z])?\//;var srcPrefix=srcPath.toLowerCase();var destPrefix=destPath.toLowerCase();var newPrefix=srcPrefix.replace(regexp,"$1");if(newPrefix){srcPrefix=newPrefix}newPrefix=destPrefix.replace(regexp,"$1");if(newPrefix){destPrefix=newPrefix}if(srcPrefix===destPrefix){return true}}return false},performSviRedirect:function(sviParameterName,sviRedirectBaseUrl,embeddedUrl,canonicalTags,apiConfig){if(_sviRedirectPerformed||!sviParameterName||!sviRedirectBaseUrl||!this.getSviRedirectUrl){return false}if(/[\?&]keywords=/.exec(embeddedUrl)!=null){return false}_sviRedirectPerformed=true;var sviParam=Requester.getQueryParam(sviParameterName),sviTokens=decodeURIComponent(sviParam||"").replace(/\.htm$/,"").split("/");var sviRedirectUrl=this.getSviRedirectUrl(sviTokens,sviRedirectBaseUrl,!!apiConfig);if(sviRedirectUrl&&sviRedirectUrl!=embeddedUrl){if(canonicalTags){var stateParam=this.getBvStateParamFromSVITokens(sviTokens);if(stateParam){this.updateCanonicalTags(stateParam)}}Requester.get(sviRedirectUrl,this.getComponent(this.replacementsPrefix()+"Frame"),apiConfig);return true}},performBVStateRedirect:function(sviRedirectBaseUrl,embeddedUrl,bvstateInfo,canonicalTags,apiConfig){if(_stateRedirectPerformed||!sviRedirectBaseUrl||!this.getBVStateRedirectUrl){return false}if(/[\?&]keywords=/.exec(embeddedUrl)!=null){return false}_stateRedirectPerformed=true;var stateParam=Requester.getQueryParam("bvstate")||Requester.getQueryParam("_escaped_fragment_");if(!stateParam&&location.href.indexOf("#!bvstate")>0){stateParam=location.hash.substring(10)}var stateTokens=decodeURIComponent(stateParam||"").split("/");if(stateTokens.length<2){return false
}var stateMap=[];for(var i=0;i<stateTokens.length;++i){var tokenVal=stateTokens[i]?stateTokens[i].split(":"):null;if(tokenVal){stateMap[tokenVal[0]]=tokenVal[1]}}var bvstateRedirectUrl=this.getBVStateRedirectUrl(stateMap,sviRedirectBaseUrl,bvstateInfo,apiConfig);if(bvstateRedirectUrl&&bvstateRedirectUrl!=embeddedUrl){if(canonicalTags){this.updateCanonicalTags("bvstate="+stateParam)}Requester.get(bvstateRedirectUrl,this.getComponent(this.replacementsPrefix()+"Frame"),apiConfig);return true}return false},updateCanonicalTags:function(stateParam){var regex=/bvstate=pg:\d+\/ct:(r|q|s)&?/;var urlParts=window.location.href.split("#");var baseUrl=urlParts[0].replace(regex,"");var endChar=baseUrl.slice(-1);if(endChar!="?"&&endChar!="&"){baseUrl=baseUrl+(baseUrl.indexOf("?")>-1?"&":"?")}var fragment=(urlParts[1]&&urlParts[1].length>0?"#"+urlParts[1]:"");var canonicalTag='<link rel=canonical href="'+baseUrl+stateParam+fragment+'" />';$bv("head > link[rel]").each(function(){if($bv(this).attr("rel")=="canonical"){$bv(this).remove()}});$bv("head").append(canonicalTag)},initWebAnalytics:function(targetContainers,analyticsConfig,productId){if(window[analyticsConfig.customizersName]){try{AnalyticsHooks.onInjectedPageLoad(targetContainers,analyticsConfig.jsonData,analyticsConfig.customizersName,analyticsConfig.customContainersFnName,analyticsConfig.maxTrackingTagTraversalDepth,this.apiConfig(),analyticsConfig.customTrackedObjectsSelector,analyticsConfig.customTrackedObjects,analyticsConfig.SIWZeroDeployEnabled&&!this._siwInitialized,productId,analyticsConfig.conversionTracking);if(analyticsConfig.SIWZeroDeployEnabled){this._siwInitialized=true}}catch(e){$BV.log(e)}}},onContentLoaded:function(prefix){var targetWindow=this.targetWindow();targetWindow[prefix+"isLoaded"]=true;if(this.productId()){if(!targetWindow[prefix+"isLoadedTable"]){targetWindow[prefix+"isLoadedTable"]={}}targetWindow[prefix+"isLoadedTable"]["_"+this.productId()]=true}},fetchTrackers:function(trackers){if(trackers){for(var i=0;i<trackers.length;++i){var img=new Image();img.src=trackers[i]+"?_="+_trackerImages.length;_trackerImages.push(img)}if($BV.performance&&$BV.performance.measure){if($BV.performance.getEntriesByName("bv-render-start")[0]){$BV.performance.measure("bv-render-complete","bv-render-start");var rrCompleteMeasure=$BV.performance.getEntriesByName("bv-render-complete")[0];var event={type:"Performance",name:"Product Page Render Time",productId:this._productId,elapsedMs:rrCompleteMeasure.duration,contentType:this._replacementsPrefix};window._bvaq.push(["trackEvent","Diagnostic",event])}}}},prepareSourceMaterials:function(materials,replacementsConfig){var replacements=this.getReplacements(replacementsConfig,this.apiConfig());for(var key in materials){for(var i=0;i<replacements.length;++i){materials[key]=materials[key].replace(replacements[i].pattern,replacements[i].replacement)}}},waitForContainers:function(widgets,materials,onReady){var timeout,self=this;function checkContainers(){var containersReady=true;$bv.each(widgets,function(name,widget){if(!self.isContainerReady(materials[widget.sourceId],widget.containerId,name)){containersReady=false;return false}});if(containersReady){timeout=null;onReady()}else{timeout=setTimeout(checkContainers,50)}}checkContainers();$bv(function(){if(timeout){clearTimeout(timeout);onReady()}})},isContainerReady:function(material,targetId,widgetName){var container;return !material||(this.setupComponentOverride(widgetName,targetId,true)&&(container=this.getComponent(targetId))&&$bv(container).parents().andSelf().next().length)},injectAll:function(widgets,materials,initializers){var targets=[],self=this;$bv.each(widgets,function(name,widget){self.inject(materials[widget.sourceId],widget.containerId,targets,initializers[widget.sourceId],name)});return targets},inject:function(material,targetId,targets,initializers,widgetName){this.setupComponentOverride(widgetName,targetId);var target=this.getComponent(targetId),targetWindow=this.targetWindow();
if(material&&target&&(this.useRPCInjectedSubmission||!targetWindow.$bv(target).hasClass("BVSubmissionInProgress"))){this.checkWidgetLimit(widgetName,target);targetWindow.$bv.cleanData(target.getElementsByTagName("*"));target.innerHTML=material;if(targets){targets.push(target)}this.runInitializers(initializers,targetWindow.$bv(target))}},runGlobalInitializers:function(initializers){this.runInitializers(initializers,this.targetWindow().$bv("body"))},registerForContentDispatch:function(apiConfig,widgets){$bv.each(widgets,function(i,widget){if(apiConfig&&apiConfig.requestConfigKey&&widget.handledContentTypes){ContentDispatcher.registerApplication(widget.handledContentTypes,apiConfig.requestConfigKey)}})},runInitializers:function(initializers,$target){var targetWindow=this.targetWindow(),cookiesAsync=this.cookiesAsync(),Injection=this;$bv.each(initializers||[],function(i,initializer){targetWindow.$BV.Internal.require([initializer.module],function(module){module.onPageLoad(initializer.init,initializer.data,$target,cookiesAsync,Injection)})})},downloadContainerInitializer:function(initializer,callback){$BV.Internal.require([initializer.module],callback)},runContainerInitializer:function(initializer){$BV.Internal.require(initializer.module).onContainerInit(initializer.init,initializer.data)},setupComponentOverride:function(widgetName,defaultContainerId,beforeDocReady){var apiConfig=this.apiConfig();if(apiConfig){if(this.useRPCInjectedSubmission()){return true}var target=apiConfig[widgetName+"ContainerDiv"];if(typeof target==="function"){if(beforeDocReady){return false}target=target(widgetName,defaultContainerId,apiConfig)}if(typeof target==="string"){target=this.targetWindow().document.getElementById(target);if(beforeDocReady&&!target){return false}}this.divOverrides(defaultContainerId,target)}return true},checkWidgetLimit:function(widgetName,targetDiv){var apiConfig=this.apiConfig(),widgetLimit=this._widgetLimit;if(!apiConfig||widgetLimit<0){return}var widgetKey=apiConfig.scope+"/"+apiConfig.displayCode+"/"+widgetName,distinctDivs=_widgetInjectionTargets[widgetKey]||[];for(var i=0;i<distinctDivs.length;i++){if($bv(distinctDivs[i]).parents("body").length===0){distinctDivs.splice(i--,1)}else{if(distinctDivs[i]===targetDiv){return}}}if(distinctDivs.length>=widgetLimit){throw"Bazaarvoice: too many widgets of type '"+widgetKey+"' on the page"}distinctDivs.push(targetDiv);_widgetInjectionTargets[widgetKey]=distinctDivs},getClientDivData:function(name){var element=this.targetWindow().document.getElementById(this.replacementsPrefix()+name);return element&&bvUnescapeHtml(this.stripHTMLTags(element.innerHTML))},stripHTMLTags:function(value){return value.replace(/<.*?>/g,"")},stripAnchors:function(url){return url.toString().split("#")[0]},performSoiRedirect:function(soiContainerID,primaryContentIDs,embeddedUrl,apiConfig){function contentIdsMatch(primaryContentIDs,soiPrimaryContentIDs){var match=true;$bv(soiPrimaryContentIDs).each(function(i,soiContentID){match=$bv.inArray(soiContentID,primaryContentIDs)>=0;if(!match){return false}});return match}if(!this._soiRedirectChecked&&$bv("#"+soiContainerID).length>0){this._soiRedirectChecked=true;var soiPrimaryContentIDs=$bv("#"+soiContainerID).data("bvcontentids");if(soiPrimaryContentIDs&&(soiPrimaryContentIDs.length>0)&&!contentIdsMatch(primaryContentIDs,soiPrimaryContentIDs)){var soiRedirectUrl=this.getSoiRedirectUrl(soiContainerID,embeddedUrl);if(soiRedirectUrl&&soiRedirectUrl!=embeddedUrl){Requester.get(soiRedirectUrl,this.getComponent(this.replacementsPrefix()+"Frame"),apiConfig);return true}}}return false},getSoiRedirectUrl:function(soiContainerID,embeddedUrl){var soiRelativeURL=$bv("#"+soiContainerID).data("bvsoirelativeurl");if(!soiRelativeURL){return false}var match=/^(http[s]?:\/\/[^\/]+)/i.exec(embeddedUrl);return match&&(match[1]+soiRelativeURL)},fixDotNetIntegrations:function(data){var submissionContainer=data.apiConfig.submissionContainerDiv||"BVSubmissionContainer";if(!data.containerInitializer&&$bv("form #"+submissionContainer)[0]){data.containerInitializer={module:"dotnet",data:{containerId:submissionContainer},init:"moveContainerOutsideForm"};
var overlayConfig={module:"dotnet",init:"overlay",data:{minHeight:0,bottomPadding:50,containerStyles:{"z-index":99},containerId:submissionContainer}};data.globalInitializers.unshift(overlayConfig)}}})});
$BV.Internal.define("injection.shared.replacements",[],["exports","domUtils"],function(a){$BV.Internal.extend(a,{determineReturnUrl:function(c,b){var d;if(b){d=b.submissionReturnUrl&&String(b.submissionReturnUrl)}else{d=this.getClientDivData("ReturnURL");if(d){d=d.replace(/^\s+/,"").replace(/\s+$/,"");if(d.indexOf("http%3A%2F%2F")==0){d=decodeURIComponent(d)}}}if(!d||d.match(/^\s*$/)){d=this.targetWindow().location.href}return c?encodeURIComponent(d):d},determineSubmissionUrl:function(d,c){var b;if(c){b=c.submissionContainerUrl}else{b=this.getClientDivData("SubmissionURL")}if(!b&&(d.inFrameSubmissionEnabled||(c&&c.allowSamePageSubmission))){b=this.targetWindow().location.href}return b?encodeURIComponent(this.stripAnchors(b)):""},determineSubmissionParameters:function(c){var b;if(c){b=c.submissionContainerUrlParameters}else{b=this.getClientDivData("SubmissionParameters")}return b?encodeURIComponent(b):null},determineCustomerId:function(b){var c;if(b){c=b.userToken}else{c=this.getClientDivData("CustomerID");if(c=="__USERID__"||c=="%5F%5FUSERID%5F%5F"){c=null}}return c?encodeURIComponent(c):null},determineSessionParameters:function(c){if(c){var b=c.submissionSessionParameters;return(typeof b==="string")&&b}else{return this.getClientDivData("SessionParams")}}})});
$BV.Internal.define("injection.shared",[],["exports","jquery.core","injection","injection.shared.replacements","requester"],function(a,e,b,d,c){e.extend(a,b,d,{getComponent:function(f){return this.divOverrides(f)||this.targetWindow().document.getElementById(f)},getReplacements:function(j,g){var l=[];l.push({pattern:/__CONFIGKEY__/g,replacement:g?c.getConfigKey(g):""});if(j.replaceDisplayTokens){l.push({pattern:/__RETURN__/g,replacement:this.determineReturnUrl(true,g)});l.push({pattern:/__BVSUBMISSIONURL__/g,replacement:this.determineSubmissionUrl(j,g)});l.push({pattern:/__BVSUBMISSIONPARAMETERS__/g,replacement:this.determineSubmissionParameters(g)});l.push({pattern:/__USERID__/g,replacement:this.determineCustomerId(g)})}if(j.replaceSessionParameters){var f=this.determineSessionParameters(g);if(f){f=f.replace(/"/g,"&quot;");l.push({pattern:/value=("?)__BVSESSIONPARAMS__("?)/g,replacement:'value="'+f+'"'})}}var k=[];for(var h=0;h<l.length;++h){if(l[h].replacement!=null){k.push(l[h])}}return k}})});
$BV.Internal.define("wrapperDivs",[window,document],["exports","jquery.core"],function(d,b,a,f){function c(h,g){if(g){var i=(typeof h==="string"?f("#"+h):h);f.each(g,function(j,k){if(k.charAt(0)=="#"){i.wrap('<div id="'+k.substring(1)+'" />')}else{if(k.charAt(0)=="."){i.wrap('<div class="'+k.substring(1)+'" />')}}})}}function e(h,g){if(g&&g.length>0){f("#"+h).parents().each(function(i,j){if(i+1==g.length){f(j).remove();return false}})}else{f("#"+h).remove()}}f.extend(a,{addWrapperDivs:c,removeWrappedContent:e})});
$BV.Internal.define("animationQueueing",[window,document],["exports","jquery.core"],function(e,b,g,h){var d=[];var f="#BVEventCapturingButtonID";var a="Resume Animations";var c="Pause Animations";h.extend(g,{isAnimationPausingEnabled:function(){return h(f)!=undefined&&h(f).attr("value")===a},enableAnimationPause:function(){h(f).attr("value",a);if(d.length==0){h(f).attr("disabled",true)}},disableAnimationPause:function(){h(f).attr("value",c);h(f).attr("disabled",false)},pushAnimationEvent:function(i,j){if(g.isAnimationPausingEnabled()){d.push(function(){i.apply(this,[].slice.call(j,0))});h(f).attr("disabled",false)}else{i.apply(this,[].slice.call(j,0))}},clearAnimationEventQueue:function(){if(!g.isAnimationPausingEnabled()){g.enableAnimationPause();return}g.disableAnimationPause();while(d.length>0){d.shift()()}}});e.bvAnimationEventQueue=g});
$BV.Internal.define("tooltip",[window],["exports","jquery.core","browserVersion","wrapperDivs","animationQueueing","domUtils"],function(e,c,f,d,a){function b(u,j,r,n,g,i,t,p){var w=null,m=null,q=null,h=null;t=t||"BVDI_BAPopup";p=p||f("body");function l(){bvAnimationEventQueue.pushAnimationEvent(function(){f("#"+u).animate(f.support.opacity?{opacity:"0"}:{},"fast",function(){f(this).remove();f("#"+u+"-IEControlsFrame").remove()})},arguments)}function v(x){var E=f("#"+m),F=f("#"+w),y=F.clone(true).attr("id",u).appendTo(p);d.addBrowserClasses({containerId:u});a.addWrapperDivs(u,x);y.bind("mouseenter",function(){k()});y.bind("mouseleave",function(){o(true)});var z=f(document.createElement("div")).css({position:"absolute",top:0,left:0}).appendTo("body"),C=z.position();z.remove();var B=E.offset().top-y.outerHeight()-C.top,A=E.offset().top-y.outerHeight()-C.top-g,D=E.offset().left+E.outerWidth()/2-y.outerWidth()/2-C.left,G=f(bvGetIEControlsFrame(u+"-IEControlsFrame",""));if(D+C.left<0){y.add(G).addClass(t+"LeftBoundCross")}else{if(D>f(e).width()-y.outerWidth()){y.add(G).addClass(t+"RightBoundCross")}}var I={top:A+"px",left:D+"px"},H={top:[B+"px","swing"]};if(f.support.opacity){I.opacity=0;H.opacity=1}y.css(I).show();G.css(I);G.css({position:"absolute",width:y.width()+"px",height:y.height()+"px"});G.insertBefore(y).show();y.add(G).animate(H,i)}function k(){clearTimeout(h);h=setTimeout(l,r)}function o(x){if(q!=null){clearTimeout(q);q=null;m=null;w=null;return}if(h){clearTimeout(h)}function y(){l();h=null;m=null;w=null}if(x){y()}else{h=setTimeout(y,n)}}function s(z,A,y,x){if(w==z&&!y){return}o(true);w=z;m=A;k();if(q==null){q=setTimeout(function(){v(x);q=null},j)}}return{show:s,hide:o}}c.newTooltip=b;c.defaultTooltip=b("BVTooltipID",500,10000,500,20,500);e.bvTooltip=c.defaultTooltip});
$BV.Internal.define("urlEnvironmentManagementService",[document],["exports","jquery.core","underscore","contentDisplay"],function(r,n,t,x,u){var e=false,p,f={},a={},k={},c={},j={},l=function(z){$BV.log(z)};function y(z){if(!z){z=function(){}}if(e){z()}else{e=true;q(z)}}function q(z){var A=g();x.each(f,function(C,B){A.allocate(B,function(E,D){if(!E){l("Failed to load bundle summary from "+B);return}a[B]=D});t.ajax({url:C.bundleSummaryUrl,dataType:"jsonp",success:function(D){A.release(B,D)}})});A.queue(function(){b();i();h(z)})}function h(z){var A=g();x.each(k,function(B,C){w(C,B.overrideServiceEnvironment,A).get()});A.queue(z)}function w(E,B,C){var D={};function z(){t.ajax({url:E+a[B].requestEnvironment.overrideGetUrlSuffix,dataType:"jsonp",data:D,success:function(F){C.release(E,F)}})}function A(){var I=false,J=Math.random().toString().substring(2),G="URLEnvironmentOverrideFrame"+J,H="URLEnvironmentOverrideForm"+J,K,F;K=r.createElement("iframe");K.setAttribute("name",G);K.setAttribute("src","javascript:false;");K.setAttribute("style","display:none;");K.addEventListener("load",function(){if(I){C.release(E);t(F).remove();t(K).remove()}},false);r.body.appendChild(K);t('<form action="'+E+a[B].requestEnvironment.overridePostUrlSuffix+'" target="'+G+'" name="'+H+'" method="POST" accept-charset="utf-8"><input type="hidden" name="src"/><input type="hidden" name="dest"/><input type="hidden" name="action"/></form>').appendTo("body");F=r.forms[H];I=true;x.each(D,function(M,L){F[L].value=M});F.submit()}return{addSource:function(F){D.src=F;return this},addDestination:function(F){D.dest=F;return this},get:function(){D.action="get";C.allocate(E,function(G,F){if(!G){l("Failed to load environment mappings for host "+E);return}k[E].mappings=F.mappings;d(E,F.mappings)});z()},set:function(){D.action="set";C.allocate(E,function(F){if(!F){l("Failed to set environment mapping for host "+E)}});if(t.browser.webkit){A()}else{z()}}}}function g(B){var z=0,D=[],A={},E=u.createTimer();B=B||5000;function C(){while(D.length){(D.shift())()}}return{allocate:function(G,F){z++;A[G]=F||t.noop},release:function(G){var F=[].slice.call(arguments,1);F.unshift(true);z--;A[G].apply(null,F);delete A[G];if(z<=0){E.clear();C()}},queue:function(F){if(z<=0){F()}else{D.push(F);E.set(function(){for(var G in A){A[G](false);delete A[G]}C()},B)}}}}function b(){var z=x(a).chain().values().first().value();var A=x(a).all(function(B){return x.isEqual(z.clients,B.clients)});if(!A){l("Supported host names differ between environments")}}function i(){if(!(p in a)){l("Environment data failed to load from "+p);p=null}x.each(a,o);o(a[p],p)}function o(B,A){if(!B){return}var z=B.hostSets[B.requestEnvironment.hostSet];c[A]=z;x.each(z,function(C){k[C]=k[C]||{};k[C].overrideServiceEnvironment=A})}function d(A,z){x.each(z,function(C){var B=C.source;if(!x(c[B]||[]).contains(A)){return}j[B]=j[B]||{};j[B][C.destination]=true})}function s(B,A,z){var C=g();x.each(c[B],function(D){w(D,k[D].overrideServiceEnvironment,C).addSource(B).addDestination(A).set()});C.queue(z||t.noop)}function v(A,z){var B=g();x.each(c[A],function(C){w(C,k[C].overrideServiceEnvironment,B).addSource(A).set()});B.queue(z||t.noop)}function m(z){var A=g();x.each(k,function(B,C){w(C,B.overrideServiceEnvironment,A).set()});A.queue(z||t.noop)}n.getEnvironmentMappings=function(z){y(function(){z(j)})};n.setEnvironmentMapping=function(B,A,z){y(function(){s(B,A,z)})};n.clearEnvironmentMapping=function(A,z){y(function(){v(A,z)})};n.clearEnvironmentMappings=function(z){y(function(){m(z)})};n.prefetchEnvironmentData=function(z){y(z)};n.setNotificationHandler=function(z){l=z};n.initService=function(z){p=z.preferredEnvironmentName,f=z.environments}});
$BV.Internal.define("urlEnvironmentStatus",[window],["exports","jquery.core","urlEnvironmentManagementService"],function(j,a,i,h){var c="urlEnvironmentStatus",f=false,b,e,k;$BV.Test=$BV.Test||{};$BV.Test.setEnvToolbarEnabled=l;k=j.$BV_Test_setEnvToolbarEnabled!==false;function l(m){k=m;if(k){i("#BVUESExpanded").show()}else{i("#BVUESExpanded, #BVUESCollapsed").hide()}return k}function d(m){if(!e){e=m.destinationOnExit}if(f){return}f=true;$BV.Internal.callAjax(m.url);b=m.source;h.initService({preferredEnvironmentName:b,environments:m.environments})}function g(){var p=i("#BVUESExpanded"),n=i("#BVUESCollapsed"),o=i("#BVUESExitTestingEnvironment"),m={top:0,opacity:1};if(k){p.animate(m,1000)}else{p.css(m).hide()}o.css({opacity:0.85}).mousedown(function(){i(this).css({backgroundPosition:"0 -11px"})}).mouseup(function(){i(this).css({backgroundPosition:"0 0",opacity:0.75})}).mouseover(function(){i(this).stop(true,true).animate({opacity:1},400)}).mouseout(function(){i(this).stop(true,true).animate({opacity:0.85},400)});i("#BVUESExpanded #BVUESToggle").css({opacity:0.75}).click(function(){n.css({top:"-30px"});p.animate({top:"-100px",opacity:"hide"},600,function(){i("#BVUESCollapsed").animate({top:"-4px",opacity:"show"},400)})}).mouseover(function(){i(this).stop(true,true).animate({opacity:1},400)}).mouseout(function(){i(this).stop(true,true).animate({opacity:0.75},400)});i("#BVUESCollapsed #BVUESToggle").css({opacity:0.75}).click(function(){n.animate({top:"-30px",opacity:"hide"},400,function(){p.animate({top:"0",opacity:"show"},600)})}).mouseover(function(){i(this).stop(true,true).animate({opacity:1},200);n.stop(true,true).animate({top:"2px"},200)}).mouseout(function(){i(this).stop(true,true).animate({opacity:0.75},200);n.stop(true,true).animate({top:"-4px"},200)});o.click(function(){o.fadeOut("fast",function(){i("#BVUESExitingTestingEnvironment").fadeIn("fast")});h.clearEnvironmentMapping(b,function(){if(!!e){j.location=e}else{j.location.reload()}});return false})}a.loadedContent=function(m){i(m).appendTo("body");g()};a.bindToSubmitFrame=a.bindToProductPickerFrame=function(m){m.listen(c+".onPageLoad",function(o,n){a.onPageLoad(o,n)})};a.connectFromSubmitFrame=a.connectFromProductPickerFrame=function(m){a.onPageLoad=function(o,n){m.call(c+".onPageLoad",o,n)}};a.onPageLoad=function(n,m){if(n=="injectStatus"){d(m)}}});
